/*! For license information please see 1116.1116.js.LICENSE.txt */
(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[1116],{7986:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBlockCacheMiddleware=void 0;const n=r(91280),i=r(47045),o=r(62836),s=i.createModuleLogger(i.projectLogger,"block-cache"),a=[void 0,null,"<nil>"];class u{constructor(){this.cache={}}getBlockCache(e){const t=Number.parseInt(e,16);let r=this.cache[t];if(!r){const e={};this.cache[t]=e,r=e}return r}async get(e,t){const r=this.getBlockCache(t),n=o.cacheIdentifierForRequest(e,!0);return n?r[n]:void 0}async set(e,t,r){if(!this.canCacheResult(e,r))return;const n=o.cacheIdentifierForRequest(e,!0);n&&(this.getBlockCache(t)[n]=r)}canCacheRequest(e){return!!o.canCache(e.method)&&"pending"!==o.blockTagForRequest(e)}canCacheResult(e,t){return!(a.includes(t)||e.method&&["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)&&(!t||!t.blockHash||"0x0000000000000000000000000000000000000000000000000000000000000000"===t.blockHash))}clearBefore(e){const t=Number.parseInt(e,16);Object.keys(this.cache).map(Number).filter((e=>e<t)).forEach((e=>delete this.cache[e]))}}t.createBlockCacheMiddleware=function({blockTracker:e}={}){if(!e)throw new Error("createBlockCacheMiddleware - No PollingBlockTracker specified");const t=new u,r={[o.CacheStrategy.Permanent]:t,[o.CacheStrategy.Block]:t,[o.CacheStrategy.Fork]:t,[o.CacheStrategy.Never]:void 0};return n.createAsyncMiddleware((async(n,i,a)=>{if(n.skipCache)return a();const u=o.cacheTypeForMethod(n.method),c=r[u];if(!c)return a();if(!c.canCacheRequest(n))return a();const l=o.blockTagForRequest(n),h=l&&"string"==typeof l?l:"latest";let f;if(s("blockTag = %o, req = %o",h,n),"earliest"===h)f="0x00";else if("latest"===h){s("Fetching latest block number to determine cache key");const r=await e.getLatestBlock();s("Clearing values stored under block numbers before %o",r),t.clearBefore(r),f=r}else f=h;const d=await c.get(n,f);void 0===d?(s("No cache stored under block number %o, carrying request forward",f),await a(),s("Populating cache with",i),await c.set(n,f,i.result)):(s("Cache hit, reusing cache result stored under block number %o",f),i.result=d)}))}},43601:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBlockRefRewriteMiddleware=void 0;const n=r(91280),i=r(62836);t.createBlockRefRewriteMiddleware=function({blockTracker:e}={}){if(!e)throw Error('BlockRefRewriteMiddleware - mandatory "blockTracker" option is missing.');return n.createAsyncMiddleware((async(t,r,n)=>{const o=i.blockTagParamIndex(t.method);if(void 0===o)return n();let s=Array.isArray(t.params)?t.params[o]:void 0;if(void 0===s&&(s="latest"),"latest"!==s)return n();const a=await e.getLatestBlock();return Array.isArray(t.params)&&(t.params[o]=a),n()}))}},5214:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createBlockRefMiddleware=void 0;const i=r(91280),o=n(r(58138)),s=n(r(42378)),a=r(47045),u=r(62836),c=a.createModuleLogger(a.projectLogger,"block-ref");t.createBlockRefMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('BlockRefMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('BlockRefMiddleware - mandatory "blockTracker" option is missing.');return i.createAsyncMiddleware((async(r,n,i)=>{var a;const l=u.blockTagParamIndex(r.method);if(void 0===l)return i();if("latest"!==(Array.isArray(r.params)&&null!==(a=r.params[l])&&void 0!==a?a:"latest"))return c('blockRef is not "latest", carrying request forward'),i();const h=await t.getLatestBlock();c(`blockRef is "latest", setting param ${l} to latest block ${h}`);const f=o.default(r);Array.isArray(f.params)&&(f.params[l]=h),c("Performing another request %o",f);const d=await s.default(e.sendAsync).call(e,f);n.result=d.result,n.error=d.error}))}},54006:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBlockTrackerInspectorMiddleware=void 0;const n=r(91280),i=r(47045),o=i.createModuleLogger(i.projectLogger,"block-tracker-inspector"),s=["eth_getTransactionByHash","eth_getTransactionReceipt"];t.createBlockTrackerInspectorMiddleware=function({blockTracker:e}){return n.createAsyncMiddleware((async(t,r,n)=>{if(!s.includes(t.method))return n();await n();const i=function(e){const{result:t}=e;var r;if(t&&"object"==typeof t&&(r=t,Object.hasOwnProperty.call(r,"blockNumber")))return"string"==typeof t.blockNumber?t.blockNumber:void 0}(r);i&&(o("res.result.blockNumber exists, proceeding. res = %o",r),Number.parseInt(i,16)>Number.parseInt(e.getCurrentBlock(),16)&&(o("blockNumber from response is greater than current block number, refreshing current block number"),await e.checkForLatestBlock()))}))}},36477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFetchConfigFromReq=t.createFetchMiddleware=void 0;const n=r(91280),i=r(58094),o=r(50355),s=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function a(e){switch(e.status){case 405:throw i.ethErrors.rpc.methodNotFound();case 418:throw i.ethErrors.rpc.internal({message:"Request is being rate limited."});case 503:case 504:throw function(){let e="Gateway timeout. The request took too long to process. ";return e+="This can happen when querying logs over too wide a block range.",i.ethErrors.rpc.internal({message:"Gateway timeout. The request took too long to process. This can happen when querying logs over too wide a block range."})}()}}function u(e,t){if(200!==e.status)throw i.ethErrors.rpc.internal({message:`Non-200 status code: '${e.status}'`,data:t});if(t.error)throw i.ethErrors.rpc.internal({data:t.error});return t.result}function c({btoa:e,req:t,rpcUrl:r,originHttpHeaderKey:n}){const i=new URL(r),o=function(e){let t="";return t+=e.protocol,t+=`//${e.hostname}`,e.port&&(t+=`:${e.port}`),t+=`${e.pathname}`,t+=`${e.search}`,t}(i),s={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},a=t.origin,u={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)};if(i.username&&i.password){const t=e(`${i.username}:${i.password}`);u.headers.Authorization=`Basic ${t}`}return n&&a&&(u.headers[n]=a),{fetchUrl:o,fetchParams:u}}t.createFetchMiddleware=function({btoa:e,fetch:t,rpcUrl:r,originHttpHeaderKey:i}){return n.createAsyncMiddleware((async(n,l,h)=>{const{fetchUrl:f,fetchParams:d}=c({btoa:e,req:n,rpcUrl:r,originHttpHeaderKey:i});for(let e=0;e<5;e++){try{const e=await t(f,d);a(e);const r=await e.text();let n;try{n=JSON.parse(r)}catch(e){throw new Error(`FetchMiddleware - failed to parse response body: "${r}"`)}const i=u(e,n);return void(l.result=i)}catch(e){const t=e.toString();if(!s.some((e=>t.includes(e))))throw e}await o.timeout(1e3)}}))},t.createFetchConfigFromReq=c},69234:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7986),t),i(r(43601),t),i(r(5214),t),i(r(54006),t),i(r(36477),t),i(r(65421),t),i(r(60093),t),i(r(56962),t),i(r(41498),t)},65421:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createInflightCacheMiddleware=void 0;const i=n(r(58138)),o=r(91280),s=r(47045),a=r(62836),u=s.createModuleLogger(s.projectLogger,"inflight-cache");t.createInflightCacheMiddleware=function(){const e={};return o.createAsyncMiddleware((async(t,r,n)=>{if(t.skipCache)return n();const o=a.cacheIdentifierForRequest(t);if(!o)return u("Request is not cacheable, proceeding. req = %o",t),n();let s=e[o];if(s)return u("Running %i handler(s) for request %o",s.length,t),void await function(e,t){const{resolve:r,promise:n}=function(){let e;const t=new Promise((t=>{e=t}));return{resolve:e,promise:t}}();return t.push((t=>{e.result=i.default(t.result),e.error=i.default(t.error),r()})),n}(r,s);s=[],e[o]=s,u("Carrying original request forward %o",t),await n(),delete e[o],u("Running %i collected handler(s) for request %o",s.length,t),function(e,t){setTimeout((()=>{t.forEach((t=>{try{t(e)}catch(e){console.error(e)}}))}))}(r,s)}))}},47045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const n=r(22169);Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),t.projectLogger=n.createProjectLogger("eth-json-rpc-middleware")},60093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethersProviderAsMiddleware=t.providerAsMiddleware=void 0,t.providerAsMiddleware=function(e){return(t,r,n,i)=>{e.sendAsync(t,((e,t)=>e instanceof Error?i(e):(Object.assign(r,t),i())))}},t.ethersProviderAsMiddleware=function(e){return(t,r,n,i)=>{e.send(t,((e,t)=>e?i(e):(Object.assign(r,t),i())))}}},56962:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createRetryOnEmptyMiddleware=void 0;const i=n(r(58138)),o=r(91280),s=n(r(42378)),a=r(47045),u=r(62836),c=r(50355),l=a.createModuleLogger(a.projectLogger,"retry-on-empty"),h=[void 0,null,"<nil>"];t.createRetryOnEmptyMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('RetryOnEmptyMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('RetryOnEmptyMiddleware - mandatory "blockTracker" option is missing.');return o.createAsyncMiddleware((async(r,n,o)=>{const a=u.blockTagParamIndex(r.method);if(void 0===a)return o();let f=Array.isArray(r.params)?r.params[a]:void 0;if(void 0===f&&(f="latest"),["latest","pending"].includes(f))return o();const d=Number.parseInt(f.slice(2),16);if(Number.isNaN(d))return o();const p=await t.getLatestBlock(),m=Number.parseInt(p.slice(2),16);if(d>m)return l("Requested block number %o is higher than latest block number %o, falling through to original request",d,m),o();l("Requested block number %o is not higher than latest block number %o, trying request until non-empty response is received",d,m);const g=i.default(r),v=await async function(e,t){for(let e=0;e<10;e++)try{return await t()}catch(t){l("(call %i) Request failed, waiting 1s to retry again...",e+1),await c.timeout(1e3)}throw l("Retries exhausted"),new Error("RetryOnEmptyMiddleware - retries exhausted")}(0,(async()=>{l("Performing request %o",g);const t=await s.default(e.sendAsync).call(e,g);if(l("Response is %o",t),h.includes(t.result))throw new Error(`RetryOnEmptyMiddleware - empty response "${JSON.stringify(t)}" for request "${JSON.stringify(g)}"`);return t}));l("Copying result %o and error %o",v.result,v.error),n.result=v.result,n.error=v.error}))}},62836:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cacheTypeForMethod=t.blockTagParamIndex=t.blockTagForRequest=t.canCache=t.cacheIdentifierForRequest=t.CacheStrategy=void 0;const n=r(76788).configure({bigint:!1,circularValue:Error});var i;function o(e){return a(e)!==i.Never}function s(e){switch(e){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function a(e){switch(e){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return i.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return i.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return i.Block;default:return i.Never}}!function(e){e.Block="block",e.Fork="fork",e.Never="never",e.Permanent="perma"}(i=t.CacheStrategy||(t.CacheStrategy={})),t.cacheIdentifierForRequest=function(e,t){var r;const i=t?function(e){if(!e.params)return[];const t=s(e.method);return void 0===t||!Array.isArray(e.params)||t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}(e):null!==(r=e.params)&&void 0!==r?r:[];return o(e.method)?`${e.method}:${n(i)}`:null},t.canCache=o,t.blockTagForRequest=function(e){if(!e.params)return;const t=s(e.method);return void 0===t||!Array.isArray(e.params)||t>=e.params.length?void 0:e.params[t]},t.blockTagParamIndex=s,t.cacheTypeForMethod=a},50355:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=void 0,t.timeout=function(e){return new Promise((t=>setTimeout(t,e)))}},41498:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createWalletMiddleware=void 0;const s=r(91280),a=o(r(50539)),u=r(58094);function c(e){return 42===e.length}t.createWalletMiddleware=function({getAccounts:e,processDecryptMessage:t,processEncryptionPublicKey:r,processEthSignMessage:n,processPersonalMessage:i,processTransaction:o,processSignTransaction:l,processTypedMessage:h,processTypedMessageV3:f,processTypedMessageV4:d}){if(!e)throw new Error("opts.getAccounts is required");return s.createScaffoldMiddleware({eth_accounts:s.createAsyncMiddleware((async function(t,r){r.result=await e(t)})),eth_coinbase:s.createAsyncMiddleware((async function(t,r){const n=await e(t);r.result=n[0]||null})),eth_sendTransaction:s.createAsyncMiddleware((async function(e,t){if(!o)throw u.ethErrors.rpc.methodNotSupported();const r=e.params[0]||{};r.from=await p(r.from,e),t.result=await o(r,e)})),eth_signTransaction:s.createAsyncMiddleware((async function(e,t){if(!l)throw u.ethErrors.rpc.methodNotSupported();const r=e.params[0]||{};r.from=await p(r.from,e),t.result=await l(r,e)})),eth_sign:s.createAsyncMiddleware((async function(e,t){if(!n)throw u.ethErrors.rpc.methodNotSupported();const r=await p(e.params[0],e),i=e.params[1],o=e.params[2]||{},s=Object.assign(Object.assign({},o),{from:r,data:i});t.result=await n(s,e)})),eth_signTypedData:s.createAsyncMiddleware((async function(e,t){if(!h)throw u.ethErrors.rpc.methodNotSupported();const r=e.params[0],n=await p(e.params[1],e),i=e.params[2]||{},o=Object.assign(Object.assign({},i),{from:n,data:r});t.result=await h(o,e,"V1")})),eth_signTypedData_v3:s.createAsyncMiddleware((async function(e,t){if(!f)throw u.ethErrors.rpc.methodNotSupported();const r=await p(e.params[0],e),n={data:e.params[1],from:r,version:"V3"};t.result=await f(n,e,"V3")})),eth_signTypedData_v4:s.createAsyncMiddleware((async function(e,t){if(!d)throw u.ethErrors.rpc.methodNotSupported();const r=await p(e.params[0],e),n={data:e.params[1],from:r,version:"V4"};t.result=await d(n,e,"V4")})),personal_sign:s.createAsyncMiddleware((async function(e,t){if(!i)throw u.ethErrors.rpc.methodNotSupported();const r=e.params[0],n=e.params[1],o=e.params[2]||{};let s,a;if(c(r)&&!c(n)){let e="The eth_personalSign method requires params ordered ";e+="[message, address]. This was previously handled incorrectly, ",e+="and has been corrected automatically. ",e+="Please switch this param order for smooth behavior in the future.",t.warning=e,s=r,a=n}else a=r,s=n;s=await p(s,e);const l=Object.assign(Object.assign({},o),{from:s,data:a});t.result=await i(l,e)})),eth_getEncryptionPublicKey:s.createAsyncMiddleware((async function(e,t){if(!r)throw u.ethErrors.rpc.methodNotSupported();const n=await p(e.params[0],e);t.result=await r(n,e)})),eth_decrypt:s.createAsyncMiddleware((async function(e,r){if(!t)throw u.ethErrors.rpc.methodNotSupported();const n=e.params[0],i=await p(e.params[1],e),o=e.params[2]||{},s=Object.assign(Object.assign({},o),{from:i,data:n});r.result=await t(s,e)})),personal_ecRecover:s.createAsyncMiddleware((async function(e,t){const r=e.params[0],n=e.params[1],i=a.recoverPersonalSignature({data:r,signature:n});t.result=i}))});async function p(t,r){if("string"==typeof t&&t.length>0&&c(t)){const n=(await e(r)).map((e=>e.toLowerCase())),i=t.toLowerCase();if(n.includes(i))return i;throw u.ethErrors.provider.unauthorized()}throw u.ethErrors.rpc.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}}},1231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertExhaustive=t.assertStruct=t.assert=t.AssertionError=void 0;const n=r(840);function i(e,t){return r=e,Boolean("string"==typeof(null===(i=null===(n=null==r?void 0:r.prototype)||void 0===n?void 0:n.constructor)||void 0===i?void 0:i.name))?new e({message:t}):e({message:t});var r,n,i}class o extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}t.AssertionError=o,t.assert=function(e,t="Assertion failed.",r=o){if(!e){if(t instanceof Error)throw t;throw i(r,t)}},t.assertStruct=function(e,t,r="Assertion failed",s=o){try{(0,n.assert)(e,t)}catch(e){throw i(s,`${r}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},t.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}},79092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64=void 0;const n=r(840),i=r(1231);t.base64=(e,t={})=>{var r,o;const s=null!==(r=t.paddingRequired)&&void 0!==r&&r,a=null!==(o=t.characterSet)&&void 0!==o?o:"base64";let u,c;return"base64"===a?u=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===a),u=String.raw`[-_A-Za-z0-9]`),c=s?new RegExp(`^(?:${u}{4})*(?:${u}{3}=|${u}{2}==)?$`,"u"):new RegExp(`^(?:${u}{4})*(?:${u}{2,3}|${u}{3}=|${u}{2}==)?$`,"u"),(0,n.pattern)(e,c)}},16033:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createDataView=t.concatBytes=t.valueToBytes=t.stringToBytes=t.numberToBytes=t.signedBigIntToBytes=t.bigIntToBytes=t.hexToBytes=t.bytesToString=t.bytesToNumber=t.bytesToSignedBigInt=t.bytesToBigInt=t.bytesToHex=t.assertIsBytes=t.isBytes=void 0;const i=r(1231),o=r(17494),s=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function a(e){return e instanceof Uint8Array}function u(e){(0,i.assert)(a(e),"Value must be a Uint8Array.")}function c(e){if(u(e),0===e.length)return"0x";const t=s(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,o.add0x)(r.join(""))}function l(e){u(e);const t=c(e);return BigInt(t)}function h(e){var t;if("0x"===(null===(t=null==e?void 0:e.toLowerCase)||void 0===t?void 0:t.call(e)))return new Uint8Array;(0,o.assertIsHexString)(e);const r=(0,o.remove0x)(e).toLowerCase(),n=r.length%2==0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let e=0;e<i.length;e++){const t=n.charCodeAt(2*e),r=n.charCodeAt(2*e+1),o=t-(t<58?48:87),s=r-(r<58?48:87);i[e]=16*o+s}return i}function f(e){return(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)(e>=BigInt(0),"Value must be a non-negative bigint."),h(e.toString(16))}function d(e){return(0,i.assert)("number"==typeof e,"Value must be a number."),(0,i.assert)(e>=0,"Value must be a non-negative number."),(0,i.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead."),h(e.toString(16))}function p(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function m(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return d(e);if("string"==typeof e)return e.startsWith("0x")?h(e):p(e);if(a(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}t.isBytes=a,t.assertIsBytes=u,t.bytesToHex=c,t.bytesToBigInt=l,t.bytesToSignedBigInt=function(e){u(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},t.bytesToNumber=function(e){u(e);const t=l(e);return(0,i.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},t.bytesToString=function(e){return u(e),(new TextDecoder).decode(e)},t.hexToBytes=h,t.bigIntToBytes=f,t.signedBigIntToBytes=function(e,t){(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)("number"==typeof t,"Byte length must be a number."),(0,i.assert)(t>0,"Byte length must be greater than 0."),(0,i.assert)(function(e,t){(0,i.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let e=0;e<n.length;e++)n[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()},t.numberToBytes=d,t.stringToBytes=p,t.valueToBytes=m,t.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const i=m(e[n]);t[n]=i,r+=i.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},t.createDataView=function(e){if(void 0!==n&&e instanceof n){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}},10961:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStruct=void 0;const n=r(840),i=r(79092);t.ChecksumStruct=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)},30140:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHex=t.createBytes=t.createBigInt=t.createNumber=void 0;const n=r(840),i=r(1231),o=r(16033),s=r(17494),a=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),s.StrictHexStruct]),u=(0,n.coerce)((0,n.number)(),a,Number),c=(0,n.coerce)((0,n.bigint)(),a,BigInt),l=((0,n.union)([s.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([s.StrictHexStruct]),o.hexToBytes)),h=(0,n.coerce)(s.StrictHexStruct,(0,n.instance)(Uint8Array),o.bytesToHex);t.createNumber=function(e){try{const t=(0,n.create)(e,u);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},t.createBigInt=function(e){try{return(0,n.create)(e,c)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},t.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},t.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,h)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}},61965:function(e,t){"use strict";var r,n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.FrozenSet=t.FrozenMap=void 0;class s{constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return o(this,r,"f")[Symbol.iterator]()}entries(){return o(this,r,"f").entries()}forEach(e,t){return o(this,r,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}get(e){return o(this,r,"f").get(e)}has(e){return o(this,r,"f").has(e)}keys(){return o(this,r,"f").keys()}values(){return o(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}t.FrozenMap=s;class a{constructor(e){n.set(this,void 0),i(this,n,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return o(this,n,"f")[Symbol.iterator]()}entries(){return o(this,n,"f").entries()}forEach(e,t){return o(this,n,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}has(e){return o(this,n,"f").has(e)}keys(){return o(this,n,"f").keys()}values(){return o(this,n,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}t.FrozenSet=a,Object.freeze(s),Object.freeze(s.prototype),Object.freeze(a),Object.freeze(a.prototype)},17494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const n=r(840),i=r(1231);function o(e){return(0,n.is)(e,t.HexStruct)}function s(e){return(0,n.is)(e,t.StrictHexStruct)}t.HexStruct=(0,n.pattern)((0,n.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]+$/iu),t.isHexString=o,t.isStrictHexString=s,t.assertIsHexString=function(e){(0,i.assert)(o(e),"Value must be a hexadecimal string.")},t.assertIsStrictHexString=function(e){(0,i.assert)(s(e),'Value must be a hexadecimal string, starting with "0x".')},t.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},t.remove0x=function(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}},22169:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1231),t),i(r(79092),t),i(r(16033),t),i(r(10961),t),i(r(30140),t),i(r(61965),t),i(r(17494),t),i(r(17862),t),i(r(45965),t),i(r(29690),t),i(r(74745),t),i(r(12535),t),i(r(88192),t),i(r(56558),t)},17862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const n=r(840),i=r(1231),o=r(29690);function s(e,t=!1){const r=new Set;return function e(t,n){if(void 0===t)return[!1,0];if(null===t)return[!0,n?0:o.JsonSize.Null];const i=typeof t;try{if("function"===i)return[!1,0];if("string"===i||t instanceof String)return[!0,n?0:(0,o.calculateStringSize)(t)+2*o.JsonSize.Quote];if("boolean"===i||t instanceof Boolean)return n?[!0,0]:[!0,1==t?o.JsonSize.True:o.JsonSize.False];if("number"===i||t instanceof Number)return n?[!0,0]:[!0,(0,o.calculateNumberSize)(t)];if(t instanceof Date)return n?[!0,0]:[!0,isNaN(t.getDate())?o.JsonSize.Null:o.JsonSize.Date+2*o.JsonSize.Quote]}catch(e){return[!1,0]}if(!(0,o.isPlainObject)(t)&&!Array.isArray(t))return[!1,0];if(r.has(t))return[!1,0];r.add(t);try{return[!0,Object.entries(t).reduce(((i,[s,a],u,c)=>{let[l,h]=e(a,n);if(!l)throw new Error("JSON validation did not pass. Validation process stopped.");return r.delete(t),n?0:i+(Array.isArray(t)?0:s.length+o.JsonSize.Comma+2*o.JsonSize.Colon)+h+(u<c.length-1?o.JsonSize.Comma:0)}),n?0:2*o.JsonSize.Wrapper)]}catch(e){return[!1,0]}}(e,t)}t.JsonStruct=(0,n.define)("Json",(e=>{const[t]=s(e,!0);return!!t||"Expected a valid JSON-serializable value"})),t.isValidJson=function(e){return(0,n.is)(e,t.JsonStruct)},t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,n.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),t.JsonRpcErrorStruct=(0,n.object)({code:(0,n.integer)(),message:(0,n.string)(),data:(0,n.optional)(t.JsonStruct),stack:(0,n.optional)((0,n.string)())}),t.JsonRpcParamsStruct=(0,n.optional)((0,n.union)([(0,n.record)((0,n.string)(),t.JsonStruct),(0,n.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,n.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,n.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,n.omit)(t.JsonRpcRequestStruct,["id"]),t.isJsonRpcNotification=function(e){return(0,n.is)(e,t.JsonRpcNotificationStruct)},t.assertIsJsonRpcNotification=function(e,r){(0,i.assertStruct)(e,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",r)},t.isJsonRpcRequest=function(e){return(0,n.is)(e,t.JsonRpcRequestStruct)},t.assertIsJsonRpcRequest=function(e,r){(0,i.assertStruct)(e,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",r)},t.PendingJsonRpcResponseStruct=(0,n.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,n.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,n.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,n.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]),t.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,t.PendingJsonRpcResponseStruct)},t.assertIsPendingJsonRpcResponse=function(e,r){(0,i.assertStruct)(e,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",r)},t.isJsonRpcResponse=function(e){return(0,n.is)(e,t.JsonRpcResponseStruct)},t.assertIsJsonRpcResponse=function(e,r){(0,i.assertStruct)(e,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",r)},t.isJsonRpcSuccess=function(e){return(0,n.is)(e,t.JsonRpcSuccessStruct)},t.assertIsJsonRpcSuccess=function(e,r){(0,i.assertStruct)(e,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",r)},t.isJsonRpcFailure=function(e){return(0,n.is)(e,t.JsonRpcFailureStruct)},t.assertIsJsonRpcFailure=function(e,r){(0,i.assertStruct)(e,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",r)},t.isJsonRpcError=function(e){return(0,n.is)(e,t.JsonRpcErrorStruct)},t.assertIsJsonRpcError=function(e,r){(0,i.assertStruct)(e,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",r)},t.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},e);return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)},t.validateJsonAndGetSize=s},45965:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.createProjectLogger=void 0;const i=(0,n(r(25130)).default)("metamask");t.createProjectLogger=function(e){return i.extend(e)},t.createModuleLogger=function(e,t){return e.extend(t)}},29690:(e,t)=>{"use strict";function r(e){return e.charCodeAt(0)<=127}var n;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0,t.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},t.isNullOrUndefined=function(e){return null==e},t.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)},t.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),(n=t.JsonSize||(t.JsonSize={}))[n.Null=4]="Null",n[n.Comma=1]="Comma",n[n.Wrapper=1]="Wrapper",n[n.True=4]="True",n[n.False=5]="False",n[n.Quote=1]="Quote",n[n.Colon=1]="Colon",n[n.Date=24]="Date",t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},t.isASCII=r,t.calculateStringSize=function(e){var n;return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(null!==(n=e.match(t.ESCAPE_CHARACTERS_REGEXP))&&void 0!==n?n:[]).length},t.calculateNumberSize=function(e){return e.toString().length}},74745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBigInt=t.hexToNumber=t.bigIntToHex=t.numberToHex=void 0;const n=r(1231),i=r(17494);t.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16))),t.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16))),t.hexToNumber=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},t.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))},12535:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},88192:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,(r=t.Duration||(t.Duration={}))[r.Millisecond=1]="Millisecond",r[r.Second=1e3]="Second",r[r.Minute=6e4]="Minute",r[r.Hour=36e5]="Hour",r[r.Day=864e5]="Day",r[r.Week=6048e5]="Week",r[r.Year=31536e6]="Year";const n=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};t.inMilliseconds=function(e,t){return n(e,"count"),e*t},t.timeSince=function(e){return n(e,"timestamp"),Date.now()-e}},56558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const n=r(22464),i=r(840),o=r(1231);t.VersionStruct=(0,i.refine)((0,i.string)(),"Version",(e=>null!==(0,n.valid)(e)||`Expected SemVer version, got "${e}"`)),t.VersionRangeStruct=(0,i.refine)((0,i.string)(),"Version range",(e=>null!==(0,n.validRange)(e)||`Expected SemVer range, got "${e}"`)),t.isValidSemVerVersion=function(e){return(0,i.is)(e,t.VersionStruct)},t.isValidSemVerRange=function(e){return(0,i.is)(e,t.VersionRangeStruct)},t.assertIsSemVerVersion=function(e){(0,o.assertStruct)(e,t.VersionStruct)},t.assertIsSemVerRange=function(e){(0,o.assertStruct)(e,t.VersionRangeStruct)},t.gtVersion=function(e,t){return(0,n.gt)(e,t)},t.gtRange=function(e,t){return(0,n.gtr)(e,t)},t.satisfiesVersionRange=function(e,t){return(0,n.satisfies)(e,t,{includePrerelease:!0})}},76788:(e,t)=>{"use strict";const{hasOwnProperty:r}=Object.prototype,n=p();n.configure=p,n.stringify=n,n.default=n,t.stringify=n,t.configure=p,e.exports=n;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function o(e){return e.length<5e3&&!i.test(e)?`"${e}"`:JSON.stringify(e)}function s(e){if(e.length>200)return e.sort();for(let t=1;t<e.length;t++){const r=e[t];let n=t;for(;0!==n&&e[n-1]>r;)e[n]=e[n-1],n--;e[n]=r}return e}const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function u(e){return void 0!==a.call(e)&&0!==e.length}function c(e,t,r){e.length<r&&(r=e.length);const n=","===t?"":" ";let i=`"0":${n}${e[0]}`;for(let o=1;o<r;o++)i+=`${t}"${o}":${n}${e[o]}`;return i}function l(e,t){let n;if(r.call(e,t)&&(n=e[t],"boolean"!=typeof n))throw new TypeError(`The "${t}" argument must be of type boolean`);return void 0===n||n}function h(e,t){let n;if(r.call(e,t)){if(n=e[t],"number"!=typeof n)throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(n))throw new TypeError(`The "${t}" argument must be an integer`);if(n<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return void 0===n?1/0:n}function f(e){return 1===e?"1 item":`${e} items`}function d(e){const t=new Set;for(const r of e)"string"!=typeof r&&"number"!=typeof r||t.add(String(r));return t}function p(e){const t=function(e){if(r.call(e,"strict")){const t=e.strict;if("boolean"!=typeof t)throw new TypeError('The "strict" argument must be of type boolean');if(t)return e=>{let t="Object can not safely be stringified. Received type "+typeof e;throw"function"!=typeof e&&(t+=` (${e.toString()})`),new Error(t)}}}(e={...e});t&&(void 0===e.bigint&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));const n=function(e){if(r.call(e,"circularValue")){const t=e.circularValue;if("string"==typeof t)return`"${t}"`;if(null==t)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}(e),i=l(e,"bigint"),a=l(e,"deterministic"),p=h(e,"maximumDepth"),m=h(e,"maximumBreadth");function g(e,r,c,l,h,d){let v=r[e];switch("object"==typeof v&&null!==v&&"function"==typeof v.toJSON&&(v=v.toJSON(e)),v=l.call(r,e,v),typeof v){case"string":return o(v);case"object":{if(null===v)return"null";if(-1!==c.indexOf(v))return n;let e="",t=",";const r=d;if(Array.isArray(v)){if(0===v.length)return"[]";if(p<c.length+1)return'"[Array]"';c.push(v),""!==h&&(e+=`\n${d+=h}`,t=`,\n${d}`);const n=Math.min(v.length,m);let i=0;for(;i<n-1;i++){const r=g(String(i),v,c,l,h,d);e+=void 0!==r?r:"null",e+=t}const o=g(String(i),v,c,l,h,d);return e+=void 0!==o?o:"null",v.length-1>m&&(e+=`${t}"... ${f(v.length-m-1)} not stringified"`),""!==h&&(e+=`\n${r}`),c.pop(),`[${e}]`}let i=Object.keys(v);const y=i.length;if(0===y)return"{}";if(p<c.length+1)return'"[Object]"';let w="",_="";""!==h&&(t=`,\n${d+=h}`,w=" ");const E=Math.min(y,m);a&&!u(v)&&(i=s(i)),c.push(v);for(let r=0;r<E;r++){const n=i[r],s=g(n,v,c,l,h,d);void 0!==s&&(e+=`${_}${o(n)}:${w}${s}`,_=t)}return y>m&&(e+=`${_}"...":${w}"${f(y-m)} not stringified"`,_=t),""!==h&&_.length>1&&(e=`\n${d}${e}\n${r}`),c.pop(),`{${e}}`}case"number":return isFinite(v)?String(v):t?t(v):"null";case"boolean":return!0===v?"true":"false";case"undefined":return;case"bigint":if(i)return String(v);default:return t?t(v):void 0}}function v(e,r,s,a,u,c){switch("object"==typeof r&&null!==r&&"function"==typeof r.toJSON&&(r=r.toJSON(e)),typeof r){case"string":return o(r);case"object":{if(null===r)return"null";if(-1!==s.indexOf(r))return n;const e=c;let t="",i=",";if(Array.isArray(r)){if(0===r.length)return"[]";if(p<s.length+1)return'"[Array]"';s.push(r),""!==u&&(t+=`\n${c+=u}`,i=`,\n${c}`);const n=Math.min(r.length,m);let o=0;for(;o<n-1;o++){const e=v(String(o),r[o],s,a,u,c);t+=void 0!==e?e:"null",t+=i}const l=v(String(o),r[o],s,a,u,c);return t+=void 0!==l?l:"null",r.length-1>m&&(t+=`${i}"... ${f(r.length-m-1)} not stringified"`),""!==u&&(t+=`\n${e}`),s.pop(),`[${t}]`}s.push(r);let l="";""!==u&&(i=`,\n${c+=u}`,l=" ");let h="";for(const e of a){const n=v(e,r[e],s,a,u,c);void 0!==n&&(t+=`${h}${o(e)}:${l}${n}`,h=i)}return""!==u&&h.length>1&&(t=`\n${c}${t}\n${e}`),s.pop(),`{${t}}`}case"number":return isFinite(r)?String(r):t?t(r):"null";case"boolean":return!0===r?"true":"false";case"undefined":return;case"bigint":if(i)return String(r);default:return t?t(r):void 0}}function y(e,r,l,h,d){switch(typeof r){case"string":return o(r);case"object":{if(null===r)return"null";if("function"==typeof r.toJSON){if("object"!=typeof(r=r.toJSON(e)))return y(e,r,l,h,d);if(null===r)return"null"}if(-1!==l.indexOf(r))return n;const t=d;if(Array.isArray(r)){if(0===r.length)return"[]";if(p<l.length+1)return'"[Array]"';l.push(r);let e=`\n${d+=h}`;const n=`,\n${d}`,i=Math.min(r.length,m);let o=0;for(;o<i-1;o++){const t=y(String(o),r[o],l,h,d);e+=void 0!==t?t:"null",e+=n}const s=y(String(o),r[o],l,h,d);return e+=void 0!==s?s:"null",r.length-1>m&&(e+=`${n}"... ${f(r.length-m-1)} not stringified"`),e+=`\n${t}`,l.pop(),`[${e}]`}let i=Object.keys(r);const g=i.length;if(0===g)return"{}";if(p<l.length+1)return'"[Object]"';const v=`,\n${d+=h}`;let w="",_="",E=Math.min(g,m);u(r)&&(w+=c(r,v,m),i=i.slice(r.length),E-=r.length,_=v),a&&(i=s(i)),l.push(r);for(let e=0;e<E;e++){const t=i[e],n=y(t,r[t],l,h,d);void 0!==n&&(w+=`${_}${o(t)}: ${n}`,_=v)}return g>m&&(w+=`${_}"...": "${f(g-m)} not stringified"`,_=v),""!==_&&(w=`\n${d}${w}\n${t}`),l.pop(),`{${w}}`}case"number":return isFinite(r)?String(r):t?t(r):"null";case"boolean":return!0===r?"true":"false";case"undefined":return;case"bigint":if(i)return String(r);default:return t?t(r):void 0}}function w(e,r,l){switch(typeof r){case"string":return o(r);case"object":{if(null===r)return"null";if("function"==typeof r.toJSON){if("object"!=typeof(r=r.toJSON(e)))return w(e,r,l);if(null===r)return"null"}if(-1!==l.indexOf(r))return n;let t="";if(Array.isArray(r)){if(0===r.length)return"[]";if(p<l.length+1)return'"[Array]"';l.push(r);const e=Math.min(r.length,m);let n=0;for(;n<e-1;n++){const e=w(String(n),r[n],l);t+=void 0!==e?e:"null",t+=","}const i=w(String(n),r[n],l);return t+=void 0!==i?i:"null",r.length-1>m&&(t+=`,"... ${f(r.length-m-1)} not stringified"`),l.pop(),`[${t}]`}let i=Object.keys(r);const h=i.length;if(0===h)return"{}";if(p<l.length+1)return'"[Object]"';let d="",g=Math.min(h,m);u(r)&&(t+=c(r,",",m),i=i.slice(r.length),g-=r.length,d=","),a&&(i=s(i)),l.push(r);for(let e=0;e<g;e++){const n=i[e],s=w(n,r[n],l);void 0!==s&&(t+=`${d}${o(n)}:${s}`,d=",")}return h>m&&(t+=`${d}"...":"${f(h-m)} not stringified"`),l.pop(),`{${t}}`}case"number":return isFinite(r)?String(r):t?t(r):"null";case"boolean":return!0===r?"true":"false";case"undefined":return;case"bigint":if(i)return String(r);default:return t?t(r):void 0}}return function(e,t,r){if(arguments.length>1){let n="";if("number"==typeof r?n=" ".repeat(Math.min(r,10)):"string"==typeof r&&(n=r.slice(0,10)),null!=t){if("function"==typeof t)return g("",{"":e},[],t,n,"");if(Array.isArray(t))return v("",e,[],d(t),n,"")}if(0!==n.length)return y("",e,[],n,"")}return w("",e,[])}}},79313:(e,t,r)=>{const n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=o(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new l(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(u(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(u(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=i;const o=r(38308),{re:s,t:a}=r(26153),u=r(8453),c=r(40310),l=r(25595),h=r(18988)},18988:(e,t,r)=>{class n{constructor(e,t){if(t=o(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!g(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+e,r=i.get(t);if(r)return r;const n=this.options.loose,o=n?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];e=e.replace(o,O(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(c[l.COMPARATORTRIM],h),a("comparator trim",e);let u=(e=(e=(e=e.replace(c[l.TILDETRIM],f)).replace(c[l.CARETTRIM],d)).split(/\s+/).join(" ")).split(" ").map((e=>w(e,this.options))).join(" ").split(/\s+/).map((e=>M(e,this.options)));n&&(u=u.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(c[l.COMPARATORLOOSE]))))),a("range list",u);const v=new Map,y=u.map((e=>new s(e,this.options)));for(const e of y){if(g(e))return[e];v.set(e.value,e)}v.size>1&&v.has("")&&v.delete("");const _=[...v.values()];return i.set(t,_),_}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>y(r,t)&&e.set.some((e=>y(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(N(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const i=new(r(77105))({max:1e3}),o=r(38308),s=r(79313),a=r(40310),u=r(25595),{re:c,t:l,comparatorTrimReplace:h,tildeTrimReplace:f,caretTrimReplace:d}=r(26153),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=r(31643),g=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,y=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every((e=>i.intersects(e,t))),i=n.pop();return r},w=(e,t)=>(a("comp",e,t),e=T(e,t),a("caret",e),e=E(e,t),a("tildes",e),e=A(e,t),a("xrange",e),e=I(e,t),a("stars",e),e),_=e=>!e||"x"===e.toLowerCase()||"*"===e,E=(e,t)=>e.trim().split(/\s+/).map((e=>b(e,t))).join(" "),b=(e,t)=>{const r=t.loose?c[l.TILDELOOSE]:c[l.TILDE];return e.replace(r,((t,r,n,i,o)=>{let s;return a("tilde",e,t,r,n,i,o),_(r)?s="":_(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:_(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,a("tilde return",s),s}))},T=(e,t)=>e.trim().split(/\s+/).map((e=>R(e,t))).join(" "),R=(e,t)=>{a("caret",e,t);const r=t.loose?c[l.CARETLOOSE]:c[l.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,i,o,s)=>{let u;return a("caret",e,t,r,i,o,s),_(r)?u="":_(i)?u=`>=${r}.0.0${n} <${+r+1}.0.0-0`:_(o)?u="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(a("replaceCaret pr",s),u="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(a("no pr"),u="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),a("caret return",u),u}))},A=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>S(e,t))).join(" ")),S=(e,t)=>{e=e.trim();const r=t.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return e.replace(r,((r,n,i,o,s,u)=>{a("xRange",e,r,n,i,o,s,u);const c=_(i),l=c||_(o),h=l||_(s),f=h;return"="===n&&f&&(n=""),u=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&f?(l&&(o=0),s=0,">"===n?(n=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",l?i=+i+1:o=+o+1),"<"===n&&(u="-0"),r=`${n+i}.${o}.${s}${u}`):l?r=`>=${i}.0.0${u} <${+i+1}.0.0-0`:h&&(r=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),a("xRange return",r),r}))},I=(e,t)=>(a("replaceStars",e,t),e.trim().replace(c[l.STAR],"")),M=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),O=e=>(t,r,n,i,o,s,a,u,c,l,h,f,d)=>`${r=_(n)?"":_(i)?`>=${n}.0.0${e?"-0":""}`:_(o)?`>=${n}.${i}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${u=_(c)?"":_(l)?`<${+c+1}.0.0-0`:_(h)?`<${c}.${+l+1}.0-0`:f?`<=${c}.${l}.${h}-${f}`:e?`<${c}.${l}.${+h+1}-0`:`<=${u}`}`.trim(),N=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},25595:(e,t,r)=>{const n=r(40310),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(31643),{re:s,t:a}=r(26153),u=r(38308),{compareIdentifiers:c}=r(56355);class l{constructor(e,t){if(t=u(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=l},26025:(e,t,r)=>{const n=r(22522);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},8453:(e,t,r)=>{const n=r(51247),i=r(31106),o=r(26944),s=r(13113),a=r(21891),u=r(97784);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return i(e,r,c);case">":return o(e,r,c);case">=":return s(e,r,c);case"<":return a(e,r,c);case"<=":return u(e,r,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},29590:(e,t,r)=>{const n=r(25595),i=r(22522),{re:o,t:s}=r(26153);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=o[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),o[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[s.COERCERTL].lastIndex=-1}else r=e.match(o[s.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},35815:(e,t,r)=>{const n=r(25595);e.exports=(e,t,r)=>{const i=new n(e,r),o=new n(t,r);return i.compare(o)||i.compareBuild(o)}},10185:(e,t,r)=>{const n=r(84501);e.exports=(e,t)=>n(e,t,!0)},84501:(e,t,r)=>{const n=r(25595);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},12616:(e,t,r)=>{const n=r(22522);e.exports=(e,t)=>{const r=n(e,null,!0),i=n(t,null,!0),o=r.compare(i);if(0===o)return null;const s=o>0,a=s?i:r,u=!!(s?r:i).prerelease.length,c=u?"pre":"";return r.major!==i.major?c+"major":r.minor!==i.minor?c+"minor":r.patch!==i.patch?c+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"}},51247:(e,t,r)=>{const n=r(84501);e.exports=(e,t,r)=>0===n(e,t,r)},26944:(e,t,r)=>{const n=r(84501);e.exports=(e,t,r)=>n(e,t,r)>0},13113:(e,t,r)=>{const n=r(84501);e.exports=(e,t,r)=>n(e,t,r)>=0},30224:(e,t,r)=>{const n=r(25595);e.exports=(e,t,r,i,o)=>{"string"==typeof r&&(o=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,o).version}catch(e){return null}}},21891:(e,t,r)=>{const n=r(84501);e.exports=(e,t,r)=>n(e,t,r)<0},97784:(e,t,r)=>{const n=r(84501);e.exports=(e,t,r)=>n(e,t,r)<=0},75027:(e,t,r)=>{const n=r(25595);e.exports=(e,t)=>new n(e,t).major},61086:(e,t,r)=>{const n=r(25595);e.exports=(e,t)=>new n(e,t).minor},31106:(e,t,r)=>{const n=r(84501);e.exports=(e,t,r)=>0!==n(e,t,r)},22522:(e,t,r)=>{const n=r(25595);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},90941:(e,t,r)=>{const n=r(25595);e.exports=(e,t)=>new n(e,t).patch},94523:(e,t,r)=>{const n=r(22522);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},35774:(e,t,r)=>{const n=r(84501);e.exports=(e,t,r)=>n(t,e,r)},45521:(e,t,r)=>{const n=r(35815);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},57559:(e,t,r)=>{const n=r(18988);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},78615:(e,t,r)=>{const n=r(35815);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},81614:(e,t,r)=>{const n=r(22522);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},22464:(e,t,r)=>{const n=r(26153),i=r(31643),o=r(25595),s=r(56355),a=r(22522),u=r(81614),c=r(26025),l=r(30224),h=r(12616),f=r(75027),d=r(61086),p=r(90941),m=r(94523),g=r(84501),v=r(35774),y=r(10185),w=r(35815),_=r(78615),E=r(45521),b=r(26944),T=r(21891),R=r(51247),A=r(31106),S=r(13113),I=r(97784),M=r(8453),O=r(29590),N=r(79313),P=r(18988),C=r(57559),k=r(82332),x=r(77290),B=r(18025),L=r(91352),U=r(18352),j=r(94565),H=r(74342),$=r(91568),D=r(44819),q=r(93980),F=r(23553);e.exports={parse:a,valid:u,clean:c,inc:l,diff:h,major:f,minor:d,patch:p,prerelease:m,compare:g,rcompare:v,compareLoose:y,compareBuild:w,sort:_,rsort:E,gt:b,lt:T,eq:R,neq:A,gte:S,lte:I,cmp:M,coerce:O,Comparator:N,Range:P,satisfies:C,toComparators:k,maxSatisfying:x,minSatisfying:B,minVersion:L,validRange:U,outside:j,gtr:H,ltr:$,intersects:D,simplifyRange:q,subset:F,SemVer:o,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},31643:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},40310:(e,t,r)=>{var n=r(34406);const i="object"==typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=i},56355:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},38308:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},26153:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(31643),i=r(40310),o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let u=0;const c=(e,t,r)=>{const n=u++;i(e,n,t),a[e]=n,s[n]=t,o[n]=new RegExp(t,r?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),c("FULL",`^${s[a.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),c("LOOSE",`^${s[a.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),c("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),c("COERCERTL",s[a.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},74342:(e,t,r)=>{const n=r(94565);e.exports=(e,t,r)=>n(e,t,">",r)},44819:(e,t,r)=>{const n=r(18988);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},91568:(e,t,r)=>{const n=r(94565);e.exports=(e,t,r)=>n(e,t,"<",r)},77290:(e,t,r)=>{const n=r(25595),i=r(18988);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new n(o,r)))})),o}},18025:(e,t,r)=>{const n=r(25595),i=r(18988);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new n(o,r)))})),o}},91352:(e,t,r)=>{const n=r(25595),i=r(18988),o=r(26944);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let s=null;i.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!o(r,s)||(r=s)}return r&&e.test(r)?r:null}},94565:(e,t,r)=>{const n=r(25595),i=r(79313),{ANY:o}=i,s=r(18988),a=r(57559),u=r(26944),c=r(21891),l=r(97784),h=r(13113);e.exports=(e,t,r,f)=>{let d,p,m,g,v;switch(e=new n(e,f),t=new s(t,f),r){case">":d=u,p=l,m=c,g=">",v=">=";break;case"<":d=c,p=h,m=u,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,f))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null,a=null;if(n.forEach((e=>{e.semver===o&&(e=new i(">=0.0.0")),s=s||e,a=a||e,d(e.semver,s.semver,f)?s=e:m(e.semver,a.semver,f)&&(a=e)})),s.operator===g||s.operator===v)return!1;if((!a.operator||a.operator===g)&&p(e,a.semver))return!1;if(a.operator===v&&m(e,a.semver))return!1}return!0}},93980:(e,t,r)=>{const n=r(57559),i=r(84501);e.exports=(e,t,r)=>{const o=[];let s=null,a=null;const u=e.sort(((e,t)=>i(e,t,r)));for(const e of u)n(e,t,r)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const c=[];for(const[e,t]of o)e===t?c.push(e):t||e!==u[0]?t?e===u[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const l=c.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return l.length<h.length?l:t}},23553:(e,t,r)=>{const n=r(18988),i=r(79313),{ANY:o}=i,s=r(57559),a=r(84501),u=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],l=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?u:c}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=c}const n=new Set;let i,l,d,p,m,g,v;for(const t of e)">"===t.operator||">="===t.operator?i=h(i,t,r):"<"===t.operator||"<="===t.operator?l=f(l,t,r):n.add(t.semver);if(n.size>1)return null;if(i&&l){if(d=a(i.semver,l.semver,r),d>0)return null;if(0===d&&(">="!==i.operator||"<="!==l.operator))return null}for(const e of n){if(i&&!s(e,String(i),r))return null;if(l&&!s(e,String(l),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let y=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver,w=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver;y&&1===y.prerelease.length&&"<"===l.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(v=v||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,i)if(w&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===w.major&&e.semver.minor===w.minor&&e.semver.patch===w.patch&&(w=!1),">"===e.operator||">="===e.operator){if(p=h(i,e,r),p===e&&p!==i)return!1}else if(">="===i.operator&&!s(i.semver,String(e),r))return!1;if(l)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(m=f(l,e,r),m===e&&m!==l)return!1}else if("<="===l.operator&&!s(l.semver,String(e),r))return!1;if(!e.operator&&(l||i)&&0!==d)return!1}return!(i&&g&&!l&&0!==d||l&&v&&!i&&0!==d||w||y)},h=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},f=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;e:for(const n of e.set){for(const e of t.set){const t=l(n,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},82332:(e,t,r)=>{const n=r(18988);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},18352:(e,t,r)=>{const n=r(18988);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},530:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(90811),t),i(r(72698),t)},90811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.providerFromEngine=void 0;const n=r(21524);t.providerFromEngine=function(e){return new n.SafeEventEmitterProvider({engine:e})}},72698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.providerFromMiddleware=void 0;const n=r(91280),i=r(90811);t.providerFromMiddleware=function(e){const t=new n.JsonRpcEngine;return t.push(e),(0,i.providerFromEngine)(t)}},21524:function(e,t,r){"use strict";var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SafeEventEmitterProvider=void 0;const a=s(r(63795));class u extends a.default{constructor({engine:e}){super(),n.set(this,void 0),this.sendAsync=(e,t)=>{o(this,n,"f").handle(e,t)},this.send=(e,t)=>{if("function"!=typeof t)throw new Error('Must provide callback to "send" method.');o(this,n,"f").handle(e,t)},i(this,n,e,"f"),e.on&&e.on("notification",(e=>{this.emit("data",null,e)}))}}t.SafeEventEmitterProvider=u,n=new WeakMap},92517:function(e,t,r){"use strict";var n=r(48834).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getEncryptionPublicKey=t.decryptSafely=t.decrypt=t.encryptSafely=t.encrypt=void 0;const a=s(r(10717)),u=s(r(251)),c=r(65491);function l({publicKey:e,data:t,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let n;try{n=u.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const i=u.decodeUTF8(t),o=a.randomBytes(a.box.nonceLength),s=a.box(i,o,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:u.encodeBase64(o),ephemPublicKey:u.encodeBase64(r.publicKey),ciphertext:u.encodeBase64(s)}}throw new Error("Encryption type/version not supported")}function h({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const r=f(t),n=a.box.keyPair.fromSecretKey(r).secretKey,i=u.decodeBase64(e.nonce),o=u.decodeBase64(e.ciphertext),s=u.decodeBase64(e.ephemPublicKey),c=a.box.open(o,i,s,n);try{if(!c)throw new Error;const e=u.encodeUTF8(c);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}function f(e){const t=n.from(e,"hex").toString("base64");return u.decodeBase64(t)}t.encrypt=l,t.encryptSafely=function({publicKey:e,data:t,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("object"==typeof t&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:t,padding:""},o=n.byteLength(JSON.stringify(i),"utf-8")%2048;let s=0;return o>0&&(s=2048-o-16),i.padding="0".repeat(s),l({publicKey:e,data:JSON.stringify(i),version:r})},t.decrypt=h,t.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(h({encryptedData:e,privateKey:t})).data},t.getEncryptionPublicKey=function(e){const t=f(e),r=a.box.keyPair.fromSecretKey(t).publicKey;return u.encodeBase64(r)}},18345:function(e,t,r){"use strict";var n=r(48834).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rawEncode=t.parseNumber=t.solidityPack=void 0;const o=r(59303),s=i(r(62197)),a=r(81538),u=r(65491);function c(e){return e.endsWith("]")}function l(e){const t=e.match(/(.*)\[(.*?)\]$/u);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function h(e){const t=/^\D+(\d+)$/u.exec(e);if(null===t)throw new Error(`Invalid parseTypeN input "${e}".`);return parseInt(t[1],10)}function f(e){const t=typeof e;if("string"===t)return(0,o.isHexPrefixed)(e)?new s.default((0,a.stripHexPrefix)(e),16):new s.default(e,10);if("number"===t)return new s.default(e);if(e&&Object.prototype.hasOwnProperty.call(e,"toArray")||s.default.isBN(e))return e;throw new Error("Argument is not a number")}function d(e,t,r){if(c(e)){const r=e.replace(/\[.*?\]/u,"");if(!c(r)){const r=l(e);if("dynamic"!==r&&0!==r&&null!==r&&t.length>r)throw new Error(`Elements exceed array size: ${r}`)}const i=t.map((e=>d(r,e,256)));return n.concat(i)}if("bytes"===e)return t;if("string"===e)return n.from(t,"utf8");if("bool"===e){r=r||8;const e=Array(r/4).join("0");return n.from(t?`${e}1`:`${e}0`,"hex")}if("address"===e){let e=20;return r&&(e=r/8),(0,o.setLengthLeft)((0,o.toBuffer)(t),e)}if(e.startsWith("bytes")){const r=h(e);if(r<1||r>32)throw new Error(`Invalid bytes<N> width: ${r}`);return"number"==typeof t&&(t=(0,u.normalize)(t)),(0,o.setLengthRight)((0,o.toBuffer)(t),r)}if(e.startsWith("uint")){const i=h(e);if(i%8||i<8||i>256)throw new Error(`Invalid uint<N> width: ${i}`);const o=f(t);if(o.bitLength()>i)throw new Error(`Supplied uint exceeds width: ${i} vs ${o.bitLength()}`);return r=r||i,o.toArrayLike(n,"be",r/8)}if(e.startsWith("int")){const i=h(e);if(i%8||i<8||i>256)throw new Error(`Invalid int<N> width: ${i}`);const o=f(t);if(o.bitLength()>i)throw new Error(`Supplied int exceeds width: ${i} vs ${o.bitLength()}`);return r=r||i,o.toTwos(i).toArrayLike(n,"be",r/8)}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function p(e){return e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256${e.slice(4)}`:"uint"===e?"uint256":e.startsWith("fixed[")?`fixed128x128${e.slice(5)}`:"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?`ufixed128x128${e.slice(6)}`:"ufixed"===e?"ufixed128x128":e}function m(e,t){if("address"===e)return m("uint160",f(t));if("bool"===e)return m("uint8",t?1:0);if("string"===e)return m("bytes",n.from(t,"utf8"));if(c(e)){if(void 0===t.length)throw new Error("Not an array?");const r=l(e);if("dynamic"!==r&&0!==r&&null!==r&&t.length>r)throw new Error(`Elements exceed array size: ${r}`);const i=[];e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t));for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&i.push(m(e,t[r]));if("dynamic"===r){const e=m("uint256",t.length);i.unshift(e)}return n.concat(i)}if("bytes"===e){t=n.from(t);let e=n.concat([m("uint256",t.length),t]);return t.length%32!=0&&(e=n.concat([e,(0,o.zeros)(32-t.length%32)])),e}if(e.startsWith("bytes")){const r=h(e);if(r<1||r>32)throw new Error(`Invalid bytes<N> width: ${r}`);const n="number"==typeof t?(0,u.normalize)(t):t;return(0,o.setLengthRight)((0,o.toBuffer)(n),32)}if(e.startsWith("uint")){const r=h(e);if(r%8||r<8||r>256)throw new Error(`Invalid uint<N> width: ${r}`);const i=f(t);if(i.bitLength()>r)throw new Error(`Supplied uint exceeds width: ${r} vs ${i.bitLength()}`);if(i.isNeg())throw new Error("Supplied uint is negative");return i.toArrayLike(n,"be",32)}if(e.startsWith("int")){const r=h(e);if(r%8||r<8||r>256)throw new Error(`Invalid int<N> width: ${r}`);const i=f(t);if(i.bitLength()>r)throw new Error(`Supplied int exceeds width: ${r} vs ${i.bitLength()}`);return i.toTwos(256).toArrayLike(n,"be",32)}if(e.startsWith("ufixed")){const r=v(e),n=f(t);if(n.isNeg())throw new Error("Supplied ufixed is negative");return m("uint256",n.mul(new s.default(2).pow(new s.default(r[1]))))}if(e.startsWith("fixed")){const r=v(e);return m("int256",f(t).mul(new s.default(2).pow(new s.default(r[1]))))}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function g(e){return"string"===e||"bytes"===e||"dynamic"===l(e)}function v(e){const t=/^\D+(\d+)x(\d+)$/u.exec(e);if(null===t||t.length<1)throw new Error(`Invalid parseTypeNxM input "${e}".`);return[parseInt(t[1],10),parseInt(t[2],10)]}t.solidityPack=function(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");const r=[];for(let n=0;n<e.length;n++){const i=p(e[n]),o=t[n];r.push(d(i,o,null))}return n.concat(r)},t.parseNumber=f,t.rawEncode=function(e,t){const r=[],i=[];let o=0;e.forEach((e=>{if(c(e)){const t=l(e);o+="dynamic"!==t&&null!==t?32*t:32}else o+=32}));for(let n=0;n<e.length;n++){const s=p(e[n]),a=m(s,t[n]);g(s)?(r.push(m("uint256",o)),i.push(a),o+=a.length):r.push(a)}return n.concat(r.concat(i))}},50539:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.concatSig=void 0,i(r(91695),t),i(r(5190),t),i(r(92517),t);var o=r(65491);Object.defineProperty(t,"concatSig",{enumerable:!0,get:function(){return o.concatSig}}),Object.defineProperty(t,"normalize",{enumerable:!0,get:function(){return o.normalize}})},91695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractPublicKey=t.recoverPersonalSignature=t.personalSign=void 0;const n=r(59303),i=r(65491);function o(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}t.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),o=(0,n.hashPersonalMessage)(r),s=(0,n.ecsign)(o,e);return(0,i.concatSig)((0,n.toBuffer)(s.v),s.r,s.s)},t.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=o(e,t),s=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(s)},t.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${o(e,t).toString("hex")}`}},5190:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.recoverTypedSignature=t.signTypedData=t.typedSignatureHash=t.TypedDataUtils=t.TYPED_MESSAGE_SCHEMA=t.SignTypedDataVersion=void 0;const i=r(59303),o=r(24392),s=r(81538),a=r(18345),u=r(65491);var c;function l(e,t){if(!Object.keys(c).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function h(e,t,r,d,p){if(l(p,[c.V3,c.V4]),void 0!==e[r])return["bytes32",p===c.V4&&null==d?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,i.arrToBufArr)((0,o.keccak256)(f(r,d,e,p)))];if(void 0===d)throw new Error(`missing value for field ${t} of type ${r}`);if("bytes"===r){if("number"==typeof d)d=(0,u.numberToBuffer)(d);else if((0,s.isHexString)(d)){const e=d.length%2?"0":"";d=n.from(e+d.slice(2),"hex")}else d=n.from(d,"utf8");return["bytes32",(0,i.arrToBufArr)((0,o.keccak256)(d))]}if("string"===r)return d="number"==typeof d?(0,u.numberToBuffer)(d):n.from(null!=d?d:"","utf8"),["bytes32",(0,i.arrToBufArr)((0,o.keccak256)(d))];if(r.endsWith("]")){if(p===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const n=r.slice(0,r.lastIndexOf("[")),s=d.map((r=>h(e,t,n,r,p)));return["bytes32",(0,i.arrToBufArr)((0,o.keccak256)((0,a.rawEncode)(s.map((([e])=>e)),s.map((([,e])=>e)))))]}return[r,d]}function f(e,t,r,n){l(n,[c.V3,c.V4]);const i=["bytes32"],o=[g(e,r)];for(const s of r[e]){if(n===c.V3&&void 0===t[s.name])continue;const[e,a]=h(r,s.name,s.type,t[s.name],n);i.push(e),o.push(a)}return(0,a.rawEncode)(i,o)}function d(e,t){let r="";const n=p(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function p(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||void 0===t[e])return r;r.add(e);for(const n of t[e])p(n.type,t,r);return r}function m(e,t,r,n){l(n,[c.V3,c.V4]);const s=f(e,t,r,n),a=(0,o.keccak256)(s);return(0,i.arrToBufArr)(a)}function g(e,t){const r=n.from(d(e,t),"utf-8");return(0,i.arrToBufArr)((0,o.keccak256)(r))}function v(e){const r={};for(const n in t.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(r[n]=e[n]);return"types"in r&&(r.types=Object.assign({EIP712Domain:[]},r.types)),r}function y(e,t){l(t,[c.V3,c.V4]);const r=v(e),{domain:n}=r;return m("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function w(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((function(e){return"bytes"!==e.type?e.value:(0,u.legacyToBuffer)(e.value)})),n=e.map((function(e){return e.type})),s=e.map((function(e){if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,i.arrToBufArr)((0,o.keccak256)((0,a.solidityPack)(["bytes32","bytes32"],[(0,o.keccak256)((0,a.solidityPack)(new Array(e.length).fill("string"),s)),(0,o.keccak256)((0,a.solidityPack)(n,r))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(c=t.SignTypedDataVersion||(t.SignTypedDataVersion={})),t.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},t.TypedDataUtils={encodeData:f,encodeType:d,findTypeDependencies:p,hashStruct:m,hashType:g,sanitizeData:v,eip712Hash:function(e,t){l(t,[c.V3,c.V4]);const r=v(e),s=[n.from("1901","hex")];return s.push(y(e,t)),"EIP712Domain"!==r.primaryType&&s.push(m(r.primaryType,r.message,r.types,t)),(0,i.arrToBufArr)((0,o.keccak256)(n.concat(s)))},eip712DomainHash:y},t.typedSignatureHash=function(e){const t=w(e);return(0,i.bufferToHex)(t)},t.signTypedData=function({privateKey:e,data:r,version:n}){if(l(n),(0,u.isNullish)(r))throw new Error("Missing data parameter");if((0,u.isNullish)(e))throw new Error("Missing private key parameter");const o=n===c.V1?w(r):t.TypedDataUtils.eip712Hash(r,n),s=(0,i.ecsign)(o,e);return(0,u.concatSig)((0,i.toBuffer)(s.v),s.r,s.s)},t.recoverTypedSignature=function({data:e,signature:r,version:n}){if(l(n),(0,u.isNullish)(e))throw new Error("Missing data parameter");if((0,u.isNullish)(r))throw new Error("Missing signature parameter");const o=n===c.V1?w(e):t.TypedDataUtils.eip712Hash(e,n),s=(0,u.recoverPublicKey)(o,r),a=(0,i.publicToAddress)(s);return(0,i.bufferToHex)(a)}},65491:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.numberToBuffer=t.normalize=t.recoverPublicKey=t.concatSig=t.legacyToBuffer=t.isNullish=t.padWithZeroes=void 0;const i=r(59303),o=r(81538);function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}t.padWithZeroes=s,t.isNullish=function(e){return null==e},t.legacyToBuffer=function(e){return"string"!=typeof e||(0,o.isHexString)(e)?(0,i.toBuffer)(e):n.from(e)},t.concatSig=function(e,t,r){const n=(0,i.fromSigned)(t),a=(0,i.fromSigned)(r),u=(0,i.bufferToInt)(e),c=s((0,i.toUnsigned)(n).toString("hex"),64),l=s((0,i.toUnsigned)(a).toString("hex"),64),h=(0,o.stripHexPrefix)((0,o.intToHex)(u));return(0,i.addHexPrefix)(c.concat(l,h))},t.recoverPublicKey=function(e,t){const r=(0,i.fromRpcSig)(t);return(0,i.ecrecover)(e,r.v,r.r,r.s)},t.normalize=function(e){if(e){if("number"==typeof e){if(e<0)return"0x";const t=(0,i.toBuffer)(e);e=(0,i.bufferToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.addHexPrefix)(e.toLowerCase())}},t.numberToBuffer=function(e){const t=e.toString(16),r=t.length%2?"0":"";return n.from(r+t,"hex")}},32660:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.accountBodyToRLP=t.accountBodyToSlim=t.accountBodyFromSlim=t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;const i=r(57256),o=r(24392),s=r(8785),a=r(97580),u=r(40756),c=r(68413),l=r(36243),h=r(54403),f=BigInt(0);class d{constructor(e=f,t=f,r=c.KECCAK256_RLP,n=c.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new d(void 0!==t?(0,u.bufferToBigInt)((0,u.toBuffer)(t)):void 0,void 0!==r?(0,u.bufferToBigInt)((0,u.toBuffer)(r)):void 0,void 0!==n?(0,u.toBuffer)(n):void 0,void 0!==i?(0,u.toBuffer)(i):void 0)}static fromRlpSerializedAccount(e){const t=(0,u.arrToBufArr)(i.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new d((0,u.bufferToBigInt)(t),(0,u.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<f)throw new Error("nonce must be greater than zero");if(this.balance<f)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,u.bigIntToUnpaddedBuffer)(this.nonce),(0,u.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return n.from(i.RLP.encode((0,u.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(c.KECCAK256_NULL)}isEmpty(){return this.balance===f&&this.nonce===f&&this.codeHash.equals(c.KECCAK256_NULL)}}function p(e){const[t,r,n,i]=e;return[t,r,0===(0,u.arrToBufArr)(n).length?c.KECCAK256_RLP:n,0===(0,u.arrToBufArr)(i).length?c.KECCAK256_NULL:i]}t.Account=d,t.isValidAddress=function(e){try{(0,l.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)},t.toChecksumAddress=function(e,t){(0,l.assertIsHexString)(e);const r=(0,h.stripHexPrefix)(e).toLowerCase();let i="";void 0!==t&&(i=(0,u.bufferToBigInt)((0,u.toBuffer)(t)).toString()+"0x");const s=n.from(i+r,"utf8"),c=(0,a.bytesToHex)((0,o.keccak256)(s));let f="0x";for(let e=0;e<r.length;e++)parseInt(c[e],16)>=8?f+=r[e].toUpperCase():f+=r[e];return f},t.isValidChecksumAddress=function(e,r){return(0,t.isValidAddress)(e)&&(0,t.toChecksumAddress)(e,r)===e},t.generateAddress=function(e,t){return(0,l.assertIsBuffer)(e),(0,l.assertIsBuffer)(t),(0,u.bufferToBigInt)(t)===BigInt(0)?n.from((0,o.keccak256)(i.RLP.encode((0,u.bufArrToArr)([e,null])))).slice(-20):n.from((0,o.keccak256)(i.RLP.encode((0,u.bufArrToArr)([e,t])))).slice(-20)},t.generateAddress2=function(e,t,r){if((0,l.assertIsBuffer)(e),(0,l.assertIsBuffer)(t),(0,l.assertIsBuffer)(r),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==t.length)throw new Error("Expected salt to be of length 32");const i=(0,o.keccak256)(n.concat([n.from("ff","hex"),e,t,(0,o.keccak256)(r)]));return(0,u.toBuffer)(i).slice(-20)},t.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)},t.isValidPublic=function(e,t=!1){if((0,l.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(n.concat([n.from([4]),e])),!0}catch(e){return!1}if(!t)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}},t.pubToAddress=function(e,t=!1){if((0,l.assertIsBuffer)(e),t&&64!==e.length&&(e=n.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return n.from((0,o.keccak256)(e)).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToPublic=function(e){return(0,l.assertIsBuffer)(e),n.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))},t.privateToAddress=function(e){return(0,t.publicToAddress)((0,t.privateToPublic)(e))},t.importPublic=function(e){return(0,l.assertIsBuffer)(e),64!==e.length&&(e=n.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e},t.zeroAddress=function(){const e=(0,u.zeros)(20);return(0,u.bufferToHex)(e)},t.isZeroAddress=function(e){try{(0,l.assertIsString)(e)}catch(e){return!1}return(0,t.zeroAddress)()===e},t.accountBodyFromSlim=p;const m=new Uint8Array(0);t.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,u.arrToBufArr)(n).equals(c.KECCAK256_RLP)?m:n,(0,u.arrToBufArr)(i).equals(c.KECCAK256_NULL)?m:i]},t.accountBodyToRLP=function(e,t=!0){const r=t?p(e):e;return(0,u.arrToBufArr)(i.RLP.encode(r))}},6175:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Address=void 0;const i=r(32660),o=r(40756);class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,o.zeros)(20))}static fromString(e){if(!(0,i.isValidAddress)(e))throw new Error("Invalid address");return new s((0,o.toBuffer)(e))}static fromPublicKey(e){if(!n.isBuffer(e))throw new Error("Public key should be Buffer");const t=(0,i.pubToAddress)(e);return new s(t)}static fromPrivateKey(e){if(!n.isBuffer(e))throw new Error("Private key should be Buffer");const t=(0,i.privateToAddress)(e);return new s(t)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,i.generateAddress)(e.buf,(0,o.bigIntToBuffer)(t)))}static generate2(e,t,r){if(!n.isBuffer(t))throw new Error("Expected salt to be a Buffer");if(!n.isBuffer(r))throw new Error("Expected initCode to be a Buffer");return new s((0,i.generateAddress2)(e.buf,t,r))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,o.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return n.from(this.buf)}}t.Address=s},25778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncEventEmitter=void 0;const n=r(22699);class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let o=i._events[e]??[];return void 0===n&&"function"==typeof r&&(n=r,r=void 0),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=void 0),o=Array.isArray(o)?o:[o],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise(((t,n)=>{i.call(e,r,(e=>{e?n(e):t()}))}))}catch(e){n=e}if(n)throw n}(i,o.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,o){r.removeListener(e,n),t(i,o)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,o,s=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(s)||(this._events[e]=s=[s]),o=s.length,i=s.length;i--;)if(s[i]===t){o=i+a;break}return s.splice(o,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}t.AsyncEventEmitter=i},40756:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.intToUnpaddedBuffer=t.bigIntToUnpaddedBuffer=t.bigIntToHex=t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.short=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToInt=t.bigIntToBuffer=t.bufferToBigInt=t.bufferToHex=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;const i=r(36243),o=r(54403);t.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},t.intToBuffer=function(e){const r=(0,t.intToHex)(e);return n.from((0,o.padToEven)(r.slice(2)),"hex")},t.zeros=function(e){return n.allocUnsafe(e).fill(0)};const s=function(e,r,n){const i=(0,t.zeros)(r);return n?e.length<r?(e.copy(i),i):e.slice(0,r):e.length<r?(e.copy(i,r-e.length),i):e.slice(-r)};t.setLengthLeft=function(e,t){return(0,i.assertIsBuffer)(e),s(e,t,!1)},t.setLengthRight=function(e,t){return(0,i.assertIsBuffer)(e),s(e,t,!0)};const a=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};function u(e){const r=(0,t.bufferToHex)(e);return"0x"===r?BigInt(0):BigInt(r)}function c(e){return(0,t.toBuffer)("0x"+e.toString(16))}t.unpadBuffer=function(e){return(0,i.assertIsBuffer)(e),a(e)},t.unpadArray=function(e){return(0,i.assertIsArray)(e),a(e)},t.unpadHexString=function(e){return(0,i.assertIsHexString)(e),e=(0,o.stripHexPrefix)(e),"0x"+a(e)},t.toBuffer=function(e){if(null==e)return n.allocUnsafe(0);if(n.isBuffer(e))return n.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return n.from(e);if("string"==typeof e){if(!(0,o.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return n.from((0,o.padToEven)((0,o.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,t.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),n.from(t,"hex")}if(e.toArray)return n.from(e.toArray());if(e.toBuffer)return n.from(e.toBuffer());throw new Error("invalid type")},t.bufferToHex=function(e){return"0x"+(e=(0,t.toBuffer)(e)).toString("hex")},t.bufferToBigInt=u,t.bigIntToBuffer=c,t.bufferToInt=function(e){const t=Number(u(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t},t.fromSigned=function(e){return BigInt.asIntN(256,u(e))},t.toUnsigned=function(e){return c(BigInt.asUintN(256,e))},t.addHexPrefix=function(e){return"string"!=typeof e||(0,o.isHexPrefixed)(e)?e:"0x"+e},t.short=function(e,t=50){const r=n.isBuffer(e)?e.toString("hex"):e;return r.length<=t?r:r.slice(0,t)+""},t.toUtf8=function(e){if((e=(0,o.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return n.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")},t.baToJSON=function(e){if(n.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const r=[];for(let n=0;n<e.length;n++)r.push((0,t.baToJSON)(e[n]));return r}},t.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(void 0!==r&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},t.arrToBufArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):n.from(t)},t.bufArrToArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Uint8Array.from(t??[])},t.bigIntToHex=e=>"0x"+e.toString(16),t.bigIntToUnpaddedBuffer=function(e){return(0,t.unpadBuffer)(c(e))},t.intToUnpaddedBuffer=function(e){return(0,t.unpadBuffer)((0,t.intToBuffer)(e))}},68413:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_WITHDRAWALS_PER_PAYLOAD=t.RLP_EMPTY_STRING=t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.SECP256K1_ORDER_DIV_2=t.SECP256K1_ORDER=t.MAX_INTEGER_BIGINT=t.MAX_INTEGER=t.MAX_UINT64=void 0;const n=r(48834),i=r(8785);t.MAX_UINT64=BigInt("0xffffffffffffffff"),t.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.SECP256K1_ORDER=i.secp256k1.CURVE.n,t.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),t.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=n.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=n.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=n.Buffer.from(t.KECCAK256_RLP_S,"hex"),t.RLP_EMPTY_STRING=n.Buffer.from([128]),t.MAX_WITHDRAWALS_PER_PAYLOAD=16},12921:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactBytesToNibbles=t.bytesToNibbles=t.nibblesToCompactBytes=t.nibblesToBytes=t.hasTerminator=void 0,t.hasTerminator=e=>e.length>0&&16===e[e.length-1],t.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]},t.nibblesToCompactBytes=e=>{let r=0;(0,t.hasTerminator)(e)&&(r=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=r<<5,1==(1&e.length)&&(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,t.nibblesToBytes)(e,n.subarray(1)),n},t.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r},t.compactBytesToNibbles=e=>{if(0===e.length)return e;let r=(0,t.bytesToNibbles)(e);r[0]<2&&(r=r.subarray(0,r.length-1));const n=2-(1&r[0]);return r.subarray(n)}},36243:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.assertIsString=t.assertIsArray=t.assertIsBuffer=t.assertIsHexString=void 0;const i=r(54403);t.assertIsHexString=function(e){if(!(0,i.isHexString)(e))throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)},t.assertIsBuffer=function(e){if(!n.isBuffer(e))throw new Error(`This method only supports Buffer but input was: ${e}`)},t.assertIsArray=function(e){if(!Array.isArray(e))throw new Error(`This method only supports number arrays but input was: ${e}`)},t.assertIsString=function(e){if("string"!=typeof e)throw new Error(`This method only supports strings but input was: ${e}`)}},59303:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=t.ssz=void 0,i(r(68413),t),i(r(80945),t),i(r(32660),t),i(r(6175),t),i(r(62334),t),i(r(96413),t),i(r(40756),t),t.ssz=r(94581),i(r(5263),t),i(r(12921),t),i(r(25778),t);var o=r(54403);Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return o.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return o.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return o.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return o.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return o.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return o.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return o.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return o.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return o.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return o.toAscii}}),i(r(95594),t),i(r(26698),t)},54403:(e,t,r)=>{"use strict";var n=r(48834).Buffer;function i(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}function o(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,t.isHexPrefixed=i,t.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return i(e)?e.slice(2):e},t.padToEven=o,t.getBinarySize=function(e){if("string"!=typeof e)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof e);return n.byteLength(e,"utf8")},t.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"]((t=>e.indexOf(t)>=0))},t.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},t.fromUtf8=function(e){return`0x${o(n.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},t.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},t.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let o=e[i][t];if(!0!==r||o){if("string"!=typeof o)throw new Error("invalid abi - expected type 'string', received "+typeof o)}else o="";n.push(o)}return n},t.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||void 0!==t&&t>0&&e.length!==2+2*t)}},95594:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lock=void 0,t.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((e=>this.promiseResolverQueue.push(e)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}},26698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProvider=t.fetchFromProvider=void 0;const n=r(42973);t.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result,t.getProvider=e=>{if("string"==typeof e)return e;if(void 0!==e?.connection?.url)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}},96413:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.hashPersonalMessage=t.isValidSignature=t.fromRpcSig=t.toCompactSig=t.toRpcSig=t.ecrecover=t.ecsign=void 0;const i=r(24392),o=r(8785),s=r(40756),a=r(68413),u=r(36243);function c(e,t){return e===BigInt(0)||e===BigInt(1)?e:void 0===t?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function l(e){return e===BigInt(0)||e===BigInt(1)}t.ecsign=function(e,t,r){const i=o.secp256k1.sign(e,t),s=i.toCompactRawBytes();return{r:n.from(s.slice(0,32)),s:n.from(s.slice(32,64)),v:void 0===r?BigInt(i.recovery+27):BigInt(i.recovery+35)+BigInt(r)*BigInt(2)}},t.ecrecover=function(e,t,r,i,a){const u=n.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(i,32)],64),h=c(t,a);if(!l(h))throw new Error("Invalid signature v value");const f=o.secp256k1.Signature.fromCompact(u).addRecoveryBit(Number(h)).recoverPublicKey(e);return n.from(f.toRawBytes(!1).slice(1))},t.toRpcSig=function(e,t,r,i){if(!l(c(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(n.concat([(0,s.setLengthLeft)(t,32),(0,s.setLengthLeft)(r,32),(0,s.toBuffer)(e)]))},t.toCompactSig=function(e,t,r,i){if(!l(c(e,i)))throw new Error("Invalid signature v value");let o=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=n.from(r),o[0]|=128),(0,s.bufferToHex)(n.concat([(0,s.setLengthLeft)(t,32),(0,s.setLengthLeft)(o,32)]))},t.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r,s:n}},t.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!l(c(e,i)))return!1;const o=(0,s.bufferToBigInt)(t),u=(0,s.bufferToBigInt)(r);return!(o===BigInt(0)||o>=a.SECP256K1_ORDER||u===BigInt(0)||u>=a.SECP256K1_ORDER||n&&u>=a.SECP256K1_ORDER_DIV_2)},t.hashPersonalMessage=function(e){(0,u.assertIsBuffer)(e);const t=n.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return n.from((0,i.keccak256)(n.concat([t,e])))}},94581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Withdrawals=t.Withdrawal=t.Bytes20=t.UintBigInt64=t.UintNum64=void 0;const n=r(60557),i=r(68413);t.UintNum64=new n.UintNumberType(8),t.UintBigInt64=new n.UintBigintType(8),t.Bytes20=new n.ByteVectorType(20),t.Withdrawal=new n.ContainerType({index:t.UintBigInt64,validatorIndex:t.UintBigInt64,address:t.Bytes20,amount:t.UintBigInt64},{typeName:"Withdrawal",jsonCase:"eth2"}),t.Withdrawals=new n.ListCompositeType(t.Withdrawal,i.MAX_WITHDRAWALS_PER_PAYLOAD)},5263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=void 0;const n=r(40756),i=r(54403);var o;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(o=t.TypeOutput||(t.TypeOutput={})),t.toType=function(e,t){if(null===e)return null;if(void 0===e)return;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case o.Buffer:return r;case o.BigInt:return(0,n.bufferToBigInt)(r);case o.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case o.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}},80945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GWEI_TO_WEI=void 0,t.GWEI_TO_WEI=BigInt(1e9)},62334:(e,t,r)=>{"use strict";var n=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Withdrawal=void 0;const i=r(6175),o=r(40756),s=r(5263);class a{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:n,amount:o}=e,u=(0,s.toType)(t,s.TypeOutput.BigInt),c=(0,s.toType)(r,s.TypeOutput.BigInt),l=new i.Address((0,s.toType)(n,s.TypeOutput.Buffer)),h=(0,s.toType)(o,s.TypeOutput.BigInt);return new a(u,c,l,h)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return a.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:t,validatorIndex:r,address:o,amount:a}=e,u=(0,s.toType)(t,s.TypeOutput.BigInt)===BigInt(0)?n.alloc(0):(0,s.toType)(t,s.TypeOutput.Buffer),c=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?n.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer);let l;return l=o instanceof i.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer),[u,c,l,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?n.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return a.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,o.bigIntToHex)(this.index),validatorIndex:(0,o.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,o.bigIntToHex)(this.amount)}}}t.Withdrawal=a},24392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keccak512=t.keccak384=t.keccak256=t.keccak224=void 0;const n=r(80125),i=r(97580);t.keccak224=(0,i.wrapHash)(n.keccak_224),t.keccak256=(()=>{const e=(0,i.wrapHash)(n.keccak_256);return e.create=n.keccak_256.create,e})(),t.keccak384=(0,i.wrapHash)(n.keccak_384),t.keccak512=(0,i.wrapHash)(n.keccak_512)},8785:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=void 0;var n=r(38358);Object.defineProperty(t,"secp256k1",{enumerable:!0,get:function(){return n.secp256k1}})},97580:function(e,t,r){"use strict";e=r.nmd(e);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.wrapHash=t.equalsBytes=t.hexToBytes=t.bytesToUtf8=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0;const i=n(r(53525)),o=r(70064),s=i.default.bool;t.assertBool=s;const a=i.default.bytes;t.assertBytes=a;var u=r(70064);Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return u.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return u.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return u.utf8ToBytes}}),t.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},t.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,o.hexToBytes)(t)},t.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},t.wrapHash=function(e){return t=>(i.default.bytes(t),e(t))},t.crypto=(()=>{const t="object"==typeof self&&"crypto"in self?self.crypto:void 0,r="function"==typeof e.require&&e.require.bind(e);return{node:r&&!t?r("crypto"):void 0,web:t}})()},15722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=n.__importDefault(r(30070)),o=r(45897),s=function(){function e(e,t){var r=this;this.getAvailableSecretTypes=function(){var e=r.fetchGet("chains");return r.processResponse(e)},this.getWallets=function(e){e=e&&i.default.removeNulls(e)||{};var t=r.fetchGet("wallets",e);return r.processResponse(t)},this.getWallet=function(e){var t=r.fetchGet("wallets/"+e);return r.processResponse(t)},this.getBalance=function(e){var t=r.fetchGet("wallets/"+e+"/balance");return r.processResponse(t)},this.getBalanceByAddress=function(e,t){var n=r.fetchGet("wallets/"+e+"/"+t+"/balance");return r.processResponse(n)},this.getTokenBalances=function(e){var t=r.fetchGet("wallets/"+e+"/balance/tokens");return r.processResponse(t)},this.getTokenBalancesByAddress=function(e,t){var n=r.fetchGet("wallets/"+e+"/"+t+"/balance/tokens");return r.processResponse(n)},this.getTokenBalance=function(e,t){var n=r.fetchGet("wallets/"+e+"/balance/tokens/"+t);return r.processResponse(n)},this.getTokenBalanceByAddress=function(e,t,n){var i=r.fetchGet("wallets/"+e+"/"+t+"/balance/tokens/"+n);return r.processResponse(i)},this.getNonfungibles=function(e){var t=r.fetchGet("wallets/"+e+"/nonfungibles");return r.processResponse(t)},this.getNonfungiblesByAddress=function(e,t){var n=r.fetchGet("wallets/"+e+"/"+t+"/nonfungibles");return r.processResponse(n)},this.getAllNonfungibles=function(e){var t=e&&e.length>0?"?"+e.map((function(e){return"secretType="+e})).join("&"):"",n=r.fetchGet("wallets/nonfungibles",t);return r.processResponse(n)},this.unlink=function(e){var t=r.fetchGet("wallets/"+e+"/link");return r.processResponse(t)},this.getProfile=function(){var e=r.fetchGet("profile");return r.processResponse(e)},this.getPendingTransactions=function(){var e=r.fetchGet("transactions");return r.processResponse(e)},this.deleteTransaction=function(e){var t=r.fetchDelete("transactions/"+e);return r.processResponse(t)},this.getTransactionStatus=function(e,t){var n=r.fetchGet("transactions/"+t+"/"+e+"/status");return r.mapTransactionData(t,n)},this.mapTransactionData=function(e,t){switch(e){case o.SecretType.AVAC||o.SecretType.BSC||o.SecretType.ETHEREUM||o.SecretType.GOCHAIN||o.SecretType.MATIC||o.SecretType.ARBITRUM:case o.SecretType.HEDERA:case o.SecretType.TRON:case o.SecretType.VECHAIN:}return r.processResponse(t)},this.readContract=function(e){var t=r.fetchPost("contracts/read",e);return r.processResponse(t)},this._baseUrl=e.endsWith("/")?e.substring(0,e.length-1):e,this._tokenProvider=t}return e.prototype.fetchGet=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var r;return n.__generator(this,(function(n){switch(n.label){case 0:if(!(r=this._tokenProvider()))throw new Error("Not authenticated");return[4,fetch(this._baseUrl+"/"+e+"?"+new URLSearchParams(t).toString(),{headers:{Authorization:"Bearer "+r}}).then((function(e){return e.json()})).then((function(e){return e}))];case 1:return[2,n.sent()]}}))}))},e.prototype.fetchPost=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var r;return n.__generator(this,(function(n){switch(n.label){case 0:if(!(r=this._tokenProvider()))throw new Error("Not authenticated");return[4,fetch(this._baseUrl+"/"+e,{method:"POST",body:JSON.stringify(t),headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))];case 1:return[2,n.sent()]}}))}))},e.prototype.fetchDelete=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t;return n.__generator(this,(function(r){switch(r.label){case 0:if(!(t=this._tokenProvider()))throw new Error("Not authenticated");return[4,fetch(this._baseUrl+"/"+e,{method:"DELETE",headers:{Authorization:"Bearer "+t}}).then((function(e){return e.json()})).then((function(e){return e}))];case 1:return[2,r.sent()]}}))}))},e.prototype.processResponse=function(e){return new Promise((function(t,r){e.then((function(e){e.success?e.result?t(e.result):t():r(e.errors)})).catch((function(e){if(e.response&&e.response.data)r(e.response.data.errors);else if(e.message){var t=e.message.indexOf("authenticat")>=0?"auth.error":"unknown.error";r([{code:t,message:e.message}])}else r([{code:"unknown.error",message:"An unknown error occured"}])}))}))},e}();t.Api=s},19179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=n.__importDefault(r(30070)),o=r(86302),s=r(31378),a=r(4361),u=r(16693),c=function(){function e(e,t){this.clientId=t,this.connect=e}return e.prototype.authenticate=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r;return n.__generator(this,(function(i){switch(i.label){case 0:return(t=n.__assign({},e)).windowMode=t.windowMode||this.connect.windowMode,t.windowMode=t.windowMode!==u.WindowMode.POPUP||t.forcePopup?t.windowMode:u.WindowMode.DIALOG,[4,a.Security.login(this.clientId,t)];case 1:return r=i.sent(),[2,this.connect._afterAuthenticationForFlowUse(r)]}}))}))},e.prototype.manageWallets=function(e,t){var r=t&&t.windowMode||this.connect.windowMode,n=t&&null!=t.useOverlayWithPopup?t.useOverlayWithPopup:this.connect.useOverlayWithPopup,i=t?t.closePopup:void 0;return r===u.WindowMode.REDIRECT?this.manageWalletsRedirect(e,t):this.manageWalletsPopup(e,{useOverlay:n,closePopup:i})},e.prototype.linkWallets=function(e){var t=e&&e.windowMode||this.connect.windowMode,r=e&&null!=e.useOverlayWithPopup?e.useOverlayWithPopup:this.connect.useOverlayWithPopup;return t===u.WindowMode.REDIRECT?this.linkWalletsRedirect(e):this.linkWalletsPopup({useOverlay:r})},e.prototype.claimWallets=function(e){var t=e&&e.windowMode||this.connect.windowMode,r=e&&e.useOverlayWithPopup||this.connect.useOverlayWithPopup;return t===u.WindowMode.REDIRECT?this.claimWalletsRedirect(e):this.claimWalletsPopup({useOverlay:r})},e.prototype.performKYC=function(e){var t=e&&e.windowMode||this.connect.windowMode,r=e&&null!=e.useOverlayWithPopup?e.useOverlayWithPopup:this.connect.useOverlayWithPopup;return t===u.WindowMode.REDIRECT?this.performKYCRedirect(e):this.performKYCPopup({useOverlay:r})},e.prototype.getAccount=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var r,o,s,c,l,h,f;return n.__generator(this,(function(n){switch(n.label){case 0:r={},o=[],s=i.default.uuidv4(),n.label=1;case 1:return n.trys.push([1,7,,8]),c={windowMode:u.WindowMode.POPUP,closePopup:!1},t&&t.idpHint&&(c.idpHint=t.idpHint),t&&t.emailHint&&(c.emailHint=t.emailHint),[4,a.Security.login(this.clientId,c,s)];case 2:return r=n.sent(),(l=this.connect._afterAuthenticationForFlowUse(r)).isAuthenticated?[4,this.connect.api.getWallets({secretType:e.toUpperCase()})]:[3,6];case 3:return(o=n.sent())&&o.length>0?[3,6]:[4,this.manageWallets(e,{windowMode:u.WindowMode.POPUP,closePopup:!1})];case 4:return(h=n.sent())&&"SUCCESS"===h.status?[4,this.connect.api.getWallets({secretType:e.toUpperCase()})]:[3,6];case 5:o=n.sent(),n.label=6;case 6:if(!l.isAuthenticated||0===o.length)throw Error("Something went wrong.");return[3,8];case 7:return f=n.sent(),console.error(f),[3,8];case 8:return!a.Security.hasPopupWindow()||t&&0==t.closePopup||a.Security.closePopupWindow(),[2,{wallets:o,auth:r.keycloak,isAuthenticated:r.authenticated}]}}))}))},e.prototype.manageWalletsRedirect=function(e,t){return i.default.http().postInForm(i.default.urls.connect+"/wallets/manage",{chain:e.toLowerCase()},this.connect._bearerTokenProvider,t),Promise.resolve()},e.prototype.manageWalletsPopup=function(e,t){return o.GeneralPopup.openNewPopup(s.PopupActions.MANAGE_WALLETS,this.connect._bearerTokenProvider,{chain:e.toLowerCase()},t)},e.prototype.linkWalletsRedirect=function(e){return i.default.http().postInForm(i.default.urls.connect+"/wallets/link",{},this.connect._bearerTokenProvider,e),Promise.resolve()},e.prototype.performKYCRedirect=function(e){return i.default.http().postInForm(i.default.urls.connect+"/verification/sessions",{},this.connect._bearerTokenProvider,e),Promise.resolve()},e.prototype.linkWalletsPopup=function(e){return o.GeneralPopup.openNewPopup(s.PopupActions.LINK_WALLET,this.connect._bearerTokenProvider,void 0,e)},e.prototype.performKYCPopup=function(e){return o.GeneralPopup.openNewPopup(s.PopupActions.PERFORM_KYC,this.connect._bearerTokenProvider,void 0,e)},e.prototype.claimWalletsRedirect=function(e){return i.default.http().postInForm(i.default.urls.connect+"/wallets/claim",{},this.connect._bearerTokenProvider,e),Promise.resolve()},e.prototype.claimWalletsPopup=function(e){return o.GeneralPopup.openNewPopup(s.PopupActions.CLAIM_WALLETS,this.connect._bearerTokenProvider,void 0,e)},e}();t.Flows=c},4361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(16693),o=r(78868),s=r(89005),a=n.__importDefault(r(30070)),u=r(50159),c=function(){function e(){}return e.getConfig=function(e){return{clientId:e,realm:"Arkane",url:a.default.urls.login,"ssl-required":"external","public-client":"true"}},e.login=function(t,r,n){switch(r&&r.idpHint&&("twitter"===r.idpHint||"facebook"===r.idpHint)&&(r.idpHint="arkane-"+r.idpHint),r&&r.windowMode){case i.WindowMode.POPUP:return e.loginPopup(t,n||a.default.uuidv4(),r);case i.WindowMode.DIALOG:return u.DialogWindow.openLoginDialog(t,r);default:return e.loginRedirect(t,r)}},e.loginRedirect=function(t,r){var n=e.getConfig(t),i={};return r&&r.idpHint&&(i.idpHint=r.idpHint),r&&r.emailHint&&"password"===r.idpHint&&(i.loginHint=r.emailHint),this.keycloakLogin(n,i)},e.loginPopup=function(t,r,n){var i=!n||n.closePopup;return Promise.race([e.initialiseAuthenticatedListener(t,s.EventTypes.AUTHENTICATE,r,i),e.initialiseLoginPopup(t,r,n)])},e.checkAuthenticated=function(t,r){if((r&&r.windowMode)===i.WindowMode.REDIRECT){var n={onLoad:"check-sso",checkLoginIframe:!1};return r.redirectUri&&(n.redirectUri=r.redirectUri),e.initKeycloak(e.getConfig(t),n)}var o=e.initialiseAuthenticatedListener(t,s.EventTypes.CHECK_AUTHENTICATED,a.default.uuidv4());return e.initialiseCheckAuthenticatedIFrame(t),o},e.logout=function(t){var r=this;return t.authenticated&&t.clientId?new Promise((function(i,o){return n.__awaiter(r,void 0,void 0,(function(){var r,u,c;return n.__generator(this,(function(n){switch(n.label){case 0:return t.clientId?(r={client_id:t.clientId,refresh_token:t.refreshToken},u=Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"),[4,fetch(a.default.urls.login+"/realms/Arkane/protocol/openid-connect/logout",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:u})]):[3,3];case 1:return n.sent(),c=e,[4,e.createLogoutListener(s.EventTypes.LOGOUT,t,i,o)];case 2:c.logoutListener=n.sent(),window.addEventListener("message",e.logoutListener),e.initialiseLogoutIFrame(t.clientId),n.label=3;case 3:return[2]}}))}))})):Promise.resolve()},e.hasPopupWindow=function(){return!!this.popupWindow},e.closePopupWindow=function(){e.popupWindow&&!e.popupWindow.closed&&(e.popupWindow.close(),delete e.popupWindow)},e.focusPopupWindow=function(){e.popupWindow&&!e.popupWindow.closed&&e.popupWindow.focus()},Object.defineProperty(e,"checkAuthenticatedURI",{get:function(){return a.default.urls.connect+"/checkAuthenticated"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"authenticateURI",{get:function(){return a.default.urls.connect+"/authenticate"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"logoutURI",{get:function(){return a.default.urls.connect+"/logout"},enumerable:!0,configurable:!0}),e.initialiseLoginPopup=function(t,r,i){return n.__awaiter(this,void 0,void 0,(function(){var s,u,c,l,h;return n.__generator(this,(function(n){switch(n.label){case 0:return s=window.location.href.replace(window.location.search,""),u=e.authenticateURI+"?"+new URLSearchParams({clientId:t,origin:s,env:a.default.rawEnvironment}).toString(),i&&i.idpHint&&(c=i.idpHint,u+="&"+new URLSearchParams({kc_idp_hint:c}).toString()),i&&i.emailHint&&"password"===i.idpHint&&(l=i.emailHint,u+="&"+new URLSearchParams({login_hint:l}).toString()),h=this,[4,o.PopupWindowAsync.openNew(u,r,{useOverlay:!1})];case 1:return h.popupWindow=n.sent(),[2,e.initialiseIsLoginPopupClosedInterval(r)]}}))}))},e.initialiseIsLoginPopupClosedInterval=function(t){return new Promise((function(r,n){e.isLoginPopupClosedInterval=window.setInterval((function(){var n=e.popupWindow;n&&n.closed&&(e.clearIsLoginPopupClosedInterval(),e.cleanUp(s.EventTypes.AUTHENTICATE,t),r({authenticated:!1}))}),2e3)}))},e.clearIsLoginPopupClosedInterval=function(){clearInterval(e.isLoginPopupClosedInterval),delete e.isLoginPopupClosedInterval},e.initialiseCheckAuthenticatedIFrame=function(t){return this.initialiseIFrame(t,e.AUTH_IFRAME_ID,e.checkAuthenticatedURI)},e.initialiseLogoutIFrame=function(t){return this.initialiseIFrame(t,e.LOGOUT_IFRAME_ID,e.logoutURI)},e.initialiseIFrame=function(e,t,r){var n=document.getElementById(t),i=!0;n||(i=!1,n=document.createElement("iframe"));var o=window.location.href.replace(window.location.search,"");return n.src=r+"?"+new URLSearchParams({clientId:e,origin:o,env:a.default.rawEnvironment}).toString(),n.hidden=!0,n.id=t,n.setAttribute("style","display: none!important;"),document.body.appendChild(n),i||document.body.appendChild(n),n},e.setUpdateTokenInterval=function(){var t=this;e.updateTokenInterval&&(clearInterval(e.updateTokenInterval),e.updateTokenInterval=null),e.updateTokenInterval=setInterval((function(){return n.__awaiter(t,void 0,void 0,(function(){return n.__generator(this,(function(t){return new Promise((function(t,r){e.keycloak?e.keycloak.updateToken(70).then((function(e){t(e)})):r(!1)})).then((function(t){t&&e.onTokenUpdate&&e.keycloak.token&&e.onTokenUpdate(e.keycloak.token)})).catch((function(){console.error("failed to refresh token"),clearInterval(e.updateTokenInterval),e.updateTokenInterval=null})),[2]}))}))}),6e4)},e.keycloakLogin=function(t,i){return n.__awaiter(this,void 0,void 0,(function(){var o;return n.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.resolve().then((function(){return n.__importStar(r(34482))}))];case 1:return o=s.sent(),e.keycloak=o.default(t),[2,new Promise((function(t,r){e.keycloak.init({}).then((function(){return e.keycloak.login(i).then((function(r){r&&e.setUpdateTokenInterval(),t({keycloak:e.keycloak,authenticated:r})})).catch((function(e){r(e)}))}))}))]}}))}))},e.initKeycloak=function(t,i){return n.__awaiter(this,void 0,void 0,(function(){var o;return n.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.resolve().then((function(){return n.__importStar(r(34482))}))];case 1:return o=s.sent(),e.keycloak=o.default(t),[2,new Promise((function(t,r){e.keycloak.init(i).then((function(r){r&&e.setUpdateTokenInterval(),t({keycloak:e.keycloak,authenticated:r})})).catch((function(e){r(e)}))}))]}}))}))},e.removeLoginState=function(){var e=window.location.href,t=e.indexOf("#");if(-1!==t){var r=e.substring(0,t);window.history.replaceState({},"",r)}},e.cleanUp=function(t,r,n){if(void 0===n&&(n=!0),e.authenticatedListeners.has(t)&&(window.removeEventListener("message",e.authenticatedListeners.get(t)),e.authenticatedListeners.delete(t)),t===s.EventTypes.CHECK_AUTHENTICATED){var i=document.getElementById(e.AUTH_IFRAME_ID);i&&i.remove()}else t===s.EventTypes.AUTHENTICATE&&n&&(e.popupWindow&&!e.popupWindow.closed&&e.popupWindow.close(),delete e.popupWindow)},e.authenticatedListeners=new Map,e.AUTH_IFRAME_ID="venly-auth-iframe",e.LOGOUT_IFRAME_ID="venly-logout-iframe",e.THIRD_PARTY_COOKIES_DISABLED="Third party cookies are disabled",e.initialiseAuthenticatedListener=function(t,r,i,o){return n.__awaiter(this,void 0,void 0,(function(){var s=this;return n.__generator(this,(function(u){return[2,new Promise((function(u,c){var l=function(l){return n.__awaiter(s,void 0,void 0,(function(){var s,h,f,d,p;return n.__generator(this,(function(n){switch(n.label){case 0:if(!l||l.origin!==a.default.urls.connect)return[3,11];if(!l.data||l.data.type!==r)return[3,10];s=l.data,e.isLoginPopupClosedInterval&&e.clearIsLoginPopupClosedInterval(),n.label=1;case 1:return n.trys.push([1,9,,10]),s.success?s.authenticated?(e.cleanUp(r,i,o),h=s.keycloak,f={onLoad:"check-sso",token:h.token,refreshToken:h.refreshToken,idToken:h.idToken,timeSkew:h.timeSkew,checkLoginIframe:!1},e.removeLoginState(),[4,e.initKeycloak(e.getConfig(t),f)]):[3,3]:[3,5];case 2:return d=n.sent(),u({keycloak:d.keycloak,authenticated:d.authenticated}),[3,4];case 3:u({authenticated:!1}),n.label=4;case 4:return[3,8];case 5:return s.reason&&s.reason===e.THIRD_PARTY_COOKIES_DISABLED?[4,e.initKeycloak(e.getConfig(t),{onLoad:"check-sso",checkLoginIframe:!1})]:[3,7];case 6:return d=n.sent(),u({keycloak:d.keycloak,authenticated:d.authenticated}),[3,8];case 7:c({error:s.reason}),n.label=8;case 8:return[3,10];case 9:return p=n.sent(),c({error:p}),[3,10];case 10:return[2,l];case 11:return[2]}}))}))};window.addEventListener("message",l),e.authenticatedListeners.has(r)&&window.removeEventListener("message",e.authenticatedListeners.get(r)),e.authenticatedListeners.set(r,l)}))]}))}))},e.createLogoutListener=function(e,t,r,i){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(n){return[2,function(n){n&&n.origin===a.default.urls.connect&&n.data&&n.data.type===e&&(t.authenticated?n.data.authenticated?i():(t.onAuthLogout&&t.onAuthLogout(),r()):r())}]}))}))},e}();t.Security=c},96891:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(4361),o=r(15722),s=r(16693),a=r(12415),u=n.__importDefault(r(30070)),c=r(19179),l=function(){function e(e,t){var r=this;this.clientId=e,this.signUsing=t&&t.signUsing||s.WindowMode.POPUP,this.windowMode=t&&t.windowMode||s.WindowMode.POPUP,this.useOverlayWithPopup=!t||null==t.useOverlayWithPopup||t.useOverlayWithPopup,u.default.rawEnvironment=t&&t.environment||"prod",this._bearerTokenProvider=t&&t.bearerTokenProvider||function(){return r.loginResult&&r.loginResult.authenticated&&r.auth&&r.auth.token||""},this._bearerTokenProvider&&(this.api=new o.Api(u.default.urls.api,this._bearerTokenProvider)),this.flows=new c.Flows(this,this.clientId)}return e.prototype.checkAuthenticated=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r;return n.__generator(this,(function(o){switch(o.label){case 0:return this.loginResult?[2,this.afterAuthentication(this.loginResult)]:[3,1];case 1:return(t=n.__assign({},e)).windowMode=t.windowMode||this.windowMode,[4,i.Security.checkAuthenticated(this.clientId,t)];case 2:return r=o.sent(),[2,this.afterAuthentication(r)]}}))}))},e.prototype.logout=function(e){var t=this;return this.loginResult=void 0,(e&&e.windowMode||this.windowMode)===s.WindowMode.REDIRECT?new Promise((function(r,n){var i={};e&&e.redirectUri&&Object.assign(i,{redirectUri:e.redirectUri}),t.auth?t.auth.logout(i).then((function(){return r()})).catch((function(){return n})):r()})):this.auth?i.Security.logout(this.auth).then((function(){return t.auth=void 0})):Promise.resolve()},e.prototype.addOnTokenRefreshCallback=function(e){e&&(i.Security.onTokenUpdate=e)},e.prototype.createSigner=function(e,t){return t&&null!=t.useOverlay||(t={useOverlay:this.useOverlayWithPopup}),a.SignerFactory.createSignerFor(e||this.signUsing||this.windowMode,this._bearerTokenProvider,t)},e.prototype.isPopupSigner=function(e){return void 0!==e.closePopup},e.prototype.authenticate=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.flows.authenticate(e)]}))}))},e.prototype.manageWallets=function(e,t){return this.flows.manageWallets(e,t)},e.prototype.linkWallets=function(e){return this.flows.linkWallets(e)},e.prototype._afterAuthenticationForFlowUse=function(e){return this.afterAuthentication(e)},e.prototype.afterAuthentication=function(e){return this.loginResult=e,this.auth=e.keycloak,{auth:this.auth,isAuthenticated:e.authenticated,authenticated:function(t){return e.authenticated&&e.keycloak&&t(e.keycloak),this},notAuthenticated:function(t){return e.authenticated||t(e.keycloak),this}}},e}();t.VenlyConnect=l},50159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(4361),o=r(16693),s=function(){function e(){}return e.openLoginDialog=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var r,s=this;return n.__generator(this,(function(a){switch(t.idpHint){case"google":r="https://connect-qa.venly.io/static/html/login-google-idp-hint.html";break;case"apple":r="https://connect-qa.venly.io/static/html/login-apple-idp-hint.html";break;case"twitter":case"arkane-twitter":r="https://connect-qa.venly.io/static/html/login-twitter-idp-hint.html";break;case"facebook":case"arkane-facebook":r="https://connect-qa.venly.io/static/html/login-facebook-idp-hint.html";break;case"password":r="https://connect-qa.venly.io/static/html/login-password-idp-hint.html";break;default:r="https://connect-qa.venly.io/static/html/login-none-idp-hint.html"}return[2,new Promise((function(a){fetch(r).then((function(e){return e.text()})).then((function(r){var u=s.createOverlayContainer(),c=document.createElement("div"),l=c.attachShadow({mode:"open"});c.classList.add("venly-connect-dialog-container"),l.innerHTML=r,c.style.position="absolute",c.style.zIndex="2147483647",c.style.display="block",c.style.top=window.innerWidth>450?"0":"50%",c.style.left=window.innerWidth>450?"calc(50% - 200px)":"50%";var h=document.createElement("div");h.classList.add("venly-connect-dialog-backdrop"),h.style.position="fixed",h.style.width="100%",h.style.height="100%",h.style.zIndex="2147483647",h.style.backdropFilter="blur(5px)",l.querySelector(".connect-company-logo").src="https://content.venly.io/connected-apps/logos/"+e+".png",u.appendChild(h),s.addFonts(),s.addAnimationScript(l);var f=t.idpHint;"register"===f?(s.showRefocusLayout(),i.Security.login(e,n.__assign({},t,{idpHint:f,windowMode:o.WindowMode.POPUP})).then((function(e){s.removeBackdrop(),s.closeRefocusLayout(),a(e)}))):(u.appendChild(c),s.addAuthEventListeners(e,t,a,l),document.body.appendChild(u),s.addCloseListeners(l))}))}))]}))}))},e.addFonts=function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://connect-qa.venly.io/static/css/connect/fonts.css"),e.setAttribute("type","text/css"),document.querySelector("head").appendChild(e)},e.addAnimationScript=function(e){var t=document.createElement("script");t.setAttribute("src","https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.10.2/lottie.min.js"),t.setAttribute("integrity","sha512-fTTVSuY9tLP+l/6c6vWz7uAQqd1rq3Q/GyKBN2jOZvJSLC5RjggSdboIFL1ox09/Ezx/AKwcv/xnDeYN9+iDDA=="),t.setAttribute("crossorigin","anonymous"),t.setAttribute("referrerpolicy","no-referrer"),document.querySelector("head").appendChild(t);var r=setInterval((function(){var t=lottie;t&&(t.loadAnimation({container:e.querySelector(".animation"),renderer:"svg",loop:!0,autoplay:!0,path:"https://connect-qa.venly.io/static/animations/login-animation.json"}),clearInterval(r))}),100)},e.addAuthEventListeners=function(e,t,r,s){var a=this,u=s.querySelectorAll(".auth-action");Array.from(u).forEach((function(s){s.addEventListener("click",(function(s){var u=s.target.dataset.idpHint||s.target.parentElement.dataset.idpHint;i.Security.login(e,n.__assign({},t,{idpHint:u,windowMode:o.WindowMode.POPUP})).then((function(e){a.removeBackdrop(),a.closeRefocusLayout(t.closePopup),r(e)})),a.closeLoginDialog(),a.showRefocusLayout()}))}));var c=s.querySelector(".select-another-option");c&&c.addEventListener("click",(function(){a.closeLoginDialog(),a.removeBackdrop(),delete t.idpHint,r(a.openLoginDialog(e,t))}))},e.addCloseListeners=function(e){var t=this,r=e.querySelector(".venly-connect-close-dialog"),n=document.body.querySelector(".venly-connect-dialog-backdrop");r&&r.addEventListener("click",(function(){t.closeLoginDialog(),t.removeBackdrop()})),n&&n.addEventListener("click",(function(){i.Security.hasPopupWindow()||(t.closeLoginDialog(),t.removeBackdrop(),t.closeRefocusLayout())}))},e.closeLoginDialog=function(){var e=document.body.querySelector(".venly-connect-dialog-container");e&&e.remove()},e.removeBackdrop=function(){var e=document.body.querySelector(".overlay-container");e&&e.remove()},e.showRefocusLayout=function(){var e=this;fetch("https://connect-qa.venly.io/static/html/re-focus-layout.html").then((function(e){return e.text()})).then((function(t){var r=e.createOverlayContainer(),n=document.createElement("div"),i=n.attachShadow({mode:"open"});n.classList.add("venly-connect-refocus-container"),i.innerHTML=t,n.style.position="absolute",n.style.top="calc(50% - 218px)",n.style.left="calc(50% - 147.5px)",n.style.zIndex="2147483647",r.appendChild(n),document.body.appendChild(r),e.addRefocusListeners(i)}))},e.closeRefocusLayout=function(e){void 0===e&&(e=!0);var t=document.body.querySelector(".overlay-container");e&&i.Security.closePopupWindow(),t&&t.remove()},e.addRefocusListeners=function(e){var t=e.querySelector(".venly-connect-re-focus-wrapper .reopen-action");t&&t.addEventListener("click",(function(){return i.Security.focusPopupWindow()}))},e.createOverlayContainer=function(){var e=document.createElement("div");return e.classList.add("overlay-container"),e.style.position="fixed",e.style.zIndex="2147483647",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.background="rgba(33, 37, 41, 0.5)",e.style.width="100%",e},e}();t.DialogWindow=s},38981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(96891);n.__exportStar(r(15722),t),n.__exportStar(r(96891),t);var o=r(1598);t.ConfirmationRequestType=o.ConfirmationRequestType;var s=r(76425);t.Network=s.Network;var a=r(45897);t.SecretType=a.SecretType;var u=r(91691);t.SignatureRequestType=u.SignatureRequestType;var c=r(93904);t.TransactionRequestType=c.TransactionRequestType;var l=r(16693);t.WindowMode=l.WindowMode;var h=r(71706);t.ContractReadRequest=h.ContractReadRequest;var f=r(84706);t.ContractReadRequestInputParam=f.ContractReadRequestInputParam;var d=r(85924);t.ContractReadRequestOutputParam=d.ContractReadRequestOutputParam;var p=r(85402);t.ContractReadResult=p.ContractReadResult,n.__exportStar(r(69118),t);var m=r(78909);t.TransactionRequest=m.TransactionRequest;var g=r(75229);t.TransactionResult=g.TransactionResult;var v=r(41166);t.TxStatus=v.TxStatus;var y=r(63316);t.BuildTransactionRequest=y.BuildTransactionRequest;var w=r(57907);t.BuildContractExecutionRequestDto=w.BuildContractExecutionRequestDto;var _=r(17697);t.BuildTransferRequestDto=_.BuildTransferRequestDto;var E=r(36250);t.BuildTokenTransferRequestDto=E.BuildTokenTransferRequestDto;var b=r(45287);t.BuildGasTransferRequestDto=b.BuildGasTransferRequestDto,n.__exportStar(r(62228),t);var T=r(15199);t.EthereumErc20TransactionRequest=T.EthereumErc20TransactionRequest;var R=r(31277);t.EthereumErc721TransactionRequest=R.EthereumErc721TransactionRequest;var A=r(13458);t.EthereumErcTokenTransactionRequest=A.EthereumErcTokenTransactionRequest;var S=r(41474);t.EthereumTransactionRequest=S.EthereumTransactionRequest;var I=r(86154);t.GochainErc20TransactionRequest=I.GochainErc20TransactionRequest;var M=r(90861);t.GochainTransactionRequest=M.GochainTransactionRequest,n.__exportStar(r(28822),t);var O=r(39386);t.MaticErc20TransactionRequest=O.MaticErc20TransactionRequest;var N=r(71550);t.MaticErc721TransactionRequest=N.MaticErc721TransactionRequest;var P=r(70336);t.MaticErcTokenTransactionRequest=P.MaticErcTokenTransactionRequest;var C=r(68506);t.MaticTransactionRequest=C.MaticTransactionRequest;var k=r(255);t.HederaTokenAssociationTransactionRequest=k.HederaTokenAssociationTransactionRequest,n.__exportStar(r(95505),t);var x=r(2241);t.ArbitrumErc20TransactionRequest=x.ArbitrumErc20TransactionRequest;var B=r(18495);t.ArbitrumErc721TransactionRequest=B.ArbitrumErc721TransactionRequest;var L=r(18707);t.ArbitrumErcTokenTransactionRequest=L.ArbitrumErcTokenTransactionRequest;var U=r(27210);t.ArbitrumTransactionRequest=U.ArbitrumTransactionRequest,n.__exportStar(r(56978),t);var j=r(45005);t.TronTransactionRequest=j.TronTransactionRequest;var H=r(34012);t.VechainContractCallExecutionRequest=H.VechainContractCallExecutionRequest,n.__exportStar(r(99933),t),n.__exportStar(r(46653),t),n.__exportStar(r(3991),t);var $=r(11529);t.BitcoinTransactionRequest=$.BitcoinTransactionRequest;var D=r(95683);t.LitecoinTransactionRequest=D.LitecoinTransactionRequest;var q=r(41422);t.CreateApplicationWalletRequest=q.CreateApplicationWalletRequest;var F=r(6992);t.CreateFirstWalletRequest=F.CreateFirstWalletRequest;var W=r(65607);t.CreateWalletRequest=W.CreateWalletRequest;var V=r(37561);t.ImportWalletRequest=V.ImportWalletRequest;var G=r(2987);t.TokenBalance=G.TokenBalance,n.__exportStar(r(63874),t);var J=r(5686);t.WalletBalance=J.WalletBalance;var K=r(31378);t.PopupActions=K.PopupActions,n.__exportStar(r(7161),t),n.__exportStar(r(7374),t),n.__exportStar(r(12415),t);var X=r(89005);t.EventTypes=X.EventTypes,"undefined"!=typeof window&&(window.VenlyConnect=i.VenlyConnect)},1598:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.ConfirmationRequestType||(t.ConfirmationRequestType={})).CREATE_APPLICATION_WALLET="CREATE_APPLICATION_WALLET",r.CREATE_FIRST_WALLET="CREATE_FIRST_WALLET",r.IMPORT_WALLET="IMPORT"},76425:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Network=function(){}},45897:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.SecretType||(t.SecretType={})).AETERNITY="AETERNITY",r.AVAC="AVAC",r.BITCOIN="BITCOIN",r.BSC="BSC",r.ETHEREUM="ETHEREUM",r.GOCHAIN="GOCHAIN",r.HEDERA="HEDERA",r.LITECOIN="LITECOIN",r.MATIC="MATIC",r.NEO="NEO",r.TRON="TRON",r.VECHAIN="VECHAIN",r.IMX="IMX",r.ARBITRUM="ARBITRUM"},91691:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.SignatureRequestType||(t.SignatureRequestType={})).AETERNITY_RAW="AETERNITY_RAW",r.AETERNITY_TRANSACTION="AETERNITY_TRANSACTION",r.AVAC_EIP712="AVAC_712",r.AVAC_RAW="AVAC_RAW",r.AVAC_TRANSACTION="AVAC_TRANSACTION",r.BITCOIN_TRANSACTION="BITCOIN_TRANSACTION",r.BSC_EIP712="BSC_712",r.BSC_RAW="BSC_RAW",r.BSC_TRANSACTION="BSC_TRANSACTION",r.ETHEREUM_EIP712="ETHEREUM_712",r.ETHEREUM_RAW="ETHEREUM_RAW",r.ETHEREUM_TRANSACTION="ETHEREUM_TRANSACTION",r.GOCHAIN_RAW="GOCHAIN_RAW",r.GOCHAIN_TRANSACTION="GOCHAIN_TRANSACTION",r.HEDERA_HBAR_TRANSFER="HEDERA_HBAR_TRANSFER",r.HEDERA_RAW="HEDERA_RAW",r.IMX_RAW="IMX_RAW",r.LITECOIN_TRANSACTION="LITECOIN_TRANSACTION",r.MATIC_RAW="MATIC_RAW",r.MATIC_TRANSACTION="MATIC_TRANSACTION",r.NEO_MESSAGE="NEO_MESSAGE",r.NEO_NATIVE_TRANSACTION="NEO_NATIVE_TRANSACTION",r.NEO_RAW="NEO_RAW",r.TRC10_TRANSACTION="TRC10_TRANSACTION",r.TRON_RAW="TRON_RAW",r.TRON_TRANSACTION="TRON_TRANSACTION",r.VECHAIN_RAW="VECHAIN_RAW",r.VECHAIN_TRANSACTION="VECHAIN_TRANSACTION",r.ARBITRUM_RAW="ARBITRUM_RAW",r.ARBITRUM_TRANSACTION="ARBITRUM_TRANSACTION"},93904:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.TransactionRequestType||(t.TransactionRequestType={})).AE_TRANSACTION="AE_TRANSACTION",r.AVAC_TRANSACTION="AVAC_TRANSACTION",r.AVAC_ERC20_TRANSACTION="AVAC_ERC20_TRANSACTION",r.AVAC_ERC721_TRANSACTION="AVAC_ERC721_TRANSACTION",r.AVAC_CONTRACT_EXECUTION="AVAC_CONTRACT_EXECUTION",r.BSC_TRANSACTION="BSC_TRANSACTION",r.BSC_BEP20_TRANSACTION="BSC_BEP20_TRANSACTION",r.BSC_ERC721_TRANSACTION="BSC_ERC721_TRANSACTION",r.BSC_CONTRACT_EXECUTION="BSC_CONTRACT_EXECUTION",r.BTC_TRANSACTION="BTC_TRANSACTION",r.ETH_TRANSACTION="ETH_TRANSACTION",r.ETHEREUM_ERC20_TRANSACTION="ETHEREUM_ERC20_TRANSACTION",r.ETHEREUM_ERC721_TRANSACTION="ETHEREUM_ERC721_TRANSACTION",r.ETHEREUM_CONTRACT_EXECUTION="ETHEREUM_CONTRACT_EXECUTION",r.MATIC_TRANSACTION="MATIC_TRANSACTION",r.MATIC_ERC20_TRANSACTION="MATIC_ERC20_TRANSACTION",r.MATIC_ERC721_TRANSACTION="MATIC_ERC721_TRANSACTION",r.MATIC_CONTRACT_EXECUTION="MATIC_CONTRACT_EXECUTION",r.GO_TRANSACTION="GO_TRANSACTION",r.GOCHAIN_GO20_TRANSACTION="GOCHAIN_GO20_TRANSACTION",r.HBAR_TRANSFER="HBAR_TRANSFER",r.HEDERA_TOKEN_TRANSFER="HEDERA_TOKEN_TRANSFER",r.HEDERA_NFT_TRANSFER="HEDERA_NFT_TRANSFER",r.HEDERA_TOKEN_ASSOCIATION="HEDERA_TOKEN_ASSOCIATION",r.HEDERA_APPROVE_ALLOWANCE="HEDERA_APPROVE_ALLOWANCE",r.LTC_TRANSACTION="LTC_TRANSACTION",r.VECHAIN_VIP180_TRANSACTION="VECHAIN_VIP180_TRANSACTION",r.VET_TRANSACTION="VET_TRANSACTION",r.VECHAIN_CONTRACT_EXECUTION="VECHAIN_CONTRACT_EXECUTION",r.TRC10_TRANSACTION="TRC10_TRANSACTION",r.TRX_TRANSACTION="TRX_TRANSACTION",r.TRON_CONTRACT_EXECUTION="TRON_CONTRACT_EXECUTION",r.NEO_NATIVE_TRANSACTION="NEO_NATIVE_TRANSACTION",r.NEO_GAS_TRANSACTION="NEO_GAS_TRANSACTION",r.NEO_CONTRACT_EXECUTION="NEO_CONTRACT_EXECUTION",r.IMX_TRANSACTION="IMX_TRANSACTION",r.IMX_ERC20_TRANSACTION="IMX_ERC20_TRANSACTION",r.IMX_ERC721_TRANSACTION="IMX_ERC721_TRANSACTION",r.ARBITRUM_TRANSACTION="ARBITRUM_TRANSACTION",r.ARBITRUM_ERC20_TRANSACTION="ARBITRUM_ERC20_TRANSACTION",r.ARBITRUM_ERC721_TRANSACTION="ARBITRUM_ERC721_TRANSACTION",r.ARBITRUM_CONTRACT_EXECUTION="ARBITRUM_CONTRACT_EXECUTION"},16693:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.WindowMode||(t.WindowMode={})).POPUP="POPUP",r.DIALOG="DIALOG",r.REDIRECT="REDIRECT"},71706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContractReadRequest=function(){}},84706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContractReadRequestInputParam=function(){}},85924:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContractReadRequestOutputParam=function(){}},85402:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContractReadResult=function(){}},69118:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;t.Profile=function(){this.hasMasterPin=!1},(r=t.VerificationResult||(t.VerificationResult={})).VERIFIED="verified",r.FRAUD="fraud"},78909:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TransactionRequest=function(){}},75229:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TransactionResult=function(){}},41166:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.TxStatus||(t.TxStatus={})).UNKNOWN="UNKNOWN",r.PENDING="PENDING",r.FAILED="FAILED",r.SUCCEEDED="SUCCEEDED"},95505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputs=[],t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.ArbitrumContractCallExecutionRequest=i},2241:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(18707).ArbitrumErcTokenTransactionRequest);t.ArbitrumErc20TransactionRequest=i},18495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(18707).ArbitrumErcTokenTransactionRequest);t.ArbitrumErc721TransactionRequest=i},18707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.ArbitrumErcTokenTransactionRequest=i},27210:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data="0x",t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.ArbitrumTransactionRequest=i},11529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.BitcoinTransactionRequest=i},88226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(84206),o=r(13111),s=r(64034),a=function(e){function t(t,r,n,i,s,a,u,c){var l=e.call(this,o.BuildTransactionRequestType.CONTRACT_EXECUTION,t,r,n,c)||this;return l.functionName=i,l.value=a,l.inputs=s,l.chainSpecificFields=u,l}return n.__extends(t,e),t.fromData=function(e){var t=e.walletId,r=e.to,n=e.secretType,i=e.network,o=e.functionName,a=e.value,u=e.chainSpecificFields;return new this(t,r,n,o,e.inputs?e.inputs.map((function(e){return s.ContractCallInput.fromData(e)})):[],a,u,i)},t}(i.BuildTransferRequestBase);t.BuildContractExecutionRequest=a},57907:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(38825).BuildTransferRequestBaseDto);t.BuildContractExecutionRequestDto=i},22308:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(73906),o=r(42831),s=function(e){function t(t,r,n){var i=e.call(this,o.BuildSignatureRequestType.EIP712,t,r)||this;return i.data=n,i}return n.__extends(t,e),t.fromData=function(e){return new this(e.walletId,e.secretType,e.data)},t}(i.BuildSignRequestBase);t.BuildEip712SignRequest=s},59225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(13111),o=function(e){function t(t,r,n,o,s){var a=e.call(this,i.BuildTransactionRequestType.GAS_TRANSFER,t,r,o,s)||this;return a.value=n,a}return n.__extends(t,e),t.fromData=function(e){return new this(e.walletId,e.to,e.value,e.secretType,e.network)},t}(r(84206).BuildTransferRequestBase);t.BuildGasTransferRequest=o},45287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(38825).BuildTransferRequestBaseDto);t.BuildGasTransferRequestDto=i},13789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(73906),o=r(42831),s=function(e){function t(t,r,n){var i=e.call(this,o.BuildSignatureRequestType.MESSAGE,t,r)||this;return i.data=n,i}return n.__extends(t,e),t.fromData=function(e){return new this(e.walletId,e.secretType,e.data)},t}(i.BuildSignRequestBase);t.BuildMessageSignRequest=s},97761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(13111),o=function(e){function t(t,r,n,o,s,a,u,c,l){var h=e.call(this,i.BuildTransactionRequestType.NFT_TRANSFER,t,r,n,c)||this;return h.tokenAddress=o,h.tokenId=s,h.amount=a||1,u&&(h.from=u),l&&(h.chainSpecificFields=l),h}return n.__extends(t,e),t.fromData=function(e){return new this(e.walletId,e.to,e.secretType,e.tokenAddress,e.tokenId,e.amount,e.from,e.network,e.chainSpecificFields)},t}(r(84206).BuildTransferRequestBase);t.BuildNftTransferRequest=o},73906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BuildSignRequestBase=function(e,t,r){this.type=e,this.walletId=t,this.secretType=r}},42831:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.BuildSignatureRequestType||(t.BuildSignatureRequestType={})).MESSAGE="MESSAGE",r.EIP712="EIP712"},13214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(13111),o=function(e){function t(t,r,n,o,s,a,u){var c=e.call(this,i.BuildTransactionRequestType.TRANSFER,t,r,n,a,u)||this;return c.value=o,s&&(c.data=s),c}return n.__extends(t,e),t.fromData=function(e){return new this(e.walletId,e.to,e.secretType,e.value,e.data,e.network,e.chainSpecificFields)},t}(r(84206).BuildTransferRequestBase);t.BuildSimpleTransactionRequest=o},3983:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(13111),o=function(e){function t(t,r,n,o,s,a,u){var c=e.call(this,i.BuildTransactionRequestType.TOKEN_TRANSFER,t,r,o,a,u)||this;return c.value=n,c.tokenAddress=s,c}return n.__extends(t,e),t.fromData=function(e){return new this(e.walletId,e.to,e.value,e.secretType,e.tokenAddress,e.network,e.chainSpecificFields)},t}(r(84206).BuildTransferRequestBase);t.BuildTokenTransferRequest=o},36250:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(38825).BuildTransferRequestBaseDto);t.BuildTokenTransferRequestDto=i},63316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(13111),o=function(e){function t(t,r,n,o,s,a,u,c,l){var h,f=this;return h=s&&c?i.BuildTransactionRequestType.NFT_TRANSFER:s?i.BuildTransactionRequestType.TOKEN_TRANSFER:i.BuildTransactionRequestType.TRANSFER,(f=e.call(this,h,t,r,n,l)||this).value=o,s&&(f.tokenAddress=s),a&&(f.data=a),u&&(f.from=u),c&&(f.tokenId=c),f}return n.__extends(t,e),t.fromData=function(e){return new this(e.walletId,e.to,e.secretType,e.value,e.tokenAddress,e.data,e.from,e.tokenId,e.network)},t}(r(84206).BuildTransferRequestBase);t.BuildTransactionRequest=o},13111:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.BuildTransactionRequestType||(t.BuildTransactionRequestType={})).TRANSFER="TRANSFER",r.GAS_TRANSFER="GAS_TRANSFER",r.TOKEN_TRANSFER="TOKEN_TRANSFER",r.NFT_TRANSFER="NFT_TRANSFER",r.CONTRACT_EXECUTION="CONTRACT_EXECUTION"},84206:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BuildTransferRequestBase=function(e,t,r,n,i,o){this.type=e,this.walletId=t,this.to=r,this.secretType=n,i&&(this.network=i),o&&(this.chainSpecificFields=o)}},38825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BuildTransferRequestBaseDto=function(){}},17697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(38825).BuildTransferRequestBaseDto);t.BuildTransferRequestDto=i},64034:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.type=e,this.value=t}return e.fromData=function(e){return new this(e.type,e.value)},e}();t.ContractCallInput=r},62228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputs=[],t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.EthereumContractCallExecutionRequest=i},15199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(13458).EthereumErcTokenTransactionRequest);t.EthereumErc20TransactionRequest=i},31277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(13458).EthereumErcTokenTransactionRequest);t.EthereumErc721TransactionRequest=i},13458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.EthereumErcTokenTransactionRequest=i},41474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data="0x",t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.EthereumTransactionRequest=i},86154:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.GochainErc20TransactionRequest=i},90861:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data="0x",t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.GochainTransactionRequest=i},255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.HederaTokenAssociationTransactionRequest=i},95683:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.LitecoinTransactionRequest=i},28822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputs=[],t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.MaticContractCallExecutionRequest=i},39386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(70336).MaticErcTokenTransactionRequest);t.MaticErc20TransactionRequest=i},71550:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(70336).MaticErcTokenTransactionRequest);t.MaticErc721TransactionRequest=i},70336:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.MaticErcTokenTransactionRequest=i},68506:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data="0x",t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.MaticTransactionRequest=i},56978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputs=[],t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.TronContractCallExecutionRequest=i},45005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.TronTransactionRequest=i},34012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expiration=0,t.contractCalls=[],t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.VechainContractCallExecutionRequest=i},99933:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VechainExecutableContractCall=function(){this.inputs=[]}},46653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expiration=0,t.clauses=[],t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.VechainTransactionRequest=i},3991:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expiration=0,t.clauses=[],t}return n.__extends(t,e),t}(r(78909).TransactionRequest);t.VechainVip180TransactionRequest=i},41422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(1598),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.confirmationRequestType=i.ConfirmationRequestType.CREATE_APPLICATION_WALLET,t}return n.__extends(t,e),t}(r(65607).CreateWalletRequest);t.CreateApplicationWalletRequest=o},6992:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(1598),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.confirmationRequestType=i.ConfirmationRequestType.CREATE_FIRST_WALLET,t}return n.__extends(t,e),t}(r(65607).CreateWalletRequest);t.CreateFirstWalletRequest=o},65607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CreateWalletRequest=function(e){this.secretType=e}},37561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1598),i=function(){function e(e,t){this.walletId=e,this.to=t,this.confirmationRequestType=n.ConfirmationRequestType.IMPORT_WALLET}return e.fromData=function(e){return new this(e.walletId,e.to)},e}();t.ImportWalletRequest=i},2987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TokenBalance=function(){}},63874:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.WalletType||(t.WalletType={})).THREEWAY_SHARED="THREEWAY_SHARED",n.USER_OWNED="USER_OWNED",n.UNCLAIMED="UNCLAIMED",n.APPLICATION="APPLICATION",(r=t.WalletAppType||(t.WalletAppType={})).APP="APP",r.PERSONAL="PERSONAL";t.Wallet=function(){this.description="",this.lastUpdated=0}},5686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WalletBalance=function(){}},86302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(89005),o=n.__importDefault(r(87864)),s=n.__importDefault(r(30070)),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.finishedEventType=i.EventTypes.POPUP_FINISHED,t.sendDataEventType=i.EventTypes.SEND_DATA,t}return n.__extends(t,e),t.openNewPopup=function(e,r,n,i){var o=new t(s.default.urls.connect+"/popup/general/init.html",r,i);return window.addEventListener("beforeunload",(function(){o.close()})),o.focus(),o.sendData(e,n&&JSON.parse(JSON.stringify(n))).catch((function(){o.close()})).finally((function(){i&&0==i.closePopup||o.close()}))},t.prototype.sendData=function(e,t){var r=this;return new Promise((function(n,i){r.onPopupMountedQueue.push(r.attachFinishedListener(n,i)),r.onPopupMountedQueue.push(r.sendDataToPopup(e,t)),r.processPopupMountedQueue()}))},t.prototype.sendDataToPopup=function(e,t){var r=this;return function(){if(r.isOpen()){var n={action:e,bearerToken:r.bearerTokenProvider()};t&&(n.data=t),r.popupWindow.postMessage({type:r.sendDataEventType,params:n},s.default.urls.connect)}}},t}(o.default);t.GeneralPopup=a},87864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(92892),o=r(89005),s=n.__importDefault(r(30070)),a=function(){function e(e,t,r){this.onPopupMountedQueue=[],this.isPopupMounted=!1,this.useOverlay=!0,this.useOverlay=!r||void 0===r.useOverlay||r.useOverlay,this.correlationID=""+Date.now()+Math.random(),this.bearerTokenProvider=t,this.popupMountedListener=this.createPopupMountedListener(this.correlationID),window.addEventListener("message",this.popupMountedListener),e=s.default.http().addRequestParams(e,{cid:this.correlationID,webURI:s.default.urls.connect}),this.popupWindow=i.PopupWindow.openNew(e,{useOverlay:this.useOverlay})}return e.clearPopupIntervals=function(){e.popupIntervals.forEach((function(t,r){clearInterval(e.popupIntervals[r])})),e.popupIntervals=[]},e.prototype.isOpen=function(){return this.popupWindow&&!this.popupWindow.closed},e.prototype.close=function(){this.popupMountedListener&&window.removeEventListener("message",this.popupMountedListener),this.popupWindow.close()},e.prototype.focus=function(){this.popupWindow.focus()},e.prototype.attachFinishedListener=function(t,r){var n=this;return function(){e.clearPopupIntervals(),n.finishedListener&&(window.removeEventListener("message",n.finishedListener),delete n.finishedListener),e.popupIntervals.push(n.createPopupClosedListener(r)),n.finishedListener=n.createFinishedListener(t,r),window.addEventListener("message",n.finishedListener)}},e.prototype.createPopupMountedListener=function(e){var t=this;return function(r){s.default.messages().hasValidOrigin(r)&&s.default.messages().hasCorrectCorrelationID(r,e)&&s.default.messages().isOfType(r,o.EventTypes.POPUP_MOUNTED)&&(t.isPopupMounted=!0,t.popupMountedListener&&(window.removeEventListener("message",t.popupMountedListener),delete t.popupMountedListener),t.processPopupMountedQueue())}},e.prototype.createPopupClosedListener=function(t){var r=this;return window.setInterval((function(){r.popupWindow&&!r.popupWindow.closed||(e.clearPopupIntervals(),t({status:"ABORTED",errors:[]}))}),100)},e.prototype.createFinishedListener=function(t,r){var i=this;return function(o){if(s.default.messages().hasValidOrigin(o)&&s.default.messages().isOfType(o,i.finishedEventType)&&s.default.messages().hasCorrectCorrelationID(o,i.correlationID))switch(e.clearPopupIntervals(),o.data.result.status){case"SUCCESS":t(o.data&&n.__assign({},o.data.result));break;case"ABORTED":case"FAILED":r(o.data&&n.__assign({},o.data.result))}}},e.prototype.processPopupMountedQueue=function(){if(this.isPopupMounted)for(var e=this.onPopupMountedQueue.shift();e;)e(),e=this.onPopupMountedQueue.shift()},e.popupIntervals=[],e}();t.default=a},31378:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.PopupActions||(t.PopupActions={})).MANAGE_WALLETS="manage-wallets",r.LINK_WALLET="link-wallets",r.CLAIM_WALLETS="claim-wallets",r.PERFORM_KYC="perform-kyc"},92892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163).__importDefault(r(30070)),i=function(){function e(e,t,r,i,o){if(this.id="id-"+n.default.uuidv4(),this.useOverlay=void 0===i||i,this.win=window.open(e,t,r),!this.win)throw new Error("Something went wrong while trying to open the popup");this.setCloseInterval(),this.openOverlay()}return e.openNew=function(t,r){var n=Object.assign({title:"Venly Connect",w:350,h:728,useOverlay:!0},r),i=screen.width/2-n.w/2,o=screen.height/2-n.h/2,s="toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, ";return s+="copyhistory=no, width="+n.w+", height="+n.h+", top="+o+", left="+i,new e(t,n.title,s,n.useOverlay)},e.prototype.setCloseInterval=function(){var e=this;this.interval=window.setInterval((function(){e.win&&!e.win.closed||(e.clearCloseInterval(),e.close())}),100)},e.prototype.clearCloseInterval=function(){window.clearInterval(this.interval)},e.prototype.close=function(){this.win&&(this.win.close(),this.closeOverlay())},Object.defineProperty(e.prototype,"closed",{get:function(){return!this.win||this.win.closed},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this.win&&this.win.focus()},e.prototype.postMessage=function(e,t,r){this.win&&this.win.postMessage(e,t,r)},e.prototype.closeOverlay=function(){e.closeOverlay(this.id,this.useOverlay)},e.prototype.openOverlay=function(){e.openOverlay(this.id,this.useOverlay,this.focus.bind(this),this.close.bind(this))},e.closeOverlay=function(e,t){if(t){var r=document.querySelector("#"+e);r&&r.parentNode&&r.parentNode.removeChild(r)}},e.openOverlay=function(e,t,r,n){var i=this;t&&fetch("https://connect-qa.venly.io/static/html/re-focus-layout.html").then((function(e){return e.text()})).then((function(t){var n=i.createOverlayContainer(e),o=document.createElement("div"),s=o.attachShadow({mode:"open"});o.classList.add("venly-connect-refocus-container"),s.innerHTML=t,o.style.position="absolute",o.style.top="calc(50% - 218px)",o.style.left="calc(50% - 147.5px)",o.style.zIndex="2147483647",n.appendChild(o),document.body.appendChild(n),i.addRefocusListeners(s,r)}))},e.addRefocusListeners=function(e,t){var r=e.querySelector(".venly-connect-re-focus-wrapper .reopen-action");r&&r.addEventListener("click",(function(){return t()}))},e.createOverlayContainer=function(e){var t=document.createElement("div");return t.id=e,t.classList.add("overlay-container"),t.style.position="fixed",t.style.zIndex="2147483647",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.background="rgba(33, 37, 41, 0.5)",t.style.width="100%",t},e.CONST={overlayClassName:"venly-connect__overlay",overlayLinkClassName:"venly-connect__reopen-link",overlayCloseLinkClassName:"venly-connect__close-link",overlayMessage:"Dont see the popup? Well help you re-open the popup to complete your action.",overlayLinkMessage:"Click to continue",overlayLinkStyle:"color: white; text-decoration: underline; font-weight: bold;"},e}();t.PopupWindow=i},78868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=n.__importDefault(r(30070)),o=r(89005),s=r(92892),a=function(){function e(e,t,r,n,o,s){this.id="id-"+i.default.uuidv4(),this.url=e,this.target=t,this.features=r,this.useOverlay=void 0===n||n,this.correlationID=o,this.replace=s,this.openOverlay()}return e.openNew=function(t,r,o){return n.__awaiter(this,void 0,void 0,(function(){var s,a,u,c,l;return n.__generator(this,(function(n){switch(n.label){case 0:return s=Object.assign({title:"Venly Connect",w:375,h:812,useOverlay:!0},o),a=screen.width/2-s.w/2,u=screen.height/2-s.h/2,c="popup=true, toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+s.w+", height="+s.h+", top="+u+", left="+a,t=i.default.http().addRequestParams(t,{cid:r}),[4,(l=new e(t,s.title,c,s.useOverlay,r)).open()];case 1:return n.sent(),[2,l]}}))}))},e.prototype.open=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t=this;return n.__generator(this,(function(r){switch(r.label){case 0:return e=this,[4,new Promise((function(e){t.popupMountedListener=t.createPopupMountedListener(t.correlationID,e),window.addEventListener("message",t.popupMountedListener);try{window.open(t.url,t.target,t.features)}catch(e){console.debug("popup open failed",e)}})).then((function(e){return t.setCloseInterval(),e}))];case 1:return e.win=r.sent(),[2]}}))}))},e.prototype.createPopupMountedListener=function(e,t){var r=this;return function(e){i.default.messages().hasValidOrigin(e)&&i.default.messages().isOfType(e,o.EventTypes.POPUP_MOUNTED)&&(r.popupMountedListener&&(window.removeEventListener("message",r.popupMountedListener),delete r.popupMountedListener),t(e.source))}},e.prototype.setCloseInterval=function(){var e=this;this.closeInterval=window.setInterval((function(){e.win&&!e.win.closed||e.close()}),100)},e.prototype.clearCloseInterval=function(){window.clearInterval(this.closeInterval)},e.prototype.close=function(){this.closePopup(),this.closeOverlay(),this.clearCloseInterval(),this.removePopupMountedListener()},e.prototype.closePopup=function(){this.win&&this.win.close()},e.prototype.removePopupMountedListener=function(){this.popupMountedListener&&(window.removeEventListener("message",this.popupMountedListener),delete this.popupMountedListener)},Object.defineProperty(e.prototype,"closed",{get:function(){return!this.win||this.win.closed},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this.win&&this.win.focus()},e.prototype.closeOverlay=function(){s.PopupWindow.closeOverlay(this.id,this.useOverlay)},e.prototype.openOverlay=function(){s.PopupWindow.openOverlay(this.id,this.useOverlay,this.focus,this.close)},e}();t.PopupWindowAsync=a},7161:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(63316),o=r(13214),s=r(3983),a=r(97761),u=r(59225),c=r(88226),l=n.__importDefault(r(87864)),h=r(89005),f=n.__importDefault(r(30070)),d=r(13789),p=r(22308),m=r(37561),g=function(){function e(e,t){var r=this;this.bearerTokenProvider=e,this.popup=new v(f.default.urls.connect+"/popup/transaction/init.html",this.bearerTokenProvider,t),window.addEventListener("beforeunload",(function(){r.closePopup()}))}return e.prototype.closePopup=function(){this.popup.close()},e.prototype.isOpen=function(){return this.popup.isOpen()},e.prototype.sign=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return e.hash=void 0===e.hash||e.hash,e.prefix=void 0===e.hash||e.prefix,[2,this.signRequest(e)]}))}))},e.prototype.signMessage=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.signRequest(d.BuildMessageSignRequest.fromData(e))]}))}))},e.prototype.signEip712=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.signRequest(p.BuildEip712SignRequest.fromData(e))]}))}))},e.prototype.signTransaction=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.sign(e)]}))}))},e.prototype.executeNativeTransaction=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.handleRequest("execute/"+e.type,e)]}))}))},e.prototype.executeTransaction=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return"string"==typeof e?[2,this.execute({transactionId:e})]:[2,this.execute(i.BuildTransactionRequest.fromData(e))]}))}))},e.prototype.executeTransfer=function(e){return this.execute(o.BuildSimpleTransactionRequest.fromData(e))},e.prototype.executeTokenTransfer=function(e){return this.execute(s.BuildTokenTransferRequest.fromData(e))},e.prototype.executeNftTransfer=function(e){return this.execute(a.BuildNftTransferRequest.fromData(e))},e.prototype.executeGasTransfer=function(e){return this.execute(u.BuildGasTransferRequest.fromData(e))},e.prototype.executeContract=function(e){return this.execute(c.BuildContractExecutionRequest.fromData(e))},e.prototype.executeSavedTransaction=function(e){return this.handleRequest("execute/"+e,{})},e.prototype.resubmitTransaction=function(e){return this.handleRequest("resubmit",{transactionId:e})},e.prototype.cancelTransaction=function(e){return this.handleRequest("cancel",{transactionId:e})},e.prototype.importWallet=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.confirm(m.ImportWalletRequest.fromData(e))]}))}))},e.prototype.confirm=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.handleRequest("confirm",e)]}))}))},e.prototype.execute=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.handleRequest("execute",e)]}))}))},e.prototype.signRequest=function(e){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.handleRequest("sign",e)]}))}))},e.prototype.handleRequest=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var r=this;return n.__generator(this,(function(n){return this.popup.focus(),[2,this.popup.sendData(e,Object.assign({},t)).finally((function(){r.closePopup()}))]}))}))},e}();t.PopupSigner=g;var v=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return i.finishedEventType=h.EventTypes.SIGNER_FINISHED,i.sendDataEventType=h.EventTypes.SEND_TRANSACTION_DATA,i}return n.__extends(t,e),t.prototype.sendData=function(e,t){var r=this;return new Promise((function(n,i){r.onPopupMountedQueue.push(r.attachFinishedListener(n,i)),r.onPopupMountedQueue.push(r.sendDataToPopup(e,t)),r.processPopupMountedQueue()}))},t.prototype.sendDataToPopup=function(e,t){var r=this;return function(){r.isOpen()&&r.popupWindow.postMessage({type:r.sendDataEventType,params:{action:e,transactionRequest:t,bearerToken:r.bearerTokenProvider()}},f.default.urls.connect)}},t}(l.default)},7374:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=r(63316),o=n.__importDefault(r(30070)),s=r(59225),a=r(3983),u=r(97761),c=r(13214),l=r(88226),h=r(13789),f=r(22308),d=r(37561),p=function(){function e(e){this.bearerTokenProvider=e}return e.prototype.executeNativeTransaction=function(e,t){var r=this;return new Promise((function(n,i){o.default.http().postInForm(o.default.urls.connect+"/transaction/execute/"+e.type.toLowerCase(),e,r.bearerTokenProvider,t),n()}))},e.prototype.executeTransaction=function(e,t){return"string"==typeof e?this.executeSavedTransaction(e,t):this.executeProvidedTransaction(i.BuildTransactionRequest.fromData(e),t)},e.prototype.executeTransfer=function(e,t){return this.executeProvidedTransaction(c.BuildSimpleTransactionRequest.fromData(e),t)},e.prototype.executeTokenTransfer=function(e,t){return this.executeProvidedTransaction(a.BuildTokenTransferRequest.fromData(e),t)},e.prototype.executeNftTransfer=function(e,t){return this.executeProvidedTransaction(u.BuildNftTransferRequest.fromData(e),t)},e.prototype.executeGasTransfer=function(e,t){return this.executeProvidedTransaction(s.BuildGasTransferRequest.fromData(e),t)},e.prototype.executeContract=function(e,t){return this.executeProvidedTransaction(l.BuildContractExecutionRequest.fromData(e),t)},e.prototype.executeSavedTransaction=function(e,t){var r=this;return new Promise((function(n,i){o.default.http().postInForm(o.default.urls.connect+"/transaction/execute/"+e,{},r.bearerTokenProvider,t),n()}))},e.prototype.resubmitTransaction=function(e,t){var r=this;return new Promise((function(n,i){o.default.http().postInForm(o.default.urls.connect+"/transaction/resubmit/"+e,{},r.bearerTokenProvider,t),n()}))},e.prototype.cancelTransaction=function(e,t){var r=this;return new Promise((function(n,i){o.default.http().postInForm(o.default.urls.connect+"/transaction/cancel/"+e,{},r.bearerTokenProvider,t),n()}))},e.prototype.executeProvidedTransaction=function(e,t){var r=this;return new Promise((function(n,i){o.default.http().postInForm(o.default.urls.connect+"/transaction/execute",e,r.bearerTokenProvider,t),n()}))},e.prototype.sign=function(e,t){var r=this;return new Promise((function(n,i){o.default.http().postInForm(o.default.urls.connect+"/transaction/sign/"+e.type.toLowerCase(),e,r.bearerTokenProvider,t),n()}))},e.prototype.signMessage=function(e,t){return this.signProvidedSignature(h.BuildMessageSignRequest.fromData(e),t)},e.prototype.signEip712=function(e,t){return this.signProvidedSignature(f.BuildEip712SignRequest.fromData(e),t)},e.prototype.signProvidedSignature=function(e,t){var r=this;return new Promise((function(n,i){o.default.http().postInForm(o.default.urls.connect+"/transaction/sign",e,r.bearerTokenProvider,t),n()}))},e.prototype.signTransaction=function(e,t){return this.sign(e,t)},e.prototype.importWallet=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(r){return[2,this.confirm(d.ImportWalletRequest.fromData(e),t)]}))}))},e.prototype.confirm=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var r=this;return n.__generator(this,(function(n){return[2,new Promise((function(n,i){o.default.http().postInForm(o.default.urls.connect+"/confirm/"+e.confirmationRequestType.toLowerCase(),e,r.bearerTokenProvider,t),n()}))]}))}))},e}();t.RedirectSigner=p},12415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(7161),o=r(7374),s=r(16693),a=function(){function e(){}return e.createSignerFor=function(e,t,r){switch(e){case s.WindowMode.POPUP:return new i.PopupSigner(t,r);case s.WindowMode.REDIRECT:return new o.RedirectSigner(t);default:throw new Error("The provided signMethod is not supported")}},e}();t.SignerFactory=a,(n=t.SignMethod||(t.SignMethod={})).POPUP="POPUP",n.REDIRECT="REDIRECT"},89005:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.EventTypes||(t.EventTypes={})).POPUP_CLOSED="POPUP_CLOSED",r.POPUP_FINISHED="POPUP_FINISHED",r.POPUP_MOUNTED="POPUP_MOUNTED",r.SEND_DATA="SEND_DATA",r.SEND_TRANSACTION_DATA="SEND_TRANSACTION_DATA",r.SIGNER_FINISHED="SIGNER_FINISHED",r.TRANSACTION_EXECUTED="TRANSACTION_EXECUTED",r.TRANSACTION_SIGNED="TRANSACTION_SIGNED",r.CHECK_AUTHENTICATED="CHECK_AUTHENTICATED",r.AUTHENTICATE="AUTHENTICATE",r.LOGOUT="LOGOUT"},30070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5163),i=function(){function e(){}return Object.defineProperty(e,"rawEnvironment",{get:function(){return e.rawEnvironmentHolder},set:function(t){e.rawEnvironmentHolder=t;var r=t.split("-");e.environment=r[0],e.connectEnvironment=r.length>1&&r[1]||""},enumerable:!0,configurable:!0}),e.environments=function(){return{qa:{api:"https://api-wallet-qa.venly.io/api",connect:"https://connect-qa.venly.io",login:"https://login-qa.arkane.network/auth"},staging:{api:"https://api-wallet-staging.venly.io/api",connect:"https://connect-staging.venly.io",login:"https://login-staging.arkane.network/auth"},sandbox:{api:"https://api-wallet-sandbox.venly.io/api",connect:"https://connect-sandbox.venly.io",login:"https://login-sandbox.venly.io/auth"}}},Object.defineProperty(e,"urls",{get:function(){var t="";switch(e.environment){case"local":t="qa";break;case"prod":case"production":t="";break;default:t=e.environment}var r=this.environments()[t];return r?{api:r.api,connect:"local"===e.environment||"local"===e.connectEnvironment?"http://127.0.0.1:8181":r.connect,login:r.login}:{api:"https://api-wallet.venly.io/api",connect:"https://connect.venly.io",login:"https://login.arkane.network/auth"}},enumerable:!0,configurable:!0}),e.removeNulls=function(t){return Object.keys(t).filter((function(e){return null!==t[e]&&void 0!==t[e]})).reduce((function(r,n){var i,o;return"object"!=typeof t[n]||Array.isArray(t[n])?Object.assign(r,((o={})[n]=t[n],o)):Object.assign(r,((i={})[n]=e.removeNulls(t[n]),i))}),{})},e.removeNullsAndEmpty=function(t){return Object.keys(t).filter((function(e){return null!==t[e]&&void 0!==t[e]&&""!==t[e]})).reduce((function(r,n){var i,o;return"object"!=typeof t[n]||Array.isArray(t[n])?Object.assign(r,((o={})[n]=t[n],o)):Object.assign(r,((i={})[n]=e.removeNullsAndEmpty(t[n]),i))}),{})},e.messages=function(){return{hasValidOrigin:function(t){return t.origin===e.urls.connect},hasType:function(e){return e.data&&e.data.type&&""!==e.data.type},isOfType:function(t,r){return e.messages().hasType(t)&&t.data.type===r.toString()},hasCorrectCorrelationID:function(e,t){return t&&e.data&&e.data.correlationID===t}}},e.formatNumber=function(e,t,r){return void 0===t&&(t=2),void 0===r&&(r=t),new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:r}).format(e)},e.rawValue=function(){return{toTokenValue:function(e,t){return e/Math.pow(10,t)},toGwei:function(e){return e/Math.pow(10,9)}}},e.gwei=function(){return{toRawValue:function(e){return e*Math.pow(10,9)}}},e.openExternalUrl=function(e,t){if(void 0===t&&(t=!0),t){var r=window.open("","_blank");return r&&(r.opener=null,r.location.assign(e)),r}return window.location.href=e,window},e.zeroIfUndefined=function(e){return e||0},e.defaultRedirectUriIfNotPresent=function(e){return void 0===e&&(e={}),e.redirectUri||(e.redirectUri=window.location.href),e},e.http=function(){return{postInForm:function(t,r,i,o){o=e.defaultRedirectUriIfNotPresent(o);var s=document.createElement("form");s.action=e.http().buildUrl(t,o),s.method="POST";var a=document.createElement("input");a.type="hidden",a.name="bearerToken",a.value=i(),s.appendChild(a);var u=document.createElement("input");u.type="hidden",u.name="data",u.value=JSON.stringify(n.__assign({},r)),s.appendChild(u),document.body.appendChild(s),s.submit()},buildUrl:function(t,r){if(r&&(r.redirectUri||r.correlationID)){var n={};return r.redirectUri&&(n.redirectUri=r.redirectUri),r.correlationID&&(n.cid=r.correlationID),e.http().addRequestParams(t,n)}return t},addRequestParams:function(e,t){if(e&&t){var r=new URLSearchParams(t).toString();return e&&e.indexOf("?")>0?e+"&"+r:e+"?"+r}return e}}},e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e.rawEnvironmentHolder="",e.environment="",e.connectEnvironment="",e}();t.default=i},97877:function(e,t,r){"use strict";this&&this.__awaiter,Object.defineProperty(t,"__esModule",{value:!0});const n=r(91280),i=r(69234),o=r(530),s=r(76131);function a(e){return(t,r,n,i)=>"eth_chainId"===t.method?(r.result=e,i()):n()}t.default=function({rpcUrl:e,chainId:t}){const r=(0,i.createFetchMiddleware)({btoa,fetch,rpcUrl:e}),u=(0,o.providerFromMiddleware)(r),c=new s.PollingBlockTracker(Object.assign(Object.assign({},{}),{provider:u}));return{networkMiddleware:(0,n.mergeMiddleware)([a(t),(0,i.createBlockRefRewriteMiddleware)({blockTracker:c}),(0,i.createBlockCacheMiddleware)({blockTracker:c}),(0,i.createInflightCacheMiddleware)(),(0,i.createBlockTrackerInspectorMiddleware)({blockTracker:c}),r]),blockTracker:c}}},91116:function(e,t,r){"use strict";var n,i,o,s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VenlyProvider=t.SECRET_TYPES=t.WindowMode=t.SecretType=void 0;const c=r(38981),l=r(37246),h=r(66039),f=r(91280),d=r(530),p=u(r(26605)),m=u(r(60926)),g=u(r(97877)),v=r(76104),y=r(24426);var w=r(38981);Object.defineProperty(t,"SecretType",{enumerable:!0,get:function(){return w.SecretType}}),Object.defineProperty(t,"WindowMode",{enumerable:!0,get:function(){return w.WindowMode}});var _=r(66039);Object.defineProperty(t,"SECRET_TYPES",{enumerable:!0,get:function(){return _.SECRET_TYPES}});class E{constructor(){n.add(this)}get connect(){var e;return null===(e=this.venlyController)||void 0===e?void 0:e.venlyConnect}changeSecretType(e=c.SecretType.ETHEREUM,t){return s(this,void 0,void 0,(function*(){if(!this._provider)throw new Error("Please initialise provider first (Venly.createProvider)");const r=Object.assign(Object.assign(Object.assign({},this.venlyController.options),{secretType:e}),t&&{environment:h.SECRET_TYPES[Number(t)].env});return this._provider.engine=a(this,n,"m",o).call(this,r),this._provider.emit("chainChanged",t),this._provider.emit("accountsChanged",yield this.venlyController.getAccounts()),this._provider}))}checkAuthenticated(){return s(this,void 0,void 0,(function*(){if(!this._provider)throw new Error("Please initialise provider first (Venly.createProvider)");return this.venlyController.checkAuthenticated()}))}authenticate(e){return s(this,void 0,void 0,(function*(){if(!this._provider)throw new Error("Please initialise provider first (Venly.createProvider)");return this.venlyController.authenticate(e)}))}logout(){return s(this,void 0,void 0,(function*(){if(!this._provider)throw new Error("Please initialise provider first (Venly.createProvider)");yield this.venlyController.logout()}))}createProvider(e){var t,r,i,u;return s(this,void 0,void 0,(function*(){null!==(t=e.environment)&&void 0!==t||(e.environment="production"),null!==(r=e.windowMode)&&void 0!==r||(e.windowMode=c.WindowMode.POPUP),null!==(i=e.secretType)&&void 0!==i||(e.secretType=c.SecretType.ETHEREUM),null!==(u=e.skipAuthentication)&&void 0!==u||(e.skipAuthentication=!1);const s=a(this,n,"m",o).call(this,e),l=(0,p.default)(s);return this._provider=l,e.skipAuthentication||(yield this.venlyController.getAccounts()),this._provider}))}}t.VenlyProvider=E,n=new WeakSet,i=function(e){const t=e.secretType.toLowerCase();let r=e.environment.replace("-local","");return r.startsWith("prod")?`https://${t}-node.venly.io`:`https://${t}-node-${r}.venly.io`},o=function(e){this.venlyController&&this.venlyController.options.environment==e.environment?(this.venlyController.options=e,this.venlyController.resetWallets()):this.venlyController=new l.VenlyController(e);const t=new f.JsonRpcEngine,r=(0,m.default)({getAccounts:this.venlyController.getAccounts.bind(this.venlyController),processTransaction:this.venlyController.processTransaction.bind(this.venlyController),processSignTransaction:this.venlyController.processSignTransaction.bind(this.venlyController),processEthSignMessage:this.venlyController.processEthSignMessage.bind(this.venlyController),processTypedMessage:this.venlyController.processTypedMessage.bind(this.venlyController),processTypedMessageV3:this.venlyController.processTypedMessage.bind(this.venlyController),processTypedMessageV4:this.venlyController.processTypedMessage.bind(this.venlyController),processPersonalMessage:this.venlyController.processPersonalMessage.bind(this.venlyController),getTransactionByHash:this.venlyController.getTransactionByHash.bind(this.venlyController),getPendingTransactions:this.venlyController.getPendingTransactions.bind(this.venlyController),getPendingNonce:this.venlyController.getPendingNonce.bind(this.venlyController),changeSecretType:this.changeSecretType.bind(this)});t.push(r);const o=a(this,n,"m",i).call(this,e),s=h.CHAIN_IDS[e.secretType][e.environment],{networkMiddleware:u,blockTracker:c}=(0,g.default)({rpcUrl:o,chainId:s});this._blockTracker=c;const p=(0,d.providerFromMiddleware)(u),w=v({provider:p,blockTracker:c}),_=y({provider:p,blockTracker:c});return _.events.on("notification",(e=>t.emit("notification",e))),t.push(w),t.push(_.middleware),t.push(u),t},globalThis.Venly=new E},9204:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createSwitchEthereumChainMiddleware=t.createRequestAccountsMiddleware=void 0;const i=r(91280),o=r(66039);t.createRequestAccountsMiddleware=function({getAccounts:e}){return(0,i.createAsyncMiddleware)(((t,r,i)=>n(this,void 0,void 0,(function*(){"eth_requestAccounts"===t.method?r.result=yield e():i()}))))},t.createSwitchEthereumChainMiddleware=function({changeSecretType:e}){return(0,i.createAsyncMiddleware)(((t,r,i)=>n(this,void 0,void 0,(function*(){var n;if("wallet_switchEthereumChain"!==t.method)return void i();const s=null===(n=t.params[0])||void 0===n?void 0:n.chainId,a=o.SECRET_TYPES[Number(s)];a&&(yield e(a.secretType,s))?r.result=null:r.error={code:-32602,message:"Chain not supported"}}))))}},60926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(91280),i=r(69234),o=r(39182),s=r(9204);t.default=function({getAccounts:e,processDecryptMessage:t,processEncryptionPublicKey:r,processEthSignMessage:a,processPersonalMessage:u,processTransaction:c,processSignTransaction:l,processTypedMessage:h,processTypedMessageV3:f,processTypedMessageV4:d,getPendingNonce:p,getTransactionByHash:m,getPendingTransactions:g,changeSecretType:v}){return(0,n.mergeMiddleware)([(0,n.createScaffoldMiddleware)({web3_clientVersion:"VenlyProvider/v3.0.0",eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!1}),(0,i.createWalletMiddleware)({getAccounts:e,processDecryptMessage:t,processEncryptionPublicKey:r,processEthSignMessage:a,processPersonalMessage:u,processTransaction:c,processSignTransaction:l,processTypedMessage:h,processTypedMessageV3:f,processTypedMessageV4:d}),(0,s.createRequestAccountsMiddleware)({getAccounts:e}),(0,o.createPendingNonceMiddleware)({getPendingNonce:p}),(0,o.createTransactionByHashMiddleware)({getTransactionByHash:m}),(0,o.createPendingTransactionsMiddleware)({getPendingTransactions:g}),(0,s.createSwitchEthereumChainMiddleware)({changeSecretType:v})])}},39182:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createPendingTransactionsMiddleware=t.createTransactionByHashMiddleware=t.createPendingNonceMiddleware=void 0;const i=r(91280);t.createPendingNonceMiddleware=function({getPendingNonce:e}){return(0,i.createAsyncMiddleware)(((e,t,r)=>n(this,void 0,void 0,(function*(){const{method:t,params:n}=e;if("eth_getTransactionCount"!==t)return void r();const[i,o]=n;"pending"===o?yield r():r()}))))},t.createTransactionByHashMiddleware=function({getTransactionByHash:e}){return(0,i.createAsyncMiddleware)(((t,r,i)=>n(this,void 0,void 0,(function*(){const{method:n,params:o}=t;if("eth_getTransactionByHash"!==n)return void i();const[s]=o;r.result=yield e(s)}))))},t.createPendingTransactionsMiddleware=function({getPendingTransactions:e}){return(0,i.createAsyncMiddleware)(((t,r,i)=>n(this,void 0,void 0,(function*(){"eth_pendingTransactions"===t.method?r.result=yield e():i()}))))}},26605:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(24536));t.default=function(e){return new o({engine:e})};class o extends i.default{constructor({engine:e}){super(),this.request=e=>new Promise(((t,r)=>{this.sendAsync(e,((e,n)=>{e?r(n.error):t(n.result)}))})),this.sendAsync=(e,t)=>{this.engine.handle(e,t)},this.send=(e,t)=>{if("function"!=typeof t)throw new Error('Must provide callback to "send" method.');this.engine.handle(e,t)},this.engine=e,e.on&&e.on("notification",(e=>{this.emit("data",null,e)}))}}},66039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_TYPES=t.SECRET_TYPES=t.CHAIN_IDS=void 0,t.CHAIN_IDS={AVAC:{production:"0xA86A",staging:"0xA869",qa:"0xA869"},BSC:{production:"0x38",staging:"0x61",qa:"0x61"},ETHEREUM:{production:"0x1",staging:"0x5",qa:"0x5"},GOCHAIN:{production:"0x3c",staging:"0x7a69",qa:"0x7a69"},MATIC:{production:"0x89",staging:"0x13881",qa:"0x13881"}},t.SECRET_TYPES={43114:{env:"production",secretType:"AVAC"},43113:{env:"staging",secretType:"AVAC"},56:{env:"production",secretType:"BSC"},97:{env:"staging",secretType:"BSC"},1:{env:"production",secretType:"ETHEREUM"},5:{env:"staging",secretType:"ETHEREUM"},60:{env:"production",secretType:"GOCHAIN"},31337:{env:"staging",secretType:"GOCHAIN"},137:{env:"production",secretType:"MATIC"},80001:{env:"staging",secretType:"MATIC"}},t.REQUEST_TYPES={AVAC:{transaction:"AVAC_TRANSACTION",signature:"AVAC_TRANSACTION"},BSC:{transaction:"BSC_TRANSACTION",signature:"BSC_TRANSACTION"},ETHEREUM:{transaction:"ETH_TRANSACTION",signature:"ETHEREUM_TRANSACTION"},GOCHAIN:{transaction:"GO_TRANSACTION",signature:"GOCHAIN_TRANSACTION"},MATIC:{transaction:"MATIC_TRANSACTION",signature:"MATIC_TRANSACTION"}}},37246:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.VenlyController=void 0;const o=r(38981),s=r(66039),a=r(13673);t.VenlyController=class{constructor(e){this.wallets=[],this.options=e,this.venlyConnect=new o.VenlyConnect(e.clientId,{environment:e.environment,windowMode:e.windowMode,bearerTokenProvider:e.bearerTokenProvider,useOverlayWithPopup:!1})}resetWallets(){this.lastWalletsFetch=void 0,this.wallets=[]}authenticate(e){return n(this,void 0,void 0,(function*(){return this.authResult&&this.authResult.isAuthenticated||(this.authResult=yield this.venlyConnect.flows.authenticate(Object.assign(Object.assign({},e),{forcePopup:!0}))),this.authResult}))}checkAuthenticated(){return n(this,void 0,void 0,(function*(){return this.authResult=yield this.venlyConnect.checkAuthenticated()}))}logout(){return n(this,void 0,void 0,(function*(){this.authResult=yield this.venlyConnect.logout()}))}getAccounts(){return n(this,void 0,void 0,(function*(){return this.authResult&&this.authResult.isAuthenticated?yield this.refreshWallets():this.authResult=yield this.startGetAccountFlow(this.options.authenticationOptions),this.wallets.map((e=>e.address))}))}processTransaction(e,t){var r;return n(this,void 0,void 0,(function*(){const t=this.venlyConnect.createSigner(),n=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({walletId:this.getWalletIdFrom(e.from),type:s.REQUEST_TYPES[this.options.secretType].transaction},e.to&&{to:e.to}),e.data&&{data:e.data}),e.value&&{value:a.BigNumber.from(e.value).toString()}),e.gas&&{gas:a.BigNumber.from(e.gas).toString()}),e.gasPrice&&{gasPrice:a.BigNumber.from(e.gasPrice).toString()}),e.nonce&&{nonce:a.BigNumber.from(e.nonce).toString()}),i=yield t.executeNativeTransaction(n);if("SUCCESS"===i.status)return i.result.transactionHash;throw new Error(null===(r=i.errors)||void 0===r?void 0:r.join(", "))}))}processSignTransaction(e,t){var r;return n(this,void 0,void 0,(function*(){const t=this.venlyConnect.createSigner(),n=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({walletId:this.getWalletIdFrom(e.from),type:s.REQUEST_TYPES[this.options.secretType].signature},e.to&&{to:e.to}),e.data&&{data:e.data}),e.value&&{value:a.BigNumber.from(e.value).toString()}),e.gas&&{gas:a.BigNumber.from(e.gas).toString()}),e.gasPrice&&{gasPrice:a.BigNumber.from(e.gasPrice).toString()}),e.nonce&&{nonce:a.BigNumber.from(e.nonce).toString()}),i=yield t.sign(n);if("SUCCESS"===i.status)return i.result.signedTransaction;throw new Error(null===(r=i.errors)||void 0===r?void 0:r.join(", "))}))}processEthSignMessage(e,t){var r;return n(this,void 0,void 0,(function*(){const t=this.venlyConnect.createSigner(),n=yield t.signMessage({walletId:this.getWalletIdFrom(e.from),secretType:this.options.secretType,data:e.data});if("SUCCESS"===n.status)return n.result.signature;throw new Error(null===(r=n.errors)||void 0===r?void 0:r.join(", "))}))}processTypedMessage(e,t,r){var i,o;return n(this,void 0,void 0,(function*(){const t=this.venlyConnect.createSigner();try{var r=JSON.parse(e.data)}catch(t){r=e.data}(null===(i=null==r?void 0:r.domain)||void 0===i?void 0:i.chainId)&&(r.domain.chainId=a.BigNumber.from(r.domain.chainId).toString());const n=yield t.signEip712({walletId:this.getWalletIdFrom(e.from),secretType:this.options.secretType,data:r});if("SUCCESS"===n.status)return n.result.signature;throw new Error(null===(o=n.errors)||void 0===o?void 0:o.join(", "))}))}processPersonalMessage(e,t){var r;return n(this,void 0,void 0,(function*(){const t=this.venlyConnect.createSigner(),n=yield t.signMessage({walletId:this.getWalletIdFrom(e.from),secretType:this.options.secretType,data:e.data});if("SUCCESS"===n.status)return n.result.signature;throw new Error(null===(r=n.errors)||void 0===r?void 0:r.join(", "))}))}getTransactionByHash(e){return n(this,void 0,void 0,(function*(){const t=yield this.venlyConnect.api.getTransactionStatus(e,this.options.secretType);if("SUCCEEDED"==(null==t?void 0:t.status)){t.value=a.BigNumber.from(t.rawValue).toString(),t.data||(t.data="0x");const{rawValue:e}=t;return i(t,["rawValue"])}return null}))}getPendingTransactions(){return n(this,void 0,void 0,(function*(){return(yield this.venlyConnect.api.getPendingTransactions()).map((e=>{const t=e.transactionRequest,{rawValue:r,type:n}=t,o=i(t,["rawValue","type"]);return o.value=a.BigNumber.from(o.value).toString(),o}))}))}getPendingNonce(e){return n(this,void 0,void 0,(function*(){const t=yield this.venlyConnect.api.getPendingTransactions();return"0x"+(Number(e)+t.length).toString(16)}))}refreshWallets(){return n(this,void 0,void 0,(function*(){if(!this.lastWalletsFetch||Date.now()-this.lastWalletsFetch>5e3){let e=yield this.venlyConnect.api.getWallets({secretType:this.options.secretType,includeBalance:!1});(!e||e.length<1)&&(e=(yield this.venlyConnect.flows.getAccount(this.options.secretType,this.options.authenticationOptions)).wallets),this.wallets=e}return this.lastWalletsFetch=Date.now(),this.wallets}))}startGetAccountFlow(e){return n(this,void 0,void 0,(function*(){return e&&(this.options.authenticationOptions=e),this.venlyConnect.flows.getAccount(this.options.secretType,this.options.authenticationOptions).then((e=>n(this,void 0,void 0,(function*(){return yield new Promise(((t,r)=>{e.isAuthenticated?e.wallets&&e.wallets.length<=0?r("no-wallet-linked"):(this.wallets=e.wallets,this.lastWalletsFetch=Date.now(),t(e)):r("not-authenticated")}))}))))}))}getWalletIdFrom(e){let t=this.wallets.find((t=>{var r;return(null===(r=t.address)||void 0===r?void 0:r.toLowerCase())===(null==e?void 0:e.toLowerCase())}));return(null==t?void 0:t.id)||""}}},13673:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BigNumber:()=>N,FixedFormat:()=>G,FixedNumber:()=>J,_base16To36:()=>L,_base36To16:()=>B,formatFixed:()=>W,parseFixed:()=>V});var n=r(31220),i=r.n(n);let o=!1,s=!1;const a={debug:1,default:2,info:2,warning:3,error:4,off:5};let u=a.default,c=null;const l=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var h,f;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(h||(h={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(f||(f={}));const d="0123456789abcdef";class p{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==a[r]&&this.throwArgumentError("invalid log level name","logLevel",e),u>a[r]||console.log.apply(console,t)}debug(...e){this._log(p.levels.DEBUG,e)}info(...e){this._log(p.levels.INFO,e)}warn(...e){this._log(p.levels.WARNING,e)}makeError(e,t,r){if(s)return this.makeError("censored error",t,{});t||(t=p.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=d[t[e]>>4],r+=d[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case f.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case f.CALL_EXCEPTION:case f.INSUFFICIENT_FUNDS:case f.MISSING_NEW:case f.NONCE_EXPIRED:case f.REPLACEMENT_UNDERPRICED:case f.TRANSACTION_REPLACED:case f.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const a=new Error(e);return a.reason=i,a.code=t,Object.keys(r).forEach((function(e){a[e]=r[e]})),a}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,p.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),l&&this.throwError("platform missing String.prototype.normalize",p.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:l})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,p.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,p.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,p.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,p.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",p.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",p.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",p.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return c||(c=new p("logger/5.7.0")),c}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",p.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),o){if(!e)return;this.globalLogger().throwError("error censorship permanent",p.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}s=!!e,o=!!t}static setLogLevel(e){const t=a[e.toLowerCase()];null!=t?u=t:p.globalLogger().warn("invalid log level - "+e)}static from(e){return new p(e)}}p.errors=f,p.levels=h;const m=new p("bytes/5.7.0");function g(e){return!!e.toHexString}function v(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return v(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function y(e){return"number"==typeof e&&e==e&&e%1==0}function w(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!y(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!y(r)||r<0||r>=256)return!1}return!0}function _(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const E="0123456789abcdef";function b(e,t){if(t||(t={}),"number"==typeof e){m.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=E[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),g(e))return e.toHexString();if(_(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":m.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(w(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=E[(240&n)>>4]+E[15&n]}return t}return m.throwArgumentError("invalid hexlify value","value",e)}function T(e,t){for("string"!=typeof e?e=b(e):_(e)||m.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&m.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}const R="bignumber/5.7.0";var A=i().BN;const S=new p(R),I={},M=9007199254740991;let O=!1;class N{constructor(e,t){e!==I&&S.throwError("cannot call constructor directly; use BigNumber.from",p.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return C(k(this).fromTwos(e))}toTwos(e){return C(k(this).toTwos(e))}abs(){return"-"===this._hex[0]?N.from(this._hex.substring(1)):this}add(e){return C(k(this).add(k(e)))}sub(e){return C(k(this).sub(k(e)))}div(e){return N.from(e).isZero()&&x("division-by-zero","div"),C(k(this).div(k(e)))}mul(e){return C(k(this).mul(k(e)))}mod(e){const t=k(e);return t.isNeg()&&x("division-by-zero","mod"),C(k(this).umod(t))}pow(e){const t=k(e);return t.isNeg()&&x("negative-power","pow"),C(k(this).pow(t))}and(e){const t=k(e);return(this.isNegative()||t.isNeg())&&x("unbound-bitwise-result","and"),C(k(this).and(t))}or(e){const t=k(e);return(this.isNegative()||t.isNeg())&&x("unbound-bitwise-result","or"),C(k(this).or(t))}xor(e){const t=k(e);return(this.isNegative()||t.isNeg())&&x("unbound-bitwise-result","xor"),C(k(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&x("negative-width","mask"),C(k(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&x("negative-width","shl"),C(k(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&x("negative-width","shr"),C(k(this).shrn(e))}eq(e){return k(this).eq(k(e))}lt(e){return k(this).lt(k(e))}lte(e){return k(this).lte(k(e))}gt(e){return k(this).gt(k(e))}gte(e){return k(this).gte(k(e))}isNegative(){return"-"===this._hex[0]}isZero(){return k(this).isZero()}toNumber(){try{return k(this).toNumber()}catch(e){x("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return S.throwError("this platform does not support BigInt",p.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?O||(O=!0,S.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?S.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",p.errors.UNEXPECTED_ARGUMENT,{}):S.throwError("BigNumber.toString does not accept parameters",p.errors.UNEXPECTED_ARGUMENT,{})),k(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof N)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new N(I,P(e)):e.match(/^-?[0-9]+$/)?new N(I,P(new A(e))):S.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&x("underflow","BigNumber.from",e),(e>=M||e<=-M)&&x("overflow","BigNumber.from",e),N.from(String(e));const t=e;if("bigint"==typeof t)return N.from(t.toString());if(w(t))return N.from(b(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return N.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(_(e)||"-"===e[0]&&_(e.substring(1))))return N.from(e)}return S.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function P(e){if("string"!=typeof e)return P(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&S.throwArgumentError("invalid hex","value",e),"0x00"===(e=P(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function C(e){return N.from(P(e))}function k(e){const t=N.from(e).toHexString();return"-"===t[0]?new A("-"+t.substring(3),16):new A(t.substring(2),16)}function x(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),S.throwError(e,p.errors.NUMERIC_FAULT,n)}function B(e){return new A(e,36).toString(16)}function L(e){return new A(e,16).toString(36)}const U=new p(R),j={},H=N.from(0),$=N.from(-1);function D(e,t,r,n){const i={fault:t,operation:r};return void 0!==n&&(i.value=n),U.throwError(e,p.errors.NUMERIC_FAULT,i)}let q="0";for(;q.length<256;)q+=q;function F(e){if("number"!=typeof e)try{e=N.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+q.substring(0,e):U.throwArgumentError("invalid decimal size","decimals",e)}function W(e,t){null==t&&(t=0);const r=F(t),n=(e=N.from(e)).lt(H);n&&(e=e.mul($));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return e=1===r.length?o:o+"."+i,n&&(e="-"+e),e}function V(e,t){null==t&&(t=0);const r=F(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||U.throwArgumentError("invalid decimal value","value",e);const n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&U.throwArgumentError("missing value","value",e);const i=e.split(".");i.length>2&&U.throwArgumentError("too many decimal points","value",e);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&D("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=N.from(o),u=N.from(s);let c=a.mul(r).add(u);return n&&(c=c.mul($)),c}class G{constructor(e,t,r,n){e!==j&&U.throwError("cannot use FixedFormat constructor; use FixedFormat.from",p.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=F(n),Object.freeze(this)}static from(e){if(e instanceof G)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||U.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){const i=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&U.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&U.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&U.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new G(j,t,r,n)}}class J{constructor(e,t,r,n){e!==j&&U.throwError("cannot use FixedNumber constructor; use FixedNumber.from",p.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&U.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=V(this._value,this.format.decimals),r=V(e._value,e.format.decimals);return J.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=V(this._value,this.format.decimals),r=V(e._value,e.format.decimals);return J.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=V(this._value,this.format.decimals),r=V(e._value,e.format.decimals);return J.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=V(this._value,this.format.decimals),r=V(e._value,e.format.decimals);return J.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=J.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(K.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=J.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(K.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&U.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=J.from("1"+q.substring(0,e),this.format),n=X.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){return null==e?this._hex:(e%8&&U.throwArgumentError("invalid byte width","width",e),T(N.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return J.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||function(e){return null!=e&&(N.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||_(e)||"bigint"==typeof e||w(e))}(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),J.fromString(W(e,t),G.from(r))}static fromString(e,t){null==t&&(t="fixed");const r=G.from(t),n=V(e,r.decimals);!r.signed&&n.lt(H)&&D("unsigned value cannot be negative","overflow","value",e);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=T(i,r.width/8));const o=W(n,r.decimals);return new J(j,i,o,r)}static fromBytes(e,t){null==t&&(t="fixed");const r=G.from(t);if(function(e,t){if(t||(t={}),"number"==typeof e){m.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),v(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),g(e)&&(e=e.toHexString()),_(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":m.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return v(new Uint8Array(n))}return w(e)?v(new Uint8Array(e)):m.throwArgumentError("invalid arrayify value","value",e)}(e).length>r.width/8)throw new Error("overflow");let n=N.from(e);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=W(n,r.decimals);return new J(j,i,o,r)}static from(e,t){if("string"==typeof e)return J.fromString(e,t);if(w(e))return J.fromBytes(e,t);try{return J.fromValue(e,0,t)}catch(e){if(e.code!==p.errors.INVALID_ARGUMENT)throw e}return U.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const K=J.from(1),X=J.from("0.5")},24536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22699);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}class o extends n.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if("function"==typeof o)i(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=o},31220:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(29360).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=c(e,l,e.length,t),l=0;l<s;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(e){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],l=p[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(e);r=(h=h.idivn(l)).isZero()?m+r:f[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,l=0|s[0],h=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],_=8191&w,E=w>>>13,b=0|s[4],T=8191&b,R=b>>>13,A=0|s[5],S=8191&A,I=A>>>13,M=0|s[6],O=8191&M,N=M>>>13,P=0|s[7],C=8191&P,k=P>>>13,x=0|s[8],B=8191&x,L=x>>>13,U=0|s[9],j=8191&U,H=U>>>13,$=0|a[0],D=8191&$,q=$>>>13,F=0|a[1],W=8191&F,V=F>>>13,G=0|a[2],J=8191&G,K=G>>>13,X=0|a[3],z=8191&X,Y=X>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,fe=le>>>13,de=0|a[9],pe=8191&de,me=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(h,D))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(f,D)|0))<<13)|0;c=((o=Math.imul(f,q))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,q))+Math.imul(m,D)|0,o=Math.imul(m,q);var ve=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(f,W)|0))<<13)|0;c=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,D),i=(i=Math.imul(v,q))+Math.imul(y,D)|0,o=Math.imul(y,q),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,V)|0;var ye=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(_,D),i=(i=Math.imul(_,q))+Math.imul(E,D)|0,o=Math.imul(E,q),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,K)|0;var we=(c+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(f,z)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(T,D),i=(i=Math.imul(T,q))+Math.imul(R,D)|0,o=Math.imul(R,q),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,K)|0,n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,Y)|0;var _e=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(S,D),i=(i=Math.imul(S,q))+Math.imul(I,D)|0,o=Math.imul(I,q),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,V)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,K)|0,n=n+Math.imul(v,z)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var Ee=(c+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;c=((o=o+Math.imul(f,ne)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,D),i=(i=Math.imul(O,q))+Math.imul(N,D)|0,o=Math.imul(N,q),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,K)|0,n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(E,z)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0;var be=(c+(n=n+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,se)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(C,D),i=(i=Math.imul(C,q))+Math.imul(k,D)|0,o=Math.imul(k,q),n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(T,z)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(R,z)|0,o=o+Math.imul(R,Y)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var Te=(c+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(B,D),i=(i=Math.imul(B,q))+Math.imul(L,D)|0,o=Math.imul(L,q),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(I,z)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var Re=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,D),i=(i=Math.imul(j,q))+Math.imul(H,D)|0,o=Math.imul(H,q),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,K)|0,n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var Ae=(c+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,V))+Math.imul(H,W)|0,o=Math.imul(H,V),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,K)|0,n=n+Math.imul(C,z)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,Y)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(v,he)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,fe)|0;var Se=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,J),i=(i=Math.imul(j,K))+Math.imul(H,J)|0,o=Math.imul(H,K),n=n+Math.imul(B,z)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(L,z)|0,o=o+Math.imul(L,Y)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,n=n+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(E,he)|0,o=o+Math.imul(E,fe)|0;var Ie=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,z),i=(i=Math.imul(j,Y))+Math.imul(H,z)|0,o=Math.imul(H,Y),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var Me=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(H,Q)|0,o=Math.imul(H,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,n=n+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(I,he)|0,o=o+Math.imul(I,fe)|0;var Oe=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(H,re)|0,o=Math.imul(H,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,se)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,ce)|0,n=n+Math.imul(O,he)|0,i=(i=i+Math.imul(O,fe)|0)+Math.imul(N,he)|0,o=o+Math.imul(N,fe)|0;var Ne=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,se))+Math.imul(H,oe)|0,o=Math.imul(H,se),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,ce)|0,n=n+Math.imul(C,he)|0,i=(i=i+Math.imul(C,fe)|0)+Math.imul(k,he)|0,o=o+Math.imul(k,fe)|0;var Pe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(H,ue)|0,o=Math.imul(H,ce),n=n+Math.imul(B,he)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,he),i=(i=Math.imul(j,fe))+Math.imul(H,he)|0,o=Math.imul(H,fe);var ke=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863;var xe=(c+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,me))+Math.imul(H,pe)|0))<<13)|0;return c=((o=Math.imul(H,me))+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,u[0]=ge,u[1]=ve,u[2]=ye,u[3]=we,u[4]=_e,u[5]=Ee,u[6]=be,u[7]=Te,u[8]=Re,u[9]=Ae,u[10]=Se,u[11]=Ie,u[12]=Me,u[13]=Oe,u[14]=Ne,u[15]=Pe,u[16]=Ce,u[17]=ke,u[18]=xe,0!==c&&(u[19]=c,r.length++),r};function v(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(e,t,r){return v(e,t,r)}function w(e,t){this.x=e,this.y=t}Math.imul||(g=m),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?m(this,e,t):r<1024?v(this,e,t):y(this,e,t)},w.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},w.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},w.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},w.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<s;d++){var p=r[l+d],m=n[l+d],g=r[l+d+s],v=n[l+d+s],y=h*g-f*v;v=h*v+f*g,g=y,r[l+d]=p+g,n[l+d]=m+v,r[l+d+s]=p-g,n[l+d+s]=m-v,d!==a&&(y=u*h-c*f,f=u*f+c*h,h=y)}},w.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},w.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},w.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},w.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},w.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function T(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(b,E),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(T,E),i(R,E),i(A,E),A.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new T;else if("p192"===e)t=new R;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return _[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(v),h=v.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new I(e)},i(I,S),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},74407:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBlockTracker=void 0;const i=n(r(24536)),o=(e,t)=>e+t,s=["sync","latest"];class a extends i.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise((e=>this.once("latest",e)))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){s.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return s.map((e=>this.listenerCount(e))).reduce(o)}_newPotentialLatest(e){const t=this._currentBlock;t&&u(e)<=u(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}function u(e){return Number.parseInt(e,16)}t.BaseBlockTracker=a},49076:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PollingBlockTracker=void 0;const i=n(r(23349)),o=n(r(42378)),s=r(74407),a=r(82685),u=(0,a.createModuleLogger)(a.projectLogger,"polling-block-tracker"),c=(0,i.default)();class l extends s.BaseBlockTracker{constructor(e={}){var t;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:null!==(t=e.blockResetDuration)&&void 0!==t?t:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||2e4,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=void 0===e.keepEventLoopActive||e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const e=h(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await e}catch(t){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${null!==(e=t.stack)&&void 0!==e?e:t}`);try{this.emit("error",r)}catch(e){console.error(r)}const n=h(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await n}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:c(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),u("Making request",e);const t=await(0,o.default)((t=>this._provider.sendAsync(e,t)))();if(u("Got response",t),t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${t.error.message}`);return t.result}}function h(e,t){return new Promise((r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()}))}t.PollingBlockTracker=l},91043:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeBlockTracker=void 0;const i=n(r(23349)),o=r(74407),s=(0,i.default)();class a extends o.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(void 0===this._subscriptionId||null===this._subscriptionId)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(null!==this._subscriptionId&&void 0!==this._subscriptionId)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...t){return new Promise(((r,n)=>{this._provider.sendAsync({id:s(),method:e,params:t,jsonrpc:"2.0"},((e,t)=>{e?n(e):r(t.result)}))}))}_handleSubData(e,t){var r;"eth_subscription"===t.method&&(null===(r=t.params)||void 0===r?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(t.params.result.number)}}t.SubscribeBlockTracker=a},76131:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(49076),t),i(r(91043),t)},82685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const n=r(45554);Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),t.projectLogger=(0,n.createProjectLogger)("eth-block-tracker")},58138:(e,t,r)=>{var n=r(48834).Buffer,i=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,i;try{t=Map}catch(e){t=function(){}}try{r=Set}catch(e){r=function(){}}try{i=Promise}catch(e){i=function(){}}function o(s,u,c,l,h){"object"==typeof u&&(c=u.depth,l=u.prototype,h=u.includeNonEnumerable,u=u.circular);var f=[],d=[],p=void 0!==n;return void 0===u&&(u=!0),void 0===c&&(c=1/0),function s(c,m){if(null===c)return null;if(0===m)return c;var g,v;if("object"!=typeof c)return c;if(e(c,t))g=new t;else if(e(c,r))g=new r;else if(e(c,i))g=new i((function(e,t){c.then((function(t){e(s(t,m-1))}),(function(e){t(s(e,m-1))}))}));else if(o.__isArray(c))g=[];else if(o.__isRegExp(c))g=new RegExp(c.source,a(c)),c.lastIndex&&(g.lastIndex=c.lastIndex);else if(o.__isDate(c))g=new Date(c.getTime());else{if(p&&n.isBuffer(c))return g=n.allocUnsafe?n.allocUnsafe(c.length):new n(c.length),c.copy(g),g;e(c,Error)?g=Object.create(c):void 0===l?(v=Object.getPrototypeOf(c),g=Object.create(v)):(g=Object.create(l),v=l)}if(u){var y=f.indexOf(c);if(-1!=y)return d[y];f.push(c),d.push(g)}for(var w in e(c,t)&&c.forEach((function(e,t){var r=s(t,m-1),n=s(e,m-1);g.set(r,n)})),e(c,r)&&c.forEach((function(e){var t=s(e,m-1);g.add(t)})),c){var _;v&&(_=Object.getOwnPropertyDescriptor(v,w)),_&&null==_.set||(g[w]=s(c[w],m-1))}if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(c);for(w=0;w<E.length;w++){var b=E[w];(!(R=Object.getOwnPropertyDescriptor(c,b))||R.enumerable||h)&&(g[b]=s(c[b],m-1),R.enumerable||Object.defineProperty(g,b,{enumerable:!1}))}}if(h){var T=Object.getOwnPropertyNames(c);for(w=0;w<T.length;w++){var R,A=T[w];(R=Object.getOwnPropertyDescriptor(c,A))&&R.enumerable||(g[A]=s(c[A],m-1),Object.defineProperty(g,A,{enumerable:!1}))}}return g}(s,c)}function s(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=s,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===s(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===s(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===s(e)},o.__getRegExpFlags=a,o}();e.exports&&(e.exports=i)},91965:(module,exports,__webpack_require__)=>{var process=__webpack_require__(34406),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,i=typeof e;if("string"===i){var o,s=[],a=e.length,u=0;for(n=0;n<a;++n)(o=e.charCodeAt(n))<128?s[u++]=o:o<2048?(s[u++]=192|o>>6,s[u++]=128|63&o):o<55296||o>=57344?(s[u++]=224|o>>12,s[u++]=128|o>>6&63,s[u++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),s[u++]=240|o>>18,s[u++]=128|o>>12&63,s[u++]=128|o>>6&63,s[u++]=128|63&o);e=s}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],l=[];for(n=0;n<64;++n){var h=e[n]||0;c[n]=92^h,l[n]=54^h}Sha256.call(this,t,r),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,i,o=0,s=e.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=e[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(n=e.charCodeAt(o))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,i,o,s,a,u,c=this.h0,l=this.h1,h=this.h2,f=this.h3,d=this.h4,p=this.h5,m=this.h6,g=this.h7,v=this.blocks;for(e=16;e<64;++e)t=((i=v[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=v[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,v[e]=v[e-16]+t+v[e-7]+r<<0;for(u=l&h,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,g=(i=v[0]-1413257819)-150054599<<0,f=i+24177077<<0):(o=704751109,g=(i=v[0]-210244248)-1521486534<<0,f=i+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(o=c&l)^c&h^u,g=f+(i=g+(r=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&m)+K[e]+v[e])<<0,f=i+(t+n)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(s=f&c)^f&l^o,m=h+(i=m+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&d^~g&p)+K[e+1]+v[e+1])<<0,t=((h=i+(t+n)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(a=h&f)^h&c^s,p=l+(i=p+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&d)+K[e+2]+v[e+2])<<0,t=((l=i+(t+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(u=l&h)^l&f^a,d=c+(i=d+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&g)+K[e+3]+v[e+3])<<0,c=i+(t+n)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+f<<0,this.h4=this.h4+d<<0,this.h5=this.h5+p<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},34482:(e,t,r)=>{window,e.exports=function(e,t){if("undefined"==typeof Promise)throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var r=!1;function n(){r||(r=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function i(e){return e.__proto__=o.prototype,e}function o(e){return i(new Promise(e))}return o.prototype=Object.create(Promise.prototype),o.prototype.constructor=o,o.prototype.success=function(e){return n(),i(this.then((function(t){e(t)})))},o.prototype.error=function(e){return n(),i(this.catch((function(t){e(t)})))},function r(n){if(!(this instanceof r))return new r(n);for(var i,s,a=this,u=[],c={enable:!0,callbackList:[],interval:5},l=document.getElementsByTagName("script"),h=0;h<l.length;h++)-1===l[h].src.indexOf("keycloak.js")&&-1===l[h].src.indexOf("keycloak.min.js")||-1===l[h].src.indexOf("version=")||(a.iframeVersion=l[h].src.substring(l[h].src.indexOf("version=")+8).split("&")[0]);var f=!0,d=P(console.info),p=P(console.warn);function m(e,t){for(var r=function(e){var t=null,r=window.crypto||window.msCrypto;if(r&&r.getRandomValues&&window.Uint8Array)return t=new Uint8Array(e),r.getRandomValues(t),t;t=new Array(e);for(var n=0;n<t.length;n++)t[n]=Math.floor(256*Math.random());return t}(e),n=new Array(e),i=0;i<e;i++)n[i]=t.charCodeAt(r[i]%t.length);return String.fromCharCode.apply(null,n)}function g(){return void 0!==a.authServerUrl?"/"==a.authServerUrl.charAt(a.authServerUrl.length-1)?a.authServerUrl+"realms/"+encodeURIComponent(a.realm):a.authServerUrl+"/realms/"+encodeURIComponent(a.realm):void 0}function v(e,t){var r=e.code,n=e.error,i=e.prompt,o=(new Date).getTime();if(e.kc_action_status&&a.onActionUpdate&&a.onActionUpdate(e.kc_action_status),n)if("none"!=i){var s={error:n,error_description:e.error_description};a.onAuthError&&a.onAuthError(s),t&&t.setError(s)}else t&&t.setSuccess();else if("standard"!=a.flow&&(e.access_token||e.id_token)&&h(e.access_token,null,e.id_token,!0),"implicit"!=a.flow&&r){var u="code="+r+"&grant_type=authorization_code",c=a.endpoints.token(),l=new XMLHttpRequest;l.open("POST",c,!0),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u+="&client_id="+encodeURIComponent(a.clientId),u+="&redirect_uri="+e.redirectUri,e.pkceCodeVerifier&&(u+="&code_verifier="+e.pkceCodeVerifier),l.withCredentials=!0,l.onreadystatechange=function(){if(4==l.readyState)if(200==l.status){var e=JSON.parse(l.responseText);h(e.access_token,e.refresh_token,e.id_token,"standard"===a.flow),S()}else a.onAuthError&&a.onAuthError(),t&&t.setError()},l.send(u)}function h(r,n,i,s){w(r,n,i,o=(o+(new Date).getTime())/2),f&&(a.tokenParsed&&a.tokenParsed.nonce!=e.storedNonce||a.refreshTokenParsed&&a.refreshTokenParsed.nonce!=e.storedNonce||a.idTokenParsed&&a.idTokenParsed.nonce!=e.storedNonce)?(d("[KEYCLOAK] Invalid nonce, clearing token"),a.clearToken(),t&&t.setError()):s&&(a.onAuthSuccess&&a.onAuthSuccess(),t&&t.setSuccess())}}function y(e){return 0==e.status&&e.responseText&&e.responseURL.startsWith("file:")}function w(e,t,r,n){if(a.tokenTimeoutHandle&&(clearTimeout(a.tokenTimeoutHandle),a.tokenTimeoutHandle=null),t?(a.refreshToken=t,a.refreshTokenParsed=_(t)):(delete a.refreshToken,delete a.refreshTokenParsed),r?(a.idToken=r,a.idTokenParsed=_(r)):(delete a.idToken,delete a.idTokenParsed),e){if(a.token=e,a.tokenParsed=_(e),a.sessionId=a.tokenParsed.session_state,a.authenticated=!0,a.subject=a.tokenParsed.sub,a.realmAccess=a.tokenParsed.realm_access,a.resourceAccess=a.tokenParsed.resource_access,n&&(a.timeSkew=Math.floor(n/1e3)-a.tokenParsed.iat),null!=a.timeSkew&&(d("[KEYCLOAK] Estimated time difference between browser and server is "+a.timeSkew+" seconds"),a.onTokenExpired)){var i=1e3*(a.tokenParsed.exp-(new Date).getTime()/1e3+a.timeSkew);d("[KEYCLOAK] Token expires in "+Math.round(i/1e3)+" s"),i<=0?a.onTokenExpired():a.tokenTimeoutHandle=setTimeout(a.onTokenExpired,i)}}else delete a.token,delete a.tokenParsed,delete a.subject,delete a.realmAccess,delete a.resourceAccess,a.authenticated=!1}function _(e){switch((e=(e=(e=e.split(".")[1]).replace(/-/g,"+")).replace(/_/g,"/")).length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Invalid token"}return e=decodeURIComponent(escape(atob(e))),JSON.parse(e)}function E(){var e="0123456789abcdef",t=m(36,e).split("");return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}function b(e){var t=function(e){var t;switch(a.flow){case"standard":t=["code","state","session_state","kc_action_status"];break;case"implicit":t=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":t=["access_token","id_token","code","state","session_state","kc_action_status"]}t.push("error"),t.push("error_description"),t.push("error_uri");var r,n,i=e.indexOf("?"),o=e.indexOf("#");if("query"===a.responseMode&&-1!==i?(r=e.substring(0,i),""!==(n=T(e.substring(i+1,-1!==o?o:e.length),t)).paramsString&&(r+="?"+n.paramsString),-1!==o&&(r+=e.substring(o))):"fragment"===a.responseMode&&-1!==o&&(r=e.substring(0,o),""!==(n=T(e.substring(o+1),t)).paramsString&&(r+="#"+n.paramsString)),n&&n.oauthParams)if("standard"===a.flow||"hybrid"===a.flow){if((n.oauthParams.code||n.oauthParams.error)&&n.oauthParams.state)return n.oauthParams.newUrl=r,n.oauthParams}else if("implicit"===a.flow&&(n.oauthParams.access_token||n.oauthParams.error)&&n.oauthParams.state)return n.oauthParams.newUrl=r,n.oauthParams}(e);if(t){var r=s.get(t.state);return r&&(t.valid=!0,t.redirectUri=r.redirectUri,t.storedNonce=r.nonce,t.prompt=r.prompt,t.pkceCodeVerifier=r.pkceCodeVerifier),t}}function T(e,t){for(var r=e.split("&"),n={paramsString:"",oauthParams:{}},i=0;i<r.length;i++){var o=r[i].indexOf("="),s=r[i].slice(0,o);-1!==t.indexOf(s)?n.oauthParams[s]=r[i].slice(o+1):(""!==n.paramsString&&(n.paramsString+="&"),n.paramsString+=r[i])}return n}function R(){var e={setSuccess:function(t){e.resolve(t)},setError:function(t){e.reject(t)}};return e.promise=new o((function(t,r){e.resolve=t,e.reject=r})),e}function A(){var e=R();if(!c.enable)return e.setSuccess(),e.promise;if(c.iframe)return e.setSuccess(),e.promise;var t=document.createElement("iframe");c.iframe=t,t.onload=function(){var t=a.endpoints.authorize();"/"===t.charAt(0)?c.iframeOrigin=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""):c.iframeOrigin=t.substring(0,t.indexOf("/",8)),e.setSuccess()};var r=a.endpoints.checkSessionIframe();t.setAttribute("src",r),t.setAttribute("title","keycloak-session-iframe"),t.style.display="none",document.body.appendChild(t);return window.addEventListener("message",(function(e){if(e.origin===c.iframeOrigin&&c.iframe.contentWindow===e.source&&("unchanged"==e.data||"changed"==e.data||"error"==e.data)){"unchanged"!=e.data&&a.clearToken();for(var t=c.callbackList.splice(0,c.callbackList.length),r=t.length-1;r>=0;--r){var n=t[r];"error"==e.data?n.setError():n.setSuccess("unchanged"==e.data)}}}),!1),e.promise}function S(){c.enable&&a.token&&setTimeout((function(){I().then((function(e){e&&S()}))}),1e3*c.interval)}function I(){var e=R();if(c.iframe&&c.iframeOrigin){var t=a.clientId+" "+(a.sessionId?a.sessionId:"");c.callbackList.push(e);var r=c.iframeOrigin;1==c.callbackList.length&&c.iframe.contentWindow.postMessage(t,r)}else e.setSuccess();return e.promise}function M(e){if(!e||"default"==e)return{login:function(e){return window.location.replace(a.createLoginUrl(e)),R().promise},logout:function(e){return window.location.replace(a.createLogoutUrl(e)),R().promise},register:function(e){return window.location.replace(a.createRegisterUrl(e)),R().promise},accountManagement:function(){var e=a.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";return window.location.href=e,R().promise},redirectUri:function(e,t){return 1==arguments.length&&(t=!0),e&&e.redirectUri?e.redirectUri:a.redirectUri?a.redirectUri:location.href}};if("cordova"==e){c.enable=!1;var t=function(e,t,r){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(e,t,r):window.open(e,t,r)},r=function(e){var t=function(e){return e&&e.cordovaOptions?Object.keys(e.cordovaOptions).reduce((function(t,r){return t[r]=e.cordovaOptions[r],t}),{}):{}}(e);return t.location="no",e&&"none"==e.prompt&&(t.hidden="yes"),function(e){return Object.keys(e).reduce((function(t,r){return t.push(r+"="+e[r]),t}),[]).join(",")}(t)};return{login:function(e){var n=R(),i=r(e),o=a.createLoginUrl(e),s=t(o,"_blank",i),u=!1,c=!1,l=function(){c=!0,s.close()};return s.addEventListener("loadstart",(function(e){0==e.url.indexOf("http://localhost")&&(v(b(e.url),n),l(),u=!0)})),s.addEventListener("loaderror",(function(e){u||(0==e.url.indexOf("http://localhost")?(v(b(e.url),n),l(),u=!0):(n.setError(),l()))})),s.addEventListener("exit",(function(e){c||n.setError({reason:"closed_by_user"})})),n.promise},logout:function(e){var r,n=R(),i=a.createLogoutUrl(e),o=t(i,"_blank","location=no,hidden=yes");return o.addEventListener("loadstart",(function(e){0==e.url.indexOf("http://localhost")&&o.close()})),o.addEventListener("loaderror",(function(e){0==e.url.indexOf("http://localhost")||(r=!0),o.close()})),o.addEventListener("exit",(function(e){r?n.setError():(a.clearToken(),n.setSuccess())})),n.promise},register:function(e){var n=R(),i=a.createRegisterUrl(),o=r(e),s=t(i,"_blank",o);return s.addEventListener("loadstart",(function(e){0==e.url.indexOf("http://localhost")&&(s.close(),v(b(e.url),n))})),n.promise},accountManagement:function(){var e=a.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";var r=t(e,"_blank","location=no");r.addEventListener("loadstart",(function(e){0==e.url.indexOf("http://localhost")&&r.close()}))},redirectUri:function(e){return"http://localhost"}}}if("cordova-native"==e)return c.enable=!1,{login:function(e){var t=R(),r=a.createLoginUrl(e);return universalLinks.subscribe("keycloak",(function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),v(b(e.url),t)})),window.cordova.plugins.browsertab.openUrl(r),t.promise},logout:function(e){var t=R(),r=a.createLogoutUrl(e);return universalLinks.subscribe("keycloak",(function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),a.clearToken(),t.setSuccess()})),window.cordova.plugins.browsertab.openUrl(r),t.promise},register:function(e){var t=R(),r=a.createRegisterUrl(e);return universalLinks.subscribe("keycloak",(function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),v(b(e.url),t)})),window.cordova.plugins.browsertab.openUrl(r),t.promise},accountManagement:function(){var e=a.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";window.cordova.plugins.browsertab.openUrl(e)},redirectUri:function(e){return e&&e.redirectUri?e.redirectUri:a.redirectUri?a.redirectUri:"http://localhost"}};throw"invalid adapter type: "+e}a.init=function(e){if(a.authenticated=!1,s=function(){try{return new O}catch(e){}return new N}(),i=e&&["default","cordova","cordova-native"].indexOf(e.adapter)>-1?M(e.adapter):e&&"object"==typeof e.adapter?e.adapter:window.Cordova||window.cordova?M("cordova"):M(),e){if(void 0!==e.useNonce&&(f=e.useNonce),void 0!==e.checkLoginIframe&&(c.enable=e.checkLoginIframe),e.checkLoginIframeInterval&&(c.interval=e.checkLoginIframeInterval),"login-required"===e.onLoad&&(a.loginRequired=!0),e.responseMode){if("query"!==e.responseMode&&"fragment"!==e.responseMode)throw"Invalid value for responseMode";a.responseMode=e.responseMode}if(e.flow){switch(e.flow){case"standard":a.responseType="code";break;case"implicit":a.responseType="id_token token";break;case"hybrid":a.responseType="code id_token token";break;default:throw"Invalid value for flow"}a.flow=e.flow}if(null!=e.timeSkew&&(a.timeSkew=e.timeSkew),e.redirectUri&&(a.redirectUri=e.redirectUri),e.silentCheckSsoRedirectUri&&(a.silentCheckSsoRedirectUri=e.silentCheckSsoRedirectUri),"boolean"==typeof e.silentCheckSsoFallback?a.silentCheckSsoFallback=e.silentCheckSsoFallback:a.silentCheckSsoFallback=!0,e.pkceMethod){if("S256"!==e.pkceMethod)throw"Invalid value for pkceMethod";a.pkceMethod=e.pkceMethod}"boolean"==typeof e.enableLogging?a.enableLogging=e.enableLogging:a.enableLogging=!1}a.responseMode||(a.responseMode="fragment"),a.responseType||(a.responseType="code",a.flow="standard");var t=R(),r=R();r.promise.then((function(){a.onReady&&a.onReady(a.authenticated),t.setSuccess(a.authenticated)})).catch((function(e){t.setError(e)}));var o=function(e){var t,r=R();function i(e){a.endpoints=e?{authorize:function(){return e.authorization_endpoint},token:function(){return e.token_endpoint},logout:function(){if(!e.end_session_endpoint)throw"Not supported by the OIDC server";return e.end_session_endpoint},checkSessionIframe:function(){if(!e.check_session_iframe)throw"Not supported by the OIDC server";return e.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!e.userinfo_endpoint)throw"Not supported by the OIDC server";return e.userinfo_endpoint}}:{authorize:function(){return g()+"/protocol/openid-connect/auth"},token:function(){return g()+"/protocol/openid-connect/token"},logout:function(){return g()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var e=g()+"/protocol/openid-connect/login-status-iframe.html";return a.iframeVersion&&(e=e+"?version="+a.iframeVersion),e},thirdPartyCookiesIframe:function(){var e=g()+"/protocol/openid-connect/3p-cookies/step1.html";return a.iframeVersion&&(e=e+"?version="+a.iframeVersion),e},register:function(){return g()+"/protocol/openid-connect/registrations"},userinfo:function(){return g()+"/protocol/openid-connect/userinfo"}}}if(n?"string"==typeof n&&(t=n):t="keycloak.json",t)(u=new XMLHttpRequest).open("GET",t,!0),u.setRequestHeader("Accept","application/json"),u.onreadystatechange=function(){if(4==u.readyState)if(200==u.status||y(u)){var e=JSON.parse(u.responseText);a.authServerUrl=e["auth-server-url"],a.realm=e.realm,a.clientId=e.resource,i(null),r.setSuccess()}else r.setError()},u.send();else{if(!n.clientId)throw"clientId missing";a.clientId=n.clientId;var o=n.oidcProvider;if(o){var s,u;"string"==typeof o?(s="/"==o.charAt(o.length-1)?o+".well-known/openid-configuration":o+"/.well-known/openid-configuration",(u=new XMLHttpRequest).open("GET",s,!0),u.setRequestHeader("Accept","application/json"),u.onreadystatechange=function(){4==u.readyState&&(200==u.status||y(u)?(i(JSON.parse(u.responseText)),r.setSuccess()):r.setError())},u.send()):(i(o),r.setSuccess())}else{if(!n.url)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++)if(c[l].src.match(/.*keycloak\.js/)){n.url=c[l].src.substr(0,c[l].src.indexOf("/js/keycloak.js"));break}if(!n.realm)throw"realm missing";a.authServerUrl=n.url,a.realm=n.realm,i(null),r.setSuccess()}}return r.promise}();function u(){var t=function(e){e||(i.prompt="none"),a.login(i).then((function(){r.setSuccess()})).catch((function(){r.setError()}))},n=function(){var e=document.createElement("iframe"),t=a.createLoginUrl({prompt:"none",redirectUri:a.silentCheckSsoRedirectUri});e.setAttribute("src",t),e.setAttribute("title","keycloak-silent-check-sso"),e.style.display="none",document.body.appendChild(e);var n=function(t){t.origin===window.location.origin&&e.contentWindow===t.source&&(v(b(t.data),r),document.body.removeChild(e),window.removeEventListener("message",n))};window.addEventListener("message",n)},i={};switch(e.onLoad){case"check-sso":c.enable?A().then((function(){I().then((function(e){e?r.setSuccess():a.silentCheckSsoRedirectUri?n():t(!1)})).catch((function(){r.setError()}))})):a.silentCheckSsoRedirectUri?n():t(!1);break;case"login-required":t(!0);break;default:throw"Invalid value for onLoad"}}function l(){var t=b(window.location.href);if(t&&window.history.replaceState(window.history.state,null,t.newUrl),t&&t.valid)return A().then((function(){v(t,r)})).catch((function(e){r.setError()}));e?e.token&&e.refreshToken?(w(e.token,e.refreshToken,e.idToken),c.enable?A().then((function(){I().then((function(e){e?(a.onAuthSuccess&&a.onAuthSuccess(),r.setSuccess(),S()):r.setSuccess()})).catch((function(){r.setError()}))})):a.updateToken(-1).then((function(){a.onAuthSuccess&&a.onAuthSuccess(),r.setSuccess()})).catch((function(){a.onAuthError&&a.onAuthError(),e.onLoad?u():r.setError()}))):e.onLoad?u():r.setSuccess():r.setSuccess()}return o.then((function(){(function(){var e=R();if(c.enable||a.silentCheckSsoRedirectUri){var t=document.createElement("iframe");t.setAttribute("src",a.endpoints.thirdPartyCookiesIframe()),t.setAttribute("title","keycloak-3p-check-iframe"),t.style.display="none",document.body.appendChild(t);var r=function(n){t.contentWindow===n.source&&("supported"!==n.data&&"unsupported"!==n.data?e.setError():"unsupported"===n.data&&(c.enable=!1,a.silentCheckSsoFallback&&(a.silentCheckSsoRedirectUri=!1),p("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(t),window.removeEventListener("message",r),e.setSuccess())};window.addEventListener("message",r,!1)}else e.setSuccess();return e.promise})().then(l).catch((function(){t.setError()}))})),o.catch((function(){t.setError()})),t.promise},a.login=function(e){return i.login(e)},a.createLoginUrl=function(r){var n,o,u=E(),c=E(),l=i.redirectUri(r),h={state:u,nonce:c,redirectUri:encodeURIComponent(l)};r&&r.prompt&&(h.prompt=r.prompt),n=r&&"register"==r.action?a.endpoints.register():a.endpoints.authorize(),o=r&&r.scope?-1!=r.scope.indexOf("openid")?r.scope:"openid "+r.scope:"openid";var d=n+"?client_id="+encodeURIComponent(a.clientId)+"&redirect_uri="+encodeURIComponent(l)+"&state="+encodeURIComponent(u)+"&response_mode="+encodeURIComponent(a.responseMode)+"&response_type="+encodeURIComponent(a.responseType)+"&scope="+encodeURIComponent(o);if(f&&(d=d+"&nonce="+encodeURIComponent(c)),r&&r.prompt&&(d+="&prompt="+encodeURIComponent(r.prompt)),r&&r.maxAge&&(d+="&max_age="+encodeURIComponent(r.maxAge)),r&&r.loginHint&&(d+="&login_hint="+encodeURIComponent(r.loginHint)),r&&r.idpHint&&(d+="&kc_idp_hint="+encodeURIComponent(r.idpHint)),r&&r.action&&"register"!=r.action&&(d+="&kc_action="+encodeURIComponent(r.action)),r&&r.locale&&(d+="&ui_locales="+encodeURIComponent(r.locale)),a.pkceMethod){var p=m(96,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");h.pkceCodeVerifier=p,d+="&code_challenge="+function(r,n){if("S256"===r){var i=new Uint8Array(e.arrayBuffer(n));return t.fromByteArray(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}throw"Invalid value for pkceMethod"}(a.pkceMethod,p),d+="&code_challenge_method="+a.pkceMethod}return s.add(h),d},a.logout=function(e){return i.logout(e)},a.createLogoutUrl=function(e){return a.endpoints.logout()+"?redirect_uri="+encodeURIComponent(i.redirectUri(e,!1))},a.register=function(e){return i.register(e)},a.createRegisterUrl=function(e){return e||(e={}),e.action="register",a.createLoginUrl(e)},a.createAccountUrl=function(e){var t=g(),r=void 0;return void 0!==t&&(r=t+"/account?referrer="+encodeURIComponent(a.clientId)+"&referrer_uri="+encodeURIComponent(i.redirectUri(e))),r},a.accountManagement=function(){return i.accountManagement()},a.hasRealmRole=function(e){var t=a.realmAccess;return!!t&&t.roles.indexOf(e)>=0},a.hasResourceRole=function(e,t){if(!a.resourceAccess)return!1;var r=a.resourceAccess[t||a.clientId];return!!r&&r.roles.indexOf(e)>=0},a.loadUserProfile=function(){var e=g()+"/account",t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+a.token);var r=R();return t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(a.profile=JSON.parse(t.responseText),r.setSuccess(a.profile)):r.setError())},t.send(),r.promise},a.loadUserInfo=function(){var e=a.endpoints.userinfo(),t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+a.token);var r=R();return t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(a.userInfo=JSON.parse(t.responseText),r.setSuccess(a.userInfo)):r.setError())},t.send(),r.promise},a.isTokenExpired=function(e){if(!a.tokenParsed||!a.refreshToken&&"implicit"!=a.flow)throw"Not authenticated";if(null==a.timeSkew)return d("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var t=a.tokenParsed.exp-Math.ceil((new Date).getTime()/1e3)+a.timeSkew;if(e){if(isNaN(e))throw"Invalid minValidity";t-=e}return t<0},a.updateToken=function(e){var t=R();if(!a.refreshToken)return t.setError(),t.promise;e=e||5;var r=function(){var r=!1;if(-1==e?(r=!0,d("[KEYCLOAK] Refreshing token: forced refresh")):a.tokenParsed&&!a.isTokenExpired(e)||(r=!0,d("[KEYCLOAK] Refreshing token: token expired")),r){var n="grant_type=refresh_token&refresh_token="+a.refreshToken,i=a.endpoints.token();if(u.push(t),1==u.length){var o=new XMLHttpRequest;o.open("POST",i,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.withCredentials=!0,n+="&client_id="+encodeURIComponent(a.clientId);var s=(new Date).getTime();o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status){d("[KEYCLOAK] Token refreshed"),s=(s+(new Date).getTime())/2;var e=JSON.parse(o.responseText);w(e.access_token,e.refresh_token,e.id_token,s),a.onAuthRefreshSuccess&&a.onAuthRefreshSuccess();for(var t=u.pop();null!=t;t=u.pop())t.setSuccess(!0)}else for(p("[KEYCLOAK] Failed to refresh token"),400==o.status&&a.clearToken(),a.onAuthRefreshError&&a.onAuthRefreshError(),t=u.pop();null!=t;t=u.pop())t.setError(!0)},o.send(n)}}else t.setSuccess(!1)};return c.enable?I().then((function(){r()})).catch((function(){t.setError()})):r(),t.promise},a.clearToken=function(){a.token&&(w(null,null,null),a.onAuthLogout&&a.onAuthLogout(),a.loginRequired&&a.login())};var O=function(){if(!(this instanceof O))return new O;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");function e(){for(var e=(new Date).getTime(),t=0;t<localStorage.length;t++){var r=localStorage.key(t);if(r&&0==r.indexOf("kc-callback-")){var n=localStorage.getItem(r);if(n)try{var i=JSON.parse(n).expires;(!i||i<e)&&localStorage.removeItem(r)}catch(e){localStorage.removeItem(r)}}}}this.get=function(t){if(t){var r="kc-callback-"+t,n=localStorage.getItem(r);return n&&(localStorage.removeItem(r),n=JSON.parse(n)),e(),n}},this.add=function(t){e();var r="kc-callback-"+t.state;t.expires=(new Date).getTime()+36e5,localStorage.setItem(r,JSON.stringify(t))}},N=function(){if(!(this instanceof N))return new N;var e=this;e.get=function(e){if(e){var i=r("kc-callback-"+e);return n("kc-callback-"+e,"",t(-100)),i?JSON.parse(i):void 0}},e.add=function(e){n("kc-callback-"+e.state,JSON.stringify(e),t(60))},e.removeItem=function(e){n(e,"",t(-100))};var t=function(e){var t=new Date;return t.setTime(t.getTime()+60*e*1e3),t},r=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},n=function(e,t,r){var n=e+"="+t+"; expires="+r.toUTCString()+"; ";document.cookie=n}};function P(e){return function(){a.enableLogging&&e.apply(console,Array.prototype.slice.call(arguments))}}}}(r(91965),r(53941))},53941:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),s=o[0],a=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},5163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>_,__asyncGenerator:()=>w,__asyncValues:()=>E,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>S,__createBinding:()=>f,__decorate:()=>a,__exportStar:()=>d,__extends:()=>i,__generator:()=>h,__importDefault:()=>R,__importStar:()=>T,__makeTemplateObject:()=>b,__metadata:()=>c,__param:()=>u,__read:()=>m,__rest:()=>s,__spread:()=>g,__spreadArrays:()=>v,__values:()=>p});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}function h(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function d(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof y?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:y(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function R(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Struct:()=>l,StructError:()=>n,any:()=>A,array:()=>S,assert:()=>h,assign:()=>g,bigint:()=>I,boolean:()=>M,coerce:()=>z,create:()=>f,date:()=>O,defaulted:()=>Y,define:()=>v,deprecated:()=>y,dynamic:()=>w,empty:()=>Q,enums:()=>N,func:()=>P,instance:()=>C,integer:()=>k,intersection:()=>x,is:()=>p,lazy:()=>_,literal:()=>B,map:()=>L,mask:()=>d,max:()=>te,min:()=>re,never:()=>U,nonempty:()=>ne,nullable:()=>j,number:()=>H,object:()=>$,omit:()=>E,optional:()=>D,partial:()=>b,pattern:()=>ie,pick:()=>T,record:()=>q,refine:()=>se,regexp:()=>F,set:()=>W,size:()=>oe,string:()=>V,struct:()=>R,trimmed:()=>Z,tuple:()=>G,type:()=>J,union:()=>K,unknown:()=>X,validate:()=>m});class n extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...o}=e,{path:s}=e,a=0===s.length?n:`At path: ${s.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function i(e){return"object"==typeof e&&null!=e}function o(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function s(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function a(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:a}=r,{refinement:u,message:c=`Expected a value of type \`${a}\`${u?` with refinement \`${u}\``:""}, but received: \`${s(n)}\``}=e;return{value:n,type:a,refinement:u,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*u(e,t,r,n){var o;i(o=e)&&"function"==typeof o[Symbol.iterator]||(e=[e]);for(const i of e){const e=a(i,t,r,n);e&&(yield e)}}function*c(e,t,r={}){const{path:n=[],branch:o=[e],coerce:s=!1,mask:a=!1}=r,u={path:n,branch:o};if(s&&(e=t.coercer(e,u),a&&"type"!==t.type&&i(t.schema)&&i(e)&&!Array.isArray(e)))for(const r in e)void 0===t.schema[r]&&delete e[r];let l="valid";for(const n of t.validator(e,u))n.explanation=r.message,l="not_valid",yield[n,void 0];for(let[h,f,d]of t.entries(e,u)){const t=c(f,d,{path:void 0===h?n:[...n,h],branch:void 0===h?o:[...o,f],coerce:s,mask:a,message:r.message});for(const r of t)r[0]?(l=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):s&&(f=r[1],void 0===h?e=f:e instanceof Map?e.set(h,f):e instanceof Set?e.add(f):i(e)&&(void 0!==f||h in e)&&(e[h]=f))}if("not_valid"!==l)for(const n of t.refiner(e,u))n.explanation=r.message,l="not_refined",yield[n,void 0];"valid"===l&&(yield[void 0,e])}class l{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(e,t)=>u(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>u(i(e,t),t,this,e):()=>[]}assert(e,t){return h(e,this,t)}create(e,t){return f(e,this,t)}is(e){return p(e,this)}mask(e,t){return d(e,this,t)}validate(e,t={}){return m(e,this,t)}}function h(e,t,r){const n=m(e,t,{message:r});if(n[0])throw n[0]}function f(e,t,r){const n=m(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function d(e,t,r){const n=m(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function p(e,t){return!m(e,t)[0]}function m(e,t,r={}){const i=c(e,t,r),o=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(i);return o[0]?[new n(o[0],(function*(){for(const e of i)e[0]&&(yield e[0])})),void 0]:[void 0,o[1]]}function g(...e){const t="type"===e[0].type,r=e.map((e=>e.schema)),n=Object.assign({},...r);return t?J(n):$(n)}function v(e,t){return new l({type:e,schema:null,validator:t})}function y(e,t){return new l({...e,refiner:(t,r)=>void 0===t||e.refiner(t,r),validator:(r,n)=>void 0===r||(t(r,n),e.validator(r,n))})}function w(e){return new l({type:"dynamic",schema:null,*entries(t,r){const n=e(t,r);yield*n.entries(t,r)},validator:(t,r)=>e(t,r).validator(t,r),coercer:(t,r)=>e(t,r).coercer(t,r),refiner:(t,r)=>e(t,r).refiner(t,r)})}function _(e){let t;return new l({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})}function E(e,t){const{schema:r}=e,n={...r};for(const e of t)delete n[e];return"type"===e.type?J(n):$(n)}function b(e){const t=e instanceof l?{...e.schema}:{...e};for(const e in t)t[e]=D(t[e]);return $(t)}function T(e,t){const{schema:r}=e,n={};for(const e of t)n[e]=r[e];return $(n)}function R(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),v(e,t)}function A(){return v("any",(()=>!0))}function S(e){return new l({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${s(e)}`})}function I(){return v("bigint",(e=>"bigint"==typeof e))}function M(){return v("boolean",(e=>"boolean"==typeof e))}function O(){return v("date",(e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${s(e)}`))}function N(e){const t={},r=e.map((e=>s(e))).join();for(const r of e)t[r]=r;return new l({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${s(t)}`})}function P(){return v("func",(e=>"function"==typeof e||`Expected a function, but received: ${s(e)}`))}function C(e){return v("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${s(t)}`))}function k(){return v("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${s(e)}`))}function x(e){return new l({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function B(e){const t=s(e),r=typeof e;return new l({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${s(r)}`})}function L(e,t){return new l({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${s(e)}`})}function U(){return v("never",(()=>!1))}function j(e){return new l({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function H(){return v("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${s(e)}`))}function $(e){const t=e?Object.keys(e):[],r=U();return new l({type:"object",schema:e||null,*entries(n){if(e&&i(n)){const i=new Set(Object.keys(n));for(const r of t)i.delete(r),yield[r,n[r],e[r]];for(const e of i)yield[e,n[e],r]}},validator:e=>i(e)||`Expected an object, but received: ${s(e)}`,coercer:e=>i(e)?{...e}:e})}function D(e){return new l({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function q(e,t){return new l({type:"record",schema:null,*entries(r){if(i(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>i(e)||`Expected an object, but received: ${s(e)}`})}function F(){return v("regexp",(e=>e instanceof RegExp))}function W(e){return new l({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${s(e)}`})}function V(){return v("string",(e=>"string"==typeof e||`Expected a string, but received: ${s(e)}`))}function G(e){const t=U();return new l({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${s(e)}`})}function J(e){const t=Object.keys(e);return new l({type:"type",schema:e,*entries(r){if(i(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>i(e)||`Expected an object, but received: ${s(e)}`,coercer:e=>i(e)?{...e}:e})}function K(e){const t=e.map((e=>e.type)).join(" | ");return new l({type:"union",schema:null,coercer(t){for(const r of e){const[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){const i=[];for(const t of e){const[...e]=c(r,t,n),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${s(r)}`,...i]}})}function X(){return v("unknown",(()=>!0))}function z(e,t,r){return new l({...e,coercer:(n,i)=>p(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function Y(e,t,r={}){return z(e,X(),(e=>{const n="function"==typeof t?t():t;if(void 0===e)return n;if(!r.strict&&o(e)&&o(n)){const t={...e};let r=!1;for(const e in n)void 0===t[e]&&(t[e]=n[e],r=!0);if(r)return t}return e}))}function Z(e){return z(e,V(),(e=>e.trim()))}function Q(e){return se(e,"empty",(t=>{const r=ee(t);return 0===r||`Expected an empty ${e.type} but received one with a size of \`${r}\``}))}function ee(e){return e instanceof Map||e instanceof Set?e.size:e.length}function te(e,t,r={}){const{exclusive:n}=r;return se(e,"max",(r=>n?r<t:r<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${r}\``))}function re(e,t,r={}){const{exclusive:n}=r;return se(e,"min",(r=>n?r>t:r>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${r}\``))}function ne(e){return se(e,"nonempty",(t=>ee(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function ie(e,t){return se(e,"pattern",(r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`))}function oe(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return se(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||`${n} ${i} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:o}=e;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}{const{length:o}=e;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}}))}function se(e,t,r){return new l({...e,*refiner(n,i){yield*e.refiner(n,i);const o=u(r(n,i),i,e,n);for(const e of o)yield{...e,refinement:t}}})}}}]);