/*! For license information please see 5372.5372.js.LICENSE.txt */
(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[5372],{6975:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayToHashObject=t.hashObjectToByteArray=void 0,t.hashObjectToByteArray=function(e,t,r){let i=e.h0;t[0+r]=255&i,i>>=8,t[1+r]=255&i,i>>=8,t[2+r]=255&i,i>>=8,t[3+r]=255&i,i=e.h1,t[4+r]=255&i,i>>=8,t[5+r]=255&i,i>>=8,t[6+r]=255&i,i>>=8,t[7+r]=255&i,i=e.h2,t[8+r]=255&i,i>>=8,t[9+r]=255&i,i>>=8,t[10+r]=255&i,i>>=8,t[11+r]=255&i,i=e.h3,t[12+r]=255&i,i>>=8,t[13+r]=255&i,i>>=8,t[14+r]=255&i,i>>=8,t[15+r]=255&i,i=e.h4,t[16+r]=255&i,i>>=8,t[17+r]=255&i,i>>=8,t[18+r]=255&i,i>>=8,t[19+r]=255&i,i=e.h5,t[20+r]=255&i,i>>=8,t[21+r]=255&i,i>>=8,t[22+r]=255&i,i>>=8,t[23+r]=255&i,i=e.h6,t[24+r]=255&i,i>>=8,t[25+r]=255&i,i>>=8,t[26+r]=255&i,i>>=8,t[27+r]=255&i,i=e.h7,t[28+r]=255&i,i>>=8,t[29+r]=255&i,i>>=8,t[30+r]=255&i,i>>=8,t[31+r]=255&i},t.byteArrayToHashObject=function(e){let t=0;t|=255&e[3],t<<=8,t|=255&e[2],t<<=8,t|=255&e[1],t<<=8,t|=255&e[0];const r=t;t=0,t|=255&e[7],t<<=8,t|=255&e[6],t<<=8,t|=255&e[5],t<<=8,t|=255&e[4];const i=t;t=0,t|=255&e[11],t<<=8,t|=255&e[10],t<<=8,t|=255&e[9],t<<=8,t|=255&e[8];const n=t;t=0,t|=255&e[15],t<<=8,t|=255&e[14],t<<=8,t|=255&e[13],t<<=8,t|=255&e[12];const s=t;t=0,t|=255&e[19],t<<=8,t|=255&e[18],t<<=8,t|=255&e[17],t<<=8,t|=255&e[16];const o=t;t=0,t|=255&e[23],t<<=8,t|=255&e[22],t<<=8,t|=255&e[21],t<<=8,t|=255&e[20];const a=t;t=0,t|=255&e[27],t<<=8,t|=255&e[26],t<<=8,t|=255&e[25],t<<=8,t|=255&e[24];const u=t;return t=0,t|=255&e[31],t<<=8,t|=255&e[30],t<<=8,t|=255&e[29],t<<=8,t|=255&e[28],{h0:r,h1:i,h2:n,h3:s,h4:o,h5:a,h6:u,h7:t}}},73911:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.digest64HashObjects=t.digest2Bytes32=t.digest64=t.digest=t.SHA256=t.hashObjectToByteArray=t.byteArrayToHashObject=void 0;const n=r(11912),s=r(6975);Object.defineProperty(t,"byteArrayToHashObject",{enumerable:!0,get:function(){return s.byteArrayToHashObject}}),Object.defineProperty(t,"hashObjectToByteArray",{enumerable:!0,get:function(){return s.hashObjectToByteArray}});const o=i(r(36792));t.SHA256=o.default;const a=n.newInstance(),u=a.input.value,h=a.output.value,c=new Uint8Array(a.memory.buffer,u,a.INPUT_LENGTH),l=new Uint8Array(a.memory.buffer,h,32),f=new Uint32Array(a.memory.buffer,u,a.INPUT_LENGTH);function d(e){if(64===e.length){c.set(e),a.digest64(u,h);const t=new Uint8Array(32);return t.set(l),t}throw new Error("InvalidLengthForDigest64")}t.digest=function(e){if(64===e.length)return d(e);if(e.length<=a.INPUT_LENGTH){c.set(e),a.digest(e.length);const t=new Uint8Array(32);return t.set(l),t}return a.init(),function(e){const t=a.INPUT_LENGTH;if(e.length>t)for(let r=0;r<e.length;r+=t){const i=e.slice(r,r+t);c.set(i),a.update(u,i.length)}else c.set(e),a.update(u,e.length)}(e),function(){a.final(h);const e=new Uint8Array(32);return e.set(l),e}()},t.digest64=d,t.digest2Bytes32=function(e,t){if(32===e.length&&32===t.length){c.set(e),c.set(t,32),a.digest64(u,h);const r=new Uint8Array(32);return r.set(l),r}throw new Error("InvalidLengthForDigest64")},t.digest64HashObjects=function(e,t){return f[0]=e.h0,f[1]=e.h1,f[2]=e.h2,f[3]=e.h3,f[4]=e.h4,f[5]=e.h5,f[6]=e.h6,f[7]=e.h7,f[8]=t.h0,f[9]=t.h1,f[10]=t.h2,f[11]=t.h3,f[12]=t.h4,f[13]=t.h5,f[14]=t.h6,f[15]=t.h7,a.digest64(u,h),s.byteArrayToHashObject(l)}},36792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(11912);t.default=class{constructor(){this.ctx=i.newInstance(),this.wasmInputValue=this.ctx.input.value,this.wasmOutputValue=this.ctx.output.value,this.uint8InputArray=new Uint8Array(this.ctx.memory.buffer,this.wasmInputValue,this.ctx.INPUT_LENGTH),this.uint8OutputArray=new Uint8Array(this.ctx.memory.buffer,this.wasmOutputValue,32)}init(){return this.ctx.init(),this}update(e){const t=this.ctx.INPUT_LENGTH;if(e.length>t)for(let r=0;r<e.length;r+=t){const i=e.slice(r,r+t);this.uint8InputArray.set(i),this.ctx.update(this.wasmInputValue,i.length)}else this.uint8InputArray.set(e),this.ctx.update(this.wasmInputValue,e.length);return this}final(){this.ctx.final(this.wasmOutputValue);const e=new Uint8Array(32);return e.set(this.uint8OutputArray),e}}},11912:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0;const i=r(57507),n=new WebAssembly.Module(i.wasmCode),s={env:{abort:function(e,t,r,i){throw Error(`abort: ${e}:${t}:${r}:${i}`)}}};t.newInstance=function(){return new WebAssembly.Instance(n,s).exports}},57507:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wasmCode=void 0,t.wasmCode=Uint8Array.from([0,97,115,109,1,0,0,0,1,31,6,96,1,127,0,96,2,127,127,0,96,0,0,96,1,127,1,127,96,3,127,127,127,0,96,4,127,127,127,127,0,2,13,1,3,101,110,118,5,97,98,111,114,116,0,5,3,16,15,0,3,1,3,2,2,4,1,1,3,0,0,0,1,2,5,3,1,0,1,6,172,1,34,127,0,65,128,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,7,86,9,6,109,101,109,111,114,121,2,0,12,73,78,80,85,84,95,76,69,78,71,84,72,3,0,5,105,110,112,117,116,3,28,6,111,117,116,112,117,116,3,30,4,105,110,105,116,0,6,6,117,112,100,97,116,101,0,9,5,102,105,110,97,108,0,11,6,100,105,103,101,115,116,0,12,8,100,105,103,101,115,116,54,52,0,14,8,1,15,10,202,14,15,70,1,2,127,32,0,63,0,34,2,65,16,116,34,1,75,4,64,32,2,32,0,32,1,107,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,11,32,0,36,23,11,82,1,3,127,32,0,65,240,255,255,255,3,75,4,64,0,11,35,23,65,16,106,34,2,32,0,65,15,106,65,112,113,34,1,65,16,32,1,65,16,75,27,34,3,106,16,1,32,2,65,16,107,34,1,32,3,54,2,0,32,1,65,1,54,2,4,32,1,65,0,54,2,8,32,1,32,0,54,2,12,32,2,11,37,1,1,127,3,64,32,1,4,64,32,0,34,2,65,1,106,33,0,32,2,65,0,58,0,0,32,1,65,1,107,33,1,12,1,11,11,11,41,1,1,127,32,0,65,240,255,255,255,3,75,4,64,65,128,5,65,176,5,65,54,65,42,16,0,0,11,32,0,16,2,34,1,32,0,16,3,32,1,11,71,0,65,180,2,40,2,0,36,1,65,228,4,40,2,0,36,2,65,224,5,36,22,65,224,5,36,23,65,192,0,16,4,36,24,35,24,36,25,65,128,2,16,4,36,26,35,26,36,27,65,128,4,16,4,36,28,35,28,36,29,65,32,16,4,36,30,35,30,36,31,11,74,0,65,231,204,167,208,6,36,3,65,133,221,158,219,123,36,4,65,242,230,187,227,3,36,5,65,186,234,191,170,122,36,6,65,255,164,185,136,5,36,7,65,140,209,149,216,121,36,8,65,171,179,143,252,1,36,9,65,153,154,131,223,5,36,10,65,0,36,32,65,0,36,33,11,103,1,2,127,2,64,32,2,33,3,32,0,32,1,70,13,0,32,0,32,1,73,4,64,3,64,32,3,4,64,32,0,34,2,65,1,106,33,0,32,1,34,4,65,1,106,33,1,32,2,32,4,45,0,0,58,0,0,32,3,65,1,107,33,3,12,1,11,11,5,3,64,32,3,4,64,32,3,65,1,107,34,3,32,0,106,32,1,32,3,106,45,0,0,58,0,0,12,1,11,11,11,11,11,231,3,1,1,127,35,3,36,11,35,4,36,12,35,5,36,13,35,6,36,14,35,7,36,15,35,8,36,16,35,9,36,17,35,10,36,18,65,0,36,19,3,64,35,19,65,16,73,4,64,32,0,35,19,65,2,116,106,32,1,35,19,65,2,116,34,2,106,45,0,0,65,24,116,32,1,32,2,65,1,106,106,45,0,0,65,16,116,114,32,1,32,2,65,2,106,106,45,0,0,65,8,116,114,32,1,32,2,65,3,106,106,45,0,0,114,54,2,0,35,19,65,1,106,36,19,12,1,11,11,65,16,36,19,3,64,35,19,65,192,0,73,4,64,32,0,35,19,65,2,116,106,32,0,35,19,65,16,107,65,2,116,106,40,2,0,32,0,35,19,65,7,107,65,2,116,106,40,2,0,32,0,35,19,65,2,107,65,2,116,106,40,2,0,34,1,65,17,120,32,1,65,19,120,115,32,1,65,10,118,115,106,32,0,35,19,65,15,107,65,2,116,106,40,2,0,34,1,65,7,120,32,1,65,18,120,115,32,1,65,3,118,115,106,106,54,2,0,35,19,65,1,106,36,19,12,1,11,11,65,0,36,19,3,64,35,19,65,192,0,73,4,64,32,0,35,19,65,2,116,106,40,2,0,35,1,35,19,65,2,116,106,40,2,0,35,18,35,15,34,1,65,6,120,32,1,65,11,120,115,32,1,65,25,120,115,106,35,15,34,1,35,16,113,35,17,32,1,65,127,115,113,115,106,106,106,36,20,35,11,34,1,65,2,120,32,1,65,13,120,115,32,1,65,22,120,115,35,11,34,1,35,12,34,2,113,32,1,35,13,34,1,113,115,32,1,32,2,113,115,106,36,21,35,17,36,18,35,16,36,17,35,15,36,16,35,14,35,20,106,36,15,35,13,36,14,35,12,36,13,35,11,36,12,35,20,35,21,106,36,11,35,19,65,1,106,36,19,12,1,11,11,35,3,35,11,106,36,3,35,4,35,12,106,36,4,35,5,35,13,106,36,5,35,6,35,14,106,36,6,35,7,35,15,106,36,7,35,8,35,16,106,36,8,35,9,35,17,106,36,9,35,10,35,18,106,36,10,11,177,1,1,2,127,32,1,35,33,106,36,33,35,32,4,64,65,192,0,35,32,107,32,1,76,4,64,35,25,35,32,106,32,0,65,192,0,35,32,107,16,7,35,32,65,192,0,35,32,107,106,36,32,65,192,0,35,32,107,33,2,32,1,65,192,0,35,32,107,107,33,1,35,27,35,25,16,8,65,0,36,32,5,35,25,35,32,106,32,0,32,1,16,7,32,1,35,32,106,36,32,15,11,11,3,64,32,3,32,1,65,192,0,109,72,4,64,35,27,32,0,32,2,106,16,8,32,3,65,1,106,33,3,32,2,65,64,107,33,2,12,1,11,11,32,1,65,63,113,4,64,35,25,35,32,106,32,0,32,2,106,32,1,65,63,113,34,0,16,7,32,0,35,32,106,36,32,11,11,25,0,32,0,65,128,254,131,120,113,65,8,119,32,0,65,255,129,252,7,113,65,8,120,114,11,173,2,1,2,127,35,33,65,63,113,65,63,72,4,64,35,25,35,32,106,65,128,1,58,0,0,35,32,65,1,106,36,32,11,35,33,65,63,113,65,56,78,4,64,35,25,35,32,106,34,1,65,192,0,35,32,107,106,33,2,3,64,32,1,32,2,73,4,64,32,1,65,0,58,0,0,32,1,65,1,106,33,1,12,1,11,11,35,27,35,25,16,8,65,0,36,32,11,35,33,65,63,113,65,63,78,4,64,35,25,35,32,106,65,128,1,58,0,0,35,32,65,1,106,36,32,11,35,25,35,32,106,34,1,65,56,35,32,107,106,33,2,3,64,32,1,32,2,73,4,64,32,1,65,0,58,0,0,32,1,65,1,106,33,1,12,1,11,11,35,25,65,56,106,35,33,65,128,128,128,128,2,109,16,10,54,2,0,35,25,65,60,106,35,33,65,3,116,16,10,54,2,0,35,27,35,25,16,8,32,0,35,3,16,10,54,2,0,32,0,65,4,106,35,4,16,10,54,2,0,32,0,65,8,106,35,5,16,10,54,2,0,32,0,65,12,106,35,6,16,10,54,2,0,32,0,65,16,106,35,7,16,10,54,2,0,32,0,65,20,106,35,8,16,10,54,2,0,32,0,65,24,106,35,9,16,10,54,2,0,32,0,65,28,106,35,10,16,10,54,2,0,11,14,0,16,6,35,29,32,0,16,9,35,31,16,11,11,253,1,1,2,127,35,3,36,11,35,4,36,12,35,5,36,13,35,6,36,14,35,7,36,15,35,8,36,16,35,9,36,17,35,10,36,18,65,0,36,19,3,64,35,19,65,192,0,73,4,64,32,0,35,19,65,2,116,106,40,2,0,35,18,35,15,34,1,65,6,120,32,1,65,11,120,115,32,1,65,25,120,115,106,35,15,34,1,35,16,113,35,17,32,1,65,127,115,113,115,106,106,36,20,35,11,34,1,65,2,120,32,1,65,13,120,115,32,1,65,22,120,115,35,11,34,1,35,12,34,2,113,32,1,35,13,34,1,113,115,32,1,32,2,113,115,106,36,21,35,17,36,18,35,16,36,17,35,15,36,16,35,14,35,20,106,36,15,35,13,36,14,35,12,36,13,35,11,36,12,35,20,35,21,106,36,11,35,19,65,1,106,36,19,12,1,11,11,35,3,35,11,106,36,3,35,4,35,12,106,36,4,35,5,35,13,106,36,5,35,6,35,14,106,36,6,35,7,35,15,106,36,7,35,8,35,16,106,36,8,35,9,35,17,106,36,9,35,10,35,18,106,36,10,11,107,0,16,6,35,27,32,0,16,8,35,2,16,13,32,1,35,3,16,10,54,2,0,32,1,65,4,106,35,4,16,10,54,2,0,32,1,65,8,106,35,5,16,10,54,2,0,32,1,65,12,106,35,6,16,10,54,2,0,32,1,65,16,106,35,7,16,10,54,2,0,32,1,65,20,106,35,8,16,10,54,2,0,32,1,65,24,106,35,9,16,10,54,2,0,32,1,65,28,106,35,10,16,10,54,2,0,11,4,0,16,5,11,11,222,5,6,0,65,17,11,143,2,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,152,47,138,66,145,68,55,113,207,251,192,181,165,219,181,233,91,194,86,57,241,17,241,89,164,130,63,146,213,94,28,171,152,170,7,216,1,91,131,18,190,133,49,36,195,125,12,85,116,93,190,114,254,177,222,128,167,6,220,155,116,241,155,193,193,105,155,228,134,71,190,239,198,157,193,15,204,161,12,36,111,44,233,45,170,132,116,74,220,169,176,92,218,136,249,118,82,81,62,152,109,198,49,168,200,39,3,176,199,127,89,191,243,11,224,198,71,145,167,213,81,99,202,6,103,41,41,20,133,10,183,39,56,33,27,46,252,109,44,77,19,13,56,83,84,115,10,101,187,10,106,118,46,201,194,129,133,44,114,146,161,232,191,162,75,102,26,168,112,139,75,194,163,81,108,199,25,232,146,209,36,6,153,214,133,53,14,244,112,160,106,16,22,193,164,25,8,108,55,30,76,119,72,39,181,188,176,52,179,12,28,57,74,170,216,78,79,202,156,91,243,111,46,104,238,130,143,116,111,99,165,120,20,120,200,132,8,2,199,140,250,255,190,144,235,108,80,164,247,163,249,190,242,120,113,198,0,65,160,2,11,29,16,0,0,0,1,0,0,0,3,0,0,0,16,0,0,0,32,0,0,0,32,0,0,0,0,1,0,0,64,0,65,193,2,11,143,2,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,152,47,138,194,145,68,55,113,207,251,192,181,165,219,181,233,91,194,86,57,241,17,241,89,164,130,63,146,213,94,28,171,152,170,7,216,1,91,131,18,190,133,49,36,195,125,12,85,116,93,190,114,254,177,222,128,167,6,220,155,116,243,155,193,193,105,155,100,134,71,254,240,198,237,225,15,84,242,12,36,111,52,233,79,190,132,201,108,30,65,185,97,250,136,249,22,82,81,198,242,109,90,142,168,101,252,25,176,199,158,217,185,195,49,18,154,160,234,14,231,43,35,177,253,176,62,53,199,213,186,105,48,95,109,151,203,143,17,15,90,253,238,30,220,137,182,53,10,4,122,11,222,157,202,244,88,22,91,93,225,134,62,127,0,128,137,8,55,50,234,7,165,55,149,171,111,16,97,64,23,241,214,140,13,109,59,170,205,55,190,187,192,218,59,97,131,99,163,72,219,49,233,2,11,167,92,209,111,202,250,26,82,49,132,51,49,149,26,212,110,144,120,67,109,242,145,156,195,189,171,204,158,230,160,201,181,60,182,47,83,198,65,199,210,163,126,35,7,104,75,149,164,118,29,25,76,0,65,208,4,11,29,16,0,0,0,1,0,0,0,3,0,0,0,16,0,0,0,80,1,0,0,80,1,0,0,0,1,0,0,64,0,65,240,4,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,160,5,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115])},54706:(e,t,r)=>{"use strict";var i=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.accountBodyToRLP=t.accountBodyToSlim=t.accountBodyFromSlim=t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;const n=r(57256),s=r(53849),o=r(33062),a=r(25461),u=r(85766),h=r(38127),c=r(38707),l=r(34243),f=BigInt(0);class d{constructor(e=f,t=f,r=h.KECCAK256_RLP,i=h.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=i,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:i,codeHash:n}=e;return new d(void 0!==t?(0,u.bufferToBigInt)((0,u.toBuffer)(t)):void 0,void 0!==r?(0,u.bufferToBigInt)((0,u.toBuffer)(r)):void 0,void 0!==i?(0,u.toBuffer)(i):void 0,void 0!==n?(0,u.toBuffer)(n):void 0)}static fromRlpSerializedAccount(e){const t=(0,u.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,i,n]=e;return new d((0,u.bufferToBigInt)(t),(0,u.bufferToBigInt)(r),i,n)}_validate(){if(this.nonce<f)throw new Error("nonce must be greater than zero");if(this.balance<f)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,u.bigIntToUnpaddedBuffer)(this.nonce),(0,u.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return i.from(n.RLP.encode((0,u.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(h.KECCAK256_NULL)}isEmpty(){return this.balance===f&&this.nonce===f&&this.codeHash.equals(h.KECCAK256_NULL)}}function y(e){const[t,r,i,n]=e;return[t,r,0===(0,u.arrToBufArr)(i).length?h.KECCAK256_RLP:i,0===(0,u.arrToBufArr)(n).length?h.KECCAK256_NULL:n]}t.Account=d,t.isValidAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)},t.toChecksumAddress=function(e,t){(0,c.assertIsHexString)(e);const r=(0,l.stripHexPrefix)(e).toLowerCase();let n="";void 0!==t&&(n=(0,u.bufferToBigInt)((0,u.toBuffer)(t)).toString()+"0x");const o=i.from(n+r,"utf8"),h=(0,a.bytesToHex)((0,s.keccak256)(o));let f="0x";for(let e=0;e<r.length;e++)parseInt(h[e],16)>=8?f+=r[e].toUpperCase():f+=r[e];return f},t.isValidChecksumAddress=function(e,r){return(0,t.isValidAddress)(e)&&(0,t.toChecksumAddress)(e,r)===e},t.generateAddress=function(e,t){return(0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(t),(0,u.bufferToBigInt)(t)===BigInt(0)?i.from((0,s.keccak256)(n.RLP.encode((0,u.bufArrToArr)([e,null])))).slice(-20):i.from((0,s.keccak256)(n.RLP.encode((0,u.bufArrToArr)([e,t])))).slice(-20)},t.generateAddress2=function(e,t,r){if((0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(t),(0,c.assertIsBuffer)(r),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==t.length)throw new Error("Expected salt to be of length 32");const n=(0,s.keccak256)(i.concat([i.from("ff","hex"),e,t,(0,s.keccak256)(r)]));return(0,u.toBuffer)(n).slice(-20)},t.isValidPrivate=function(e){return o.utils.isValidPrivateKey(e)},t.isValidPublic=function(e,t=!1){if((0,c.assertIsBuffer)(e),64===e.length)try{return o.Point.fromHex(i.concat([i.from([4]),e])),!0}catch(e){return!1}if(!t)return!1;try{return o.Point.fromHex(e),!0}catch(e){return!1}},t.pubToAddress=function(e,t=!1){if((0,c.assertIsBuffer)(e),t&&64!==e.length&&(e=i.from(o.Point.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return i.from((0,s.keccak256)(e)).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToPublic=function(e){return(0,c.assertIsBuffer)(e),i.from(o.Point.fromPrivateKey(e).toRawBytes(!1).slice(1))},t.privateToAddress=function(e){return(0,t.publicToAddress)((0,t.privateToPublic)(e))},t.importPublic=function(e){return(0,c.assertIsBuffer)(e),64!==e.length&&(e=i.from(o.Point.fromHex(e).toRawBytes(!1).slice(1))),e},t.zeroAddress=function(){const e=(0,u.zeros)(20);return(0,u.bufferToHex)(e)},t.isZeroAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return(0,t.zeroAddress)()===e},t.accountBodyFromSlim=y;const p=new Uint8Array(0);t.accountBodyToSlim=function(e){const[t,r,i,n]=e;return[t,r,(0,u.arrToBufArr)(i).equals(h.KECCAK256_RLP)?p:i,(0,u.arrToBufArr)(n).equals(h.KECCAK256_NULL)?p:n]},t.accountBodyToRLP=function(e,t=!0){const r=t?y(e):e;return(0,u.arrToBufArr)(n.RLP.encode(r))}},38515:(e,t,r)=>{"use strict";var i=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Address=void 0;const n=r(54706),s=r(85766);class o{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new o((0,s.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new o((0,s.toBuffer)(e))}static fromPublicKey(e){if(!i.isBuffer(e))throw new Error("Public key should be Buffer");const t=(0,n.pubToAddress)(e);return new o(t)}static fromPrivateKey(e){if(!i.isBuffer(e))throw new Error("Private key should be Buffer");const t=(0,n.privateToAddress)(e);return new o(t)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new o((0,n.generateAddress)(e.buf,(0,s.bigIntToBuffer)(t)))}static generate2(e,t,r){if(!i.isBuffer(t))throw new Error("Expected salt to be a Buffer");if(!i.isBuffer(r))throw new Error("Expected initCode to be a Buffer");return new o((0,n.generateAddress2)(e.buf,t,r))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(o.zero())}isPrecompileOrSystemAddress(){const e=(0,s.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return i.from(this.buf)}}t.Address=o},68263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncEventEmitter=void 0;const i=r(22699);class n extends i.EventEmitter{emit(e,...t){let[r,i]=t;const n=this;let s=n._events[e]??[];return void 0===i&&"function"==typeof r&&(i=r,r=void 0),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:i},i=void 0),s=Array.isArray(s)?s:[s],async function(e,t,r){let i;for await(const n of t)try{n.length<2?n.call(e,r):await new Promise(((t,i)=>{n.call(e,r,(e=>{e?i(e):t()}))}))}catch(e){i=e}if(i)throw i}(n,s.slice(),r).then(i).catch(i),n.listenerCount(e)>0}once(e,t){const r=this;let i;if("function"!=typeof t)throw new TypeError("listener must be a function");return i=t.length>=2?function(n,s){r.removeListener(e,i),t(n,s)}:function(n){r.removeListener(e,i),t(n,i)},r.on(e,i),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,i){let n,s,o=this._events[e]??[];const a="after"===i?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,n=o.length;n--;)if(o[n]===t){s=n+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}t.AsyncEventEmitter=n},85766:(e,t,r)=>{"use strict";var i=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.intToUnpaddedBuffer=t.bigIntToUnpaddedBuffer=t.bigIntToHex=t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.short=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToInt=t.bigIntToBuffer=t.bufferToBigInt=t.bufferToHex=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;const n=r(38707),s=r(34243);t.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},t.intToBuffer=function(e){const r=(0,t.intToHex)(e);return i.from((0,s.padToEven)(r.slice(2)),"hex")},t.zeros=function(e){return i.allocUnsafe(e).fill(0)};const o=function(e,r,i){const n=(0,t.zeros)(r);return i?e.length<r?(e.copy(n),n):e.slice(0,r):e.length<r?(e.copy(n,r-e.length),n):e.slice(-r)};t.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),o(e,t,!1)},t.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),o(e,t,!0)};const a=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};function u(e){const r=(0,t.bufferToHex)(e);return"0x"===r?BigInt(0):BigInt(r)}function h(e){return(0,t.toBuffer)("0x"+e.toString(16))}t.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),a(e)},t.unpadArray=function(e){return(0,n.assertIsArray)(e),a(e)},t.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,s.stripHexPrefix)(e),"0x"+a(e)},t.toBuffer=function(e){if(null==e)return i.allocUnsafe(0);if(i.isBuffer(e))return i.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return i.from(e);if("string"==typeof e){if(!(0,s.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return i.from((0,s.padToEven)((0,s.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,t.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),i.from(t,"hex")}if(e.toArray)return i.from(e.toArray());if(e.toBuffer)return i.from(e.toBuffer());throw new Error("invalid type")},t.bufferToHex=function(e){return"0x"+(e=(0,t.toBuffer)(e)).toString("hex")},t.bufferToBigInt=u,t.bigIntToBuffer=h,t.bufferToInt=function(e){const t=Number(u(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t},t.fromSigned=function(e){return BigInt.asIntN(256,u(e))},t.toUnsigned=function(e){return h(BigInt.asUintN(256,e))},t.addHexPrefix=function(e){return"string"!=typeof e||(0,s.isHexPrefixed)(e)?e:"0x"+e},t.short=function(e,t=50){const r=i.isBuffer(e)?e.toString("hex"):e;return r.length<=t?r:r.slice(0,t)+"â€¦"},t.toUtf8=function(e){if((e=(0,s.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return i.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")},t.baToJSON=function(e){if(i.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const r=[];for(let i=0;i<e.length;i++)r.push((0,t.baToJSON)(e[i]));return r}},t.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(void 0!==r&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},t.arrToBufArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):i.from(t)},t.bufArrToArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Uint8Array.from(t??[])},t.bigIntToHex=e=>"0x"+e.toString(16),t.bigIntToUnpaddedBuffer=function(e){return(0,t.unpadBuffer)(h(e))},t.intToUnpaddedBuffer=function(e){return(0,t.unpadBuffer)((0,t.intToBuffer)(e))}},38127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_WITHDRAWALS_PER_PAYLOAD=t.RLP_EMPTY_STRING=t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.SECP256K1_ORDER_DIV_2=t.SECP256K1_ORDER=t.MAX_INTEGER_BIGINT=t.MAX_INTEGER=t.MAX_UINT64=void 0;const i=r(48834),n=r(33062);t.MAX_UINT64=BigInt("0xffffffffffffffff"),t.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.SECP256K1_ORDER=n.CURVE.n,t.SECP256K1_ORDER_DIV_2=n.CURVE.n/BigInt(2),t.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=i.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=i.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=i.Buffer.from(t.KECCAK256_RLP_S,"hex"),t.RLP_EMPTY_STRING=i.Buffer.from([128]),t.MAX_WITHDRAWALS_PER_PAYLOAD=16},38707:(e,t,r)=>{"use strict";var i=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.assertIsString=t.assertIsArray=t.assertIsBuffer=t.assertIsHexString=void 0;const n=r(34243);t.assertIsHexString=function(e){if(!(0,n.isHexString)(e))throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)},t.assertIsBuffer=function(e){if(!i.isBuffer(e))throw new Error(`This method only supports Buffer but input was: ${e}`)},t.assertIsArray=function(e){if(!Array.isArray(e))throw new Error(`This method only supports number arrays but input was: ${e}`)},t.assertIsString=function(e){if("string"!=typeof e)throw new Error(`This method only supports strings but input was: ${e}`)}},45372:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=t.ssz=void 0,n(r(38127),t),n(r(53895),t),n(r(54706),t),n(r(38515),t),n(r(72868),t),n(r(2074),t),n(r(85766),t),t.ssz=r(1668),n(r(82103),t),n(r(68263),t);var s=r(34243);Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),n(r(66065),t)},34243:(e,t,r)=>{"use strict";var i=r(48834).Buffer;function n(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}function s(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,t.isHexPrefixed=n,t.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return n(e)?e.slice(2):e},t.padToEven=s,t.getBinarySize=function(e){if("string"!=typeof e)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof e);return i.byteLength(e,"utf8")},t.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"]((t=>e.indexOf(t)>=0))},t.toAscii=function(e){let t="",r=0;const i=e.length;for("0x"===e.substring(0,2)&&(r=2);r<i;r+=2){const i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},t.fromUtf8=function(e){return`0x${s(i.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},t.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`},t.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const i=[];for(let n=0;n<e.length;n++){let s=e[n][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";i.push(s)}return i},t.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||void 0!==t&&t>0&&e.length!==2+2*t)}},66065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lock=void 0,t.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((e=>this.promiseResolverQueue.push(e)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}},2074:(e,t,r)=>{"use strict";var i=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.hashPersonalMessage=t.isValidSignature=t.fromRpcSig=t.toCompactSig=t.toRpcSig=t.ecrecover=t.ecsign=void 0;const n=r(53849),s=r(33062),o=r(85766),a=r(38127),u=r(38707);function h(e,t){return e===BigInt(0)||e===BigInt(1)?e:void 0===t?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function c(e){return e===BigInt(0)||e===BigInt(1)}t.ecsign=function(e,t,r){const[n,o]=(0,s.signSync)(e,t,{recovered:!0,der:!1});return{r:i.from(n.slice(0,32)),s:i.from(n.slice(32,64)),v:void 0===r?BigInt(o+27):BigInt(o+35)+BigInt(r)*BigInt(2)}},t.ecrecover=function(e,t,r,n,a){const u=i.concat([(0,o.setLengthLeft)(r,32),(0,o.setLengthLeft)(n,32)],64),l=h(t,a);if(!c(l))throw new Error("Invalid signature v value");const f=(0,s.recoverPublicKey)(e,u,Number(l));return i.from(f.slice(1))},t.toRpcSig=function(e,t,r,n){if(!c(h(e,n)))throw new Error("Invalid signature v value");return(0,o.bufferToHex)(i.concat([(0,o.setLengthLeft)(t,32),(0,o.setLengthLeft)(r,32),(0,o.toBuffer)(e)]))},t.toCompactSig=function(e,t,r,n){if(!c(h(e,n)))throw new Error("Invalid signature v value");let s=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(s=i.from(r),s[0]|=128),(0,o.bufferToHex)(i.concat([(0,o.setLengthLeft)(t,32),(0,o.setLengthLeft)(s,32)]))},t.fromRpcSig=function(e){const t=(0,o.toBuffer)(e);let r,i,n;if(t.length>=65)r=t.slice(0,32),i=t.slice(32,64),n=(0,o.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),i=t.slice(32,64),n=BigInt((0,o.bufferToInt)(t.slice(32,33))>>7),i[0]&=127}return n<27&&(n+=BigInt(27)),{v:n,r,s:i}},t.isValidSignature=function(e,t,r,i=!0,n){if(32!==t.length||32!==r.length)return!1;if(!c(h(e,n)))return!1;const s=(0,o.bufferToBigInt)(t),u=(0,o.bufferToBigInt)(r);return!(s===BigInt(0)||s>=a.SECP256K1_ORDER||u===BigInt(0)||u>=a.SECP256K1_ORDER||i&&u>=a.SECP256K1_ORDER_DIV_2)},t.hashPersonalMessage=function(e){(0,u.assertIsBuffer)(e);const t=i.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return i.from((0,n.keccak256)(i.concat([t,e])))}},1668:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Withdrawals=t.Withdrawal=t.Bytes20=t.UintBigInt64=t.UintNum64=void 0;const i=r(70338),n=r(38127);t.UintNum64=new i.UintNumberType(8),t.UintBigInt64=new i.UintBigintType(8),t.Bytes20=new i.ByteVectorType(20),t.Withdrawal=new i.ContainerType({index:t.UintBigInt64,validatorIndex:t.UintBigInt64,address:t.Bytes20,amount:t.UintBigInt64},{typeName:"Withdrawal",jsonCase:"eth2"}),t.Withdrawals=new i.ListCompositeType(t.Withdrawal,n.MAX_WITHDRAWALS_PER_PAYLOAD)},82103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=void 0;const i=r(85766),n=r(34243);var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=t.TypeOutput||(t.TypeOutput={})),t.toType=function(e,t){if(null===e)return null;if(void 0===e)return;if("string"==typeof e&&!(0,n.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,i.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,i.bufferToBigInt)(r);case s.Number:{const e=(0,i.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,i.bufferToHex)(r);default:throw new Error("unknown outputType")}}},53895:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GWEI_TO_WEI=void 0,t.GWEI_TO_WEI=BigInt(1e9)},72868:(e,t,r)=>{"use strict";var i=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Withdrawal=void 0;const n=r(38515),s=r(85766),o=r(82103);class a{constructor(e,t,r,i){this.index=e,this.validatorIndex=t,this.address=r,this.amount=i}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:s}=e,u=(0,o.toType)(t,o.TypeOutput.BigInt),h=(0,o.toType)(r,o.TypeOutput.BigInt),c=new n.Address((0,o.toType)(i,o.TypeOutput.Buffer)),l=(0,o.toType)(s,o.TypeOutput.BigInt);return new a(u,h,c,l)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,i,n]=e;return a.fromWithdrawalData({index:t,validatorIndex:r,address:i,amount:n})}static toBufferArray(e){const{index:t,validatorIndex:r,address:s,amount:a}=e,u=(0,o.toType)(t,o.TypeOutput.BigInt)===BigInt(0)?i.alloc(0):(0,o.toType)(t,o.TypeOutput.Buffer),h=(0,o.toType)(r,o.TypeOutput.BigInt)===BigInt(0)?i.alloc(0):(0,o.toType)(r,o.TypeOutput.Buffer);let c;return c=s instanceof n.Address?s.buf:(0,o.toType)(s,o.TypeOutput.Buffer),[u,h,c,(0,o.toType)(a,o.TypeOutput.BigInt)===BigInt(0)?i.alloc(0):(0,o.toType)(a,o.TypeOutput.Buffer)]}raw(){return a.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,s.bigIntToHex)(this.index),validatorIndex:(0,s.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,s.bigIntToHex)(this.amount)}}}t.Withdrawal=a},5338:(e,t)=>{"use strict";function r(e,t){const r=BigInt(1)<<BigInt(e);if(t>=r)throw new Error(`index ${t} too large for depth ${e}`);return r|t}Object.defineProperty(t,"__esModule",{value:!0}),t.gindexChild=t.gindexParent=t.gindexSibling=t.concatGindices=t.getGindexBits=t.gindexIterator=t.getGindicesAtDepth=t.iterateAtDepth=t.countToDepth=t.convertGindexToBitstring=t.toGindexBitstring=t.toGindex=t.bitIndexBigInt=void 0,t.bitIndexBigInt=function(e){return e.toString(2).length-1},t.toGindex=r,t.toGindexBitstring=function(e,t){const r=t?Number(t).toString(2):"";if(r.length>e)throw new Error("index too large for depth");return"1"+r.padStart(e,"0")},t.convertGindexToBitstring=function(e){if("string"==typeof e){if(0===e.length)throw new Error(i);return e}if(e<1)throw new Error(i);return e.toString(2)},t.countToDepth=function(e){return e<=1?0:(e-BigInt(1)).toString(2).length},t.iterateAtDepth=function(e,t,i){if(t+i>BigInt(1)<<BigInt(e))throw new Error("Too large for depth");let n=r(e,t);const s=n+i;return{[Symbol.iterator]:()=>({next(){if(n<s){const e=n;return n++,{done:!1,value:e}}return{done:!0,value:void 0}}})}},t.getGindicesAtDepth=function(e,t,i){if(t+i>BigInt(1)<<BigInt(e))throw new Error("Too large for depth");let n=r(e,BigInt(t));const s=[];for(let e=0;e<i;e++)s.push(n++);return s};const i="Invalid gindex";t.gindexIterator=function(e){let t;if("string"==typeof e){if(!e.length)throw new Error(i);t=e}else{if(e<1)throw new Error(i);t=e.toString(2)}let r=1;const n=()=>{if(r===t.length)return{done:!0,value:void 0};const e=Number(t[r]);return r++,{done:!1,value:e}};return{[Symbol.iterator]:()=>({next:n}),remainingBitLength:()=>t.length-r}},t.getGindexBits=function(e){let t;if("string"==typeof e){if(!e.length)throw new Error(i);t=e}else{if(e<1)throw new Error(i);t=e.toString(2)}const r=[];for(let e=1;e<t.length;e++)r.push(Number(t[e]));return r},t.concatGindices=function(e){return BigInt(e.reduce(((e,t)=>e+t.toString(2).slice(1)),"0b1"))},t.gindexSibling=function(e){return e^BigInt(1)},t.gindexParent=function(e){return e/BigInt(2)},t.gindexChild=function(e,t){return e*BigInt(2)+BigInt(t)}},26893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHashObject=t.uint8ArrayToHashObject=t.hashObjectToUint8Array=t.hashTwoObjects=t.hash=void 0;const i=r(73911),n=new Uint8Array(64);t.hash=function(e,t){return n.set(e,0),n.set(t,32),i.digest64(n)},t.hashTwoObjects=function(e,t){return i.digest64HashObjects(e,t)},t.hashObjectToUint8Array=function(e){const t=new Uint8Array(32);return i.hashObjectToByteArray(e,t,0),t},t.uint8ArrayToHashObject=function(e){return i.byteArrayToHashObject(e)},t.isHashObject=function(e){return void 0===e.length}},44152:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(5338),t),n(r(26893),t),n(r(77866),t),n(r(84238),t),n(r(17237),t),n(r(41726),t),n(r(84935),t),n(r(60638),t)},77866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitwiseOrNodeH=t.setNodeH=t.getNodeH=t.compose=t.identity=t.LeafNode=t.BranchNode=t.Node=void 0;const i=r(26893),n=2**32;class s{constructor(e,t,r,i,n,s,o,a){this.h0=e,this.h1=t,this.h2=r,this.h3=i,this.h4=n,this.h5=s,this.h6=o,this.h7=a}applyHash(e){this.h0=e.h0,this.h1=e.h1,this.h2=e.h2,this.h3=e.h3,this.h4=e.h4,this.h5=e.h5,this.h6=e.h6,this.h7=e.h7}}t.Node=s,t.BranchNode=class extends s{constructor(e,t){if(super(null,0,0,0,0,0,0,0),this._left=e,this._right=t,!e)throw new Error("Left node is undefined");if(!t)throw new Error("Right node is undefined")}get rootHashObject(){return null===this.h0&&super.applyHash(i.hashTwoObjects(this.left.rootHashObject,this.right.rootHashObject)),this}get root(){return i.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this._left}get right(){return this._right}};class o extends s{static fromRoot(e){return this.fromHashObject(i.uint8ArrayToHashObject(e))}static fromHashObject(e){return new o(e.h0,e.h1,e.h2,e.h3,e.h4,e.h5,e.h6,e.h7)}static fromZero(){return new o(0,0,0,0,0,0,0,0)}static fromUint32(e){return new o(e,0,0,0,0,0,0,0)}clone(){return o.fromHashObject(this)}get rootHashObject(){return this}get root(){return i.hashObjectToUint8Array(this)}isLeaf(){return!0}get left(){throw Error("LeafNode has no left node")}get right(){throw Error("LeafNode has no right node")}writeToBytes(e,t,r){e.set(this.root.slice(0,r),t)}getUint(e,t,r){const i=Math.floor(t/4);if(e<4){const r=t%4*8,n=a(this,i);return 1===e?255&n>>r:65535&n>>r}if(4===e)return a(this,i)>>>0;if(8===e){const e=a(this,i),t=a(this,i+1);return 0===t?e>>>0:-1===t&&-1===e&&r?1/0:(e>>>0)+(t>>>0)*n}throw Error("uintBytes > 8")}getUintBigint(e,t){const r=Math.floor(t/4);if(e<4){const i=t%4*8,n=a(this,r);return 1===e?BigInt(255&n>>i):BigInt(65535&n>>i)}if(4===e)return BigInt(a(this,r)>>>0);{const t=Math.ceil(e/4);let i=BigInt(0);for(let e=0;e<t;e++)i+=BigInt(a(this,r+e)>>>0)<<BigInt(32*e);return i}}setUint(e,t,r,i){const s=Math.floor(t/4);if(e<4){const i=t%4*8;let n=a(this,s);1===e?(n&=~(255<<i),n|=r<<i):(n&=~(65535<<i),n|=r<<i),u(this,s,n)}else if(4===e)u(this,s,r);else{if(8!==e)throw Error("uintBytes > 8");r===1/0&&i?(u(this,s,-1),u(this,s+1,-1)):(u(this,s,4294967295&r),u(this,s+1,r/n&4294967295))}}setUintBigint(e,t,r){const i=Math.floor(t/4);if(e<4){const n=Number(r),s=t%4*8;let o=a(this,i);1===e?(o&=~(255<<s),o|=n<<s):(o&=~(65535<<s),o|=n<<s),u(this,i,o)}else if(4===e)u(this,i,Number(r));else{const t=i+Math.ceil(e/4);for(let e=i;e<t;e++)u(this,e,Number(r&BigInt(4294967295))),r>>=BigInt(32)}}bitwiseOrUint(e,t,r){const i=Math.floor(t/4);if(e<4)h(this,i,r<<t%4*8);else if(4===e)h(this,i,r);else{const t=i+Math.ceil(e/4);for(let e=i;e<t;e++)h(this,e,4294967295&r),r>>=32}}}function a(e,t){if(0===t)return e.h0;if(1===t)return e.h1;if(2===t)return e.h2;if(3===t)return e.h3;if(4===t)return e.h4;if(5===t)return e.h5;if(6===t)return e.h6;if(7===t)return e.h7;throw Error("hIndex > 7")}function u(e,t,r){if(0===t)e.h0=r;else if(1===t)e.h1=r;else if(2===t)e.h2=r;else if(3===t)e.h3=r;else if(4===t)e.h4=r;else if(5===t)e.h5=r;else if(6===t)e.h6=r;else{if(7!==t)throw Error("hIndex > 7");e.h7=r}}function h(e,t,r){if(0===t)e.h0|=r;else if(1===t)e.h1|=r;else if(2===t)e.h2|=r;else if(3===t)e.h3|=r;else if(4===t)e.h4|=r;else if(5===t)e.h5|=r;else if(6===t)e.h6|=r;else{if(7!==t)throw Error("hIndex > 7");e.h7|=r}}t.LeafNode=o,t.identity=function(e){return e},t.compose=function(e,t){return function(r){return t(e(r))}},t.getNodeH=a,t.setNodeH=u,t.bitwiseOrNodeH=h},84238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packedNodeRootsToBytes=t.packedRootsBytesToLeafNodes=t.packedRootsBytesToNode=void 0;const i=r(41726),n=r(77866);function s(e,t,r){const i=r-t,s=Math.floor(i/32),o=new Array(Math.ceil(i/32));for(let r=0;r<s;r++){const i=t+32*r;o[r]=new n.LeafNode(e.getInt32(i+0,!0),e.getInt32(i+4,!0),e.getInt32(i+8,!0),e.getInt32(i+12,!0),e.getInt32(i+16,!0),e.getInt32(i+20,!0),e.getInt32(i+24,!0),e.getInt32(i+28,!0))}const a=i%32;if(a>0){const r=new n.LeafNode(0,0,0,0,0,0,0,0);o[s]=r;const u=Math.floor(a/4);for(let i=0;i<u;i++)n.setNodeH(r,i,e.getInt32(t+32*s+4*i,!0));const h=i%4;if(h>0){let s=0;for(let r=0;r<h;r++)s|=e.getUint8(t+i-h+r)<<8*r;n.setNodeH(r,u,s)}}return o}t.packedRootsBytesToNode=function(e,t,r,n){const o=s(t,r,n);return i.subtreeFillToContents(o,e)},t.packedRootsBytesToLeafNodes=s,t.packedNodeRootsToBytes=function(e,t,r,i){const s=r%32,o=Math.floor(r/32);for(let r=0;r<o;r++){const n=i[r],s=t+32*r;e.setInt32(s+0,n.h0,!0),e.setInt32(s+4,n.h1,!0),e.setInt32(s+8,n.h2,!0),e.setInt32(s+12,n.h3,!0),e.setInt32(s+16,n.h4,!0),e.setInt32(s+20,n.h5,!0),e.setInt32(s+24,n.h6,!0),e.setInt32(s+28,n.h7,!0)}if(s>0){const a=i[o],u=Math.floor(s/4);for(let r=0;r<u;r++)e.setInt32(t+32*o+4*r,n.getNodeH(a,r),!0);const h=r%4;if(h>0){const i=n.getNodeH(a,u);for(let n=0;n<h;n++)e.setUint8(t+r-h+n,i>>8*n&255)}}}},17237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeProof=t.serializeProof=t.createNodeFromProof=t.createProof=t.ProofTypeSerialized=t.ProofType=void 0;const i=r(42105),n=r(95119),s=r(13622);var o;!function(e){e.single="single",e.treeOffset="treeOffset",e.multi="multi"}(o=t.ProofType||(t.ProofType={})),t.ProofTypeSerialized=[o.single,o.treeOffset,o.multi],t.createProof=function(e,t){switch(t.type){case o.single:{const[r,i]=n.createSingleProof(e,t.gindex);return{type:o.single,gindex:t.gindex,leaf:r,witnesses:i}}case o.treeOffset:{const[r,i]=s.createTreeOffsetProof(e,t.gindices);return{type:o.treeOffset,offsets:r,leaves:i}}case o.multi:{const[r,n,s]=i.createMultiProof(e,t.gindices);return{type:o.multi,leaves:r,witnesses:n,gindices:s}}default:throw new Error("Invalid proof type")}},t.createNodeFromProof=function(e){switch(e.type){case o.single:return n.createNodeFromSingleProof(e.gindex,e.leaf,e.witnesses);case o.treeOffset:return s.createNodeFromTreeOffsetProof(e.offsets,e.leaves);case o.multi:return i.createNodeFromMultiProof(e.leaves,e.witnesses,e.gindices);default:throw new Error("Invalid proof type")}},t.serializeProof=function(e){switch(e.type){case o.single:case o.multi:throw new Error("Not implemented");case o.treeOffset:{const r=new Uint8Array(1+s.computeTreeOffsetProofSerializedLength(e.offsets,e.leaves));return r[0]=t.ProofTypeSerialized.indexOf(o.treeOffset),s.serializeTreeOffsetProof(r,1,e.offsets,e.leaves),r}default:throw new Error("Invalid proof type")}},t.deserializeProof=function(e){const r=t.ProofTypeSerialized[e[0]];if(!r)throw new Error("Invalid proof type");switch(r){case o.single:case o.multi:throw new Error("Not implemented");case o.treeOffset:{const[t,r]=s.deserializeTreeOffsetProof(e,1);return{type:o.treeOffset,offsets:t,leaves:r}}default:throw new Error("Invalid proof type")}}},42105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeFromMultiProof=t.createMultiProof=void 0;const i=r(77866),n=r(84935),s=r(68522);t.createMultiProof=function(e,t){const r=new n.Tree(e),i=s.computeMultiProofBitstrings(t.map((e=>e.toString(2))),!1,s.SortOrder.Decreasing),o=t.slice().sort(((e,t)=>e<t?1:-1));return[o.map((e=>r.getRoot(e))),i.map((e=>r.getRoot(e))),o]},t.createNodeFromMultiProof=function(e,t,r){if(e.length!==r.length)throw new Error("Leaves length should equal gindices length");const n=r.map((e=>e.toString(2))),o=s.computeMultiProofBitstrings(n,!1,s.SortOrder.Decreasing);if(o.length!==t.length)throw new Error("Witnesses length should equal witnesses gindices length");const a=Math.max(n[0]?.length??0,o[0]?.length??0),u=Object.fromEntries(Array.from({length:a},((e,t)=>[t+1,{}])));for(let t=0;t<n.length;t++){const r=n[t],s=e[t];u[r.length][r]=i.LeafNode.fromRoot(s)}for(let e=0;e<o.length;e++){const r=o[e],n=t[e];u[r.length][r]=i.LeafNode.fromRoot(n)}for(let e=a;e>1;e--){const t=u[e],r=u[e-1];for(const e of Object.keys(t)){const n=t[e];if(!n)continue;const s="0"===e[e.length-1],o=e.substring(0,e.length-1),a=o+(s?"1":"0"),u=t[a];if(!u)throw new Error(`Sibling not found: ${a}`);const h=s?new i.BranchNode(n,u):new i.BranchNode(u,n);r[o]=h,delete t[e],delete t[a]}}const h=u[1][1];if(!h)throw new Error("Internal consistency error: no root found");return h}},95119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeFromSingleProof=t.createSingleProof=t.ERR_INVALID_NAV=void 0;const i=r(77866),n=r(5338);t.ERR_INVALID_NAV="Invalid tree navigation",t.createSingleProof=function(e,r){const i=[];let s=e;for(const e of n.gindexIterator(r))if(e){if(s.isLeaf())throw new Error(t.ERR_INVALID_NAV);i.push(s.left.root),s=s.right}else{if(s.isLeaf())throw new Error(t.ERR_INVALID_NAV);i.push(s.right.root),s=s.left}return[s.root,i.reverse()]},t.createNodeFromSingleProof=function(e,t,r){let n=i.LeafNode.fromRoot(t);const s=r.slice().reverse();for(;e>1;){const t=i.LeafNode.fromRoot(s.pop());n=e%BigInt(2)===BigInt(0)?new i.BranchNode(n,t):new i.BranchNode(t,n),e/=BigInt(2)}return n}},13622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeTreeOffsetProof=t.serializeTreeOffsetProof=t.computeTreeOffsetProofSerializedLength=t.createNodeFromTreeOffsetProof=t.createTreeOffsetProof=t.treeOffsetProofToNode=t.nodeToTreeOffsetProof=void 0;const i=r(77866),n=r(68522);function s(e,t,r){if(r.length&&r[0].startsWith(t)){if(t===r[0])return r.shift(),[[],[e.root]];{const[i,n]=s(e.left,t+"0",r),[o,a]=s(e.right,t+"1",r);return[[n.length].concat(i,o),n.concat(a)]}}return[[],[]]}function o(e,t){if(t.length){if(1===t.length)return i.LeafNode.fromRoot(t[0]);{const r=e[0];return new i.BranchNode(o(e.slice(1,r),t.slice(0,r)),o(e.slice(r),t.slice(r)))}}throw new Error("Proof must contain gt 0 leaves")}t.nodeToTreeOffsetProof=s,t.treeOffsetProofToNode=o,t.createTreeOffsetProof=function(e,t){return s(e,"1",n.computeMultiProofBitstrings(t.map((e=>e.toString(2)))))},t.createNodeFromTreeOffsetProof=function(e,t){return o(e,t)},t.computeTreeOffsetProofSerializedLength=function(e,t){return 2*(e.length+1)+32*t.length},t.serializeTreeOffsetProof=function(e,t,r,i){const n=new DataView(e.buffer,e.byteOffset,e.byteLength);n.setUint16(t,i.length,!0);const s=t+2;for(let e=0;e<r.length;e++)n.setUint16(2*e+s,r[e],!0);const o=s+2*r.length;for(let t=0;t<i.length;t++)e.set(i[t],32*t+o)},t.deserializeTreeOffsetProof=function(e,t){const r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=r.getUint16(t,!0);if(e.length<2*(i-1)+32*i)throw new Error("Unable to deserialize tree offset proof: not enough bytes");const n=t+2,s=Array.from({length:i-1},((e,t)=>r.getUint16(2*t+n,!0))),o=n+2*s.length;return[s,Array.from({length:i},((t,r)=>e.subarray(32*r+o,32*(r+1)+o)))]}},68522:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeMultiProofBitstrings=t.SortOrder=t.filterParentBitstrings=t.sortDecreasingBitstrings=t.sortInOrderBitstrings=t.computeProofBitstrings=t.computeProofGindices=void 0;const i=r(5338);function n(e){const t=new Set,r=new Set;let i=e;for(;i.length>1;){t.add(i);const e=i[i.length-1],n=i.substring(0,i.length-1);r.add(n+(1^Number(e))),i=n}return{path:t,branch:r}}function s(e,t){return e.length?e.map((e=>e.padEnd(t))).sort().map((e=>e.trim())):[]}function o(e){return e.length?e.sort(((e,t)=>{if(e.length<t.length)return 1;if(t.length<e.length)return-1;let r=e.indexOf("0"),i=t.indexOf("0");for(;;){if(-1===r)return-1;if(-1===i)return 1;if(r<i)return 1;if(i<r)return-1;r=e.indexOf("0",r+1),i=t.indexOf("0",i+1)}})):[]}function a(e){const t=e.slice().sort(((e,t)=>e.length-t.length)),r=[];e:for(let e=0;e<t.length;e++){const i=t[e];for(let r=e+1;r<t.length;r++)if(t[r].startsWith(i))continue e;r.push(i)}return r}var u;t.computeProofGindices=function(e){const t=new Set,r=new Set;let n=e;for(;n>1;)t.add(n),r.add(i.gindexSibling(n)),n=i.gindexParent(n);return{path:t,branch:r}},t.computeProofBitstrings=n,t.sortInOrderBitstrings=s,t.sortDecreasingBitstrings=o,t.filterParentBitstrings=a,function(e){e[e.InOrder=0]="InOrder",e[e.Decreasing=1]="Decreasing",e[e.Unsorted=2]="Unsorted"}(u=t.SortOrder||(t.SortOrder={})),t.computeMultiProofBitstrings=function(e,t=!0,r=u.InOrder){const i=a(e),h=new Set(t?i:[]),c=new Set,l=new Set;let f=1;for(const e of i){e.length>f&&(f=e.length);const{path:t,branch:r}=n(e);t.forEach((e=>c.add(e))),r.forEach((e=>l.add(e)))}switch(c.forEach((e=>l.delete(e))),l.forEach((e=>h.add(e))),r){case u.InOrder:return s(Array.from(h),f);case u.Decreasing:return o(Array.from(h));case u.Unsorted:return Array.from(h)}}},41726:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subtreeFillToContents=t.subtreeFillToLength=t.subtreeFillToDepth=void 0;const i=r(77866),n=r(60638);function s(e,t){let r=e;for(;t>0;)r=new i.BranchNode(r,r),t--;return r}t.subtreeFillToDepth=s,t.subtreeFillToLength=function e(t,r,o){const a=1<<r;if(o>a)throw new Error("ERR_TOO_MANY_NODES");if(o===a)return s(t,r);if(0===r){if(1===o)return t;throw new Error("ERR_NAVIGATION")}if(1===r)return new i.BranchNode(t,o>1?t:n.zeroNode(0));const u=a>>1;return o<=u?new i.BranchNode(e(t,r-1,o),n.zeroNode(r-1)):new i.BranchNode(s(t,r-1),e(t,r-1,o-u))},t.subtreeFillToContents=function(e,t){const r=2**t;if(e.length>r)throw new Error(`nodes.length ${e.length} over maxIndex at depth ${t}`);if(0===e.length)return n.zeroNode(t);if(0===t)return e[0];if(1===t)return e.length>1?new i.BranchNode(e[0],e[1]):new i.BranchNode(e[0],n.zeroNode(0));let s=e.length;for(let r=t;r>0;r--){const o=s%2,a=s-o;for(let t=0;t<a;t+=2)e[t/2]=new i.BranchNode(e[t],e[t+1]);o>0&&(e[a/2]=new i.BranchNode(e[a],n.zeroNode(t-r))),s=a/2+o}return e[0]}},84935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.treeZeroAfterIndex=t.iterateNodesAtDepth=t.getNodesAtDepth=t.setNodesAtDepth=t.setNodeAtDepth=t.getNodeAtDepth=t.setNodeWithFn=t.setNode=t.getNode=t.Tree=void 0;const i=r(60638),n=r(5338),s=r(77866),o=r(17237),a=r(95119);class u{constructor(e,t){this._rootNode=e,t&&("undefined"==typeof WeakRef?this.hook=t:this.hook=new WeakRef(t))}static createFromProof(e){return new u(o.createNodeFromProof(e))}get rootNode(){return this._rootNode}set rootNode(e){if(this._rootNode=e,this.hook)if("undefined"==typeof WeakRef)this.hook(e);else{const t=this.hook.deref();t?t(e):this.hook=void 0}}get root(){return this.rootNode.root}clone(){return new u(this.rootNode)}getSubtree(e){return new u(this.getNode(e),(t=>this.setNode(e,t)))}getNode(e){return h(this.rootNode,e)}getNodeAtDepth(e,t){return y(this.rootNode,e,t)}getRoot(e){return this.getNode(e).root}setNode(e,t){this.rootNode=c(this.rootNode,e,t)}setNodeWithFn(e,t){this.rootNode=l(this.rootNode,e,t)}setNodeAtDepth(e,t,r){this.rootNode=p(this.rootNode,e,t,r)}setRoot(e,t){this.setNode(e,s.LeafNode.fromRoot(t))}getNodesAtDepth(e,t,r){return m(this.rootNode,e,t,r)}iterateNodesAtDepth(e,t,r){return w(this.rootNode,e,t,r)}getSingleProof(e){return a.createSingleProof(this.rootNode,e)[1]}getProof(e){return o.createProof(this.rootNode,e)}}function h(e,t){const r=n.convertGindexToBitstring(t);let i=e;for(let e=1;e<r.length;e++){if(i.isLeaf())throw new Error(`Invalid tree - found leaf at depth ${e}`);i="1"===r[e]?i.right:i.left}return i}function c(e,t,r){const i=n.convertGindexToBitstring(t);return d(i,f(e,i),r)}function l(e,t,r){const i=n.convertGindexToBitstring(t),s=f(e,i),o=s[s.length-1];return d(i,s,r("1"===i[i.length-1]?o.right:o.left))}function f(e,t){let r=e;const i=[e];for(let e=1;e<t.length-1;e++)r="1"===t[e]?r.right:r.left,i.push(r);return i}function d(e,t,r){let i=r;for(let r=e.length-1;r>=1;r--)i="1"===e[r]?new s.BranchNode(t[r-1].left,i):new s.BranchNode(i,t[r-1].right);return i}function y(e,t,r){if(0===t)return e;if(1===t)return 0===r?e.left:e.right;let i=e;for(let e=t-1;e>=0;e--)i=b(e,r)?i.left:i.right;return i}function p(e,t,r,i){return g(e,t,[r],[i])}function g(e,t,r,i){if(0===t)return i.length>0?i[0]:e;const n=new Array(t),o=new Array(t),a=t-1;let u=a,h=e;n[a]=e;for(let e=0;e<r.length;e++){const t=r[e];for(let e=u;e>0;e--)h=b(e,t)?h.left:h.right,n[e-1]=h;u=0,1!=(1&t)?t+1===r[e+1]?(h=new s.BranchNode(i[e],i[e+1]),e++):h=new s.BranchNode(i[e],h.right):h=new s.BranchNode(h.left,i[e]);const f=e>=r.length-1,d=f?a:(c=t,l=r[e+1],Math.ceil(Math.log2(-~(c^l)))-1);for(let e=1;e<=d;e++)if(b(e,t))f||e!==d?h=new s.BranchNode(h,n[e].right):(o[e]=h,h=n[e]);else{const t=o[e];void 0!==t?(h=new s.BranchNode(t,h),o[e]=void 0):h=new s.BranchNode(n[e].left,h)}u=d}var c,l;return h}function m(e,t,r,i){if(0===t)return 0===r&&i>0?[e]:[];if(1===t)return 0===i?[]:1===i?0===r?[e.left]:[e.right]:[e.left,e.right];const n=t-1;let s=n,o=e;const a=new Array(t),u=new Array(t),h=new Array(i);a[n]=e;for(let e=0;e<i;e++){for(let t=s;t>=0;t--){t!==s&&(a[t]=o);const i=b(t,r+e);u[t]=i,o=i?o.left:o.right}h[e]=o;for(let e=0;e<=n;e++)if(!0===u[e]){s=e;break}o=a[s]}return h}function*w(e,t,r,i){const n=r+i,s=t-1;let o=s,a=e;const u=new Array(t),h=new Array(t);u[s]=e;for(let e=r;e<n;e++){for(let t=o;t>=0;t--){t!==o&&(u[t]=a);const r=b(t,e);h[t]=r,a=r?a.left:a.right}yield a;for(let e=0;e<=s;e++)if(!0===h[e]){o=e;break}a=u[o]}}function b(e,t){if(e>31){const r=1<<e-32;return(t/2**32>>>0&r)!==r}const r=1<<e;return(t&r)!==r}t.Tree=u,t.getNode=h,t.setNode=c,t.setNodeWithFn=l,t.getNodeAtDepth=y,t.setNodeAtDepth=p,t.setNodesAtDepth=g,t.getNodesAtDepth=m,t.iterateNodesAtDepth=w,t.treeZeroAfterIndex=function(e,t,r){if(r<0)return i.zeroNode(t);const n=new Array(t),o=t-1;let a=o,u=e;n[o]=e;for(let e=a;e>=0;e--)u=b(e,r)?u.left:u.right,n[e-1]=u;a=0;for(let e=0;e<=o;e++)u=b(e,r)?new s.BranchNode(u,i.zeroNode(e)):new s.BranchNode(n[e].left,u);return u}},60638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zeroNode=void 0;const i=r(77866),n=[i.LeafNode.fromZero()];t.zeroNode=function(e){if(e>=n.length)for(let t=n.length;t<=e;t++)n[t]=new i.BranchNode(n[t-1],n[t-1]);return n[e]}},93678:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BranchNodeStruct=void 0;const i=r(44152);class n extends i.Node{constructor(e,t){super(null,0,0,0,0,0,0,0),this.valueToNode=e,this.value=t}get rootHashObject(){if(null===this.h0){const e=this.valueToNode(this.value);super.applyHash(e.rootHashObject)}return this}get root(){return i.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this.valueToNode(this.value).left}get right(){return this.valueToNode(this.value).right}}t.BranchNodeStruct=n},70338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash64=t.byteArrayEquals=t.toHexString=t.fromHexString=t.getUint8ByteToBitBooleanArray=t.BitArray=t.TreeViewDU=t.TreeView=t.isCompositeType=t.CompositeType=t.isBasicType=t.BasicType=t.Type=t.ByteArrayType=t.BitArrayType=t.ArrayType=t.VectorCompositeType=t.VectorBasicType=t.UnionType=t.UintNumberType=t.UintBigintType=t.NoneType=t.ListCompositeType=t.ListBasicType=t.ContainerNodeStructType=t.ContainerType=t.ByteVectorType=t.ByteListType=t.BooleanType=t.BitVectorType=t.BitListType=void 0;var i=r(99416);Object.defineProperty(t,"BitListType",{enumerable:!0,get:function(){return i.BitListType}});var n=r(61684);Object.defineProperty(t,"BitVectorType",{enumerable:!0,get:function(){return n.BitVectorType}});var s=r(86378);Object.defineProperty(t,"BooleanType",{enumerable:!0,get:function(){return s.BooleanType}});var o=r(11869);Object.defineProperty(t,"ByteListType",{enumerable:!0,get:function(){return o.ByteListType}});var a=r(47864);Object.defineProperty(t,"ByteVectorType",{enumerable:!0,get:function(){return a.ByteVectorType}});var u=r(23768);Object.defineProperty(t,"ContainerType",{enumerable:!0,get:function(){return u.ContainerType}});var h=r(44018);Object.defineProperty(t,"ContainerNodeStructType",{enumerable:!0,get:function(){return h.ContainerNodeStructType}});var c=r(55789);Object.defineProperty(t,"ListBasicType",{enumerable:!0,get:function(){return c.ListBasicType}});var l=r(13124);Object.defineProperty(t,"ListCompositeType",{enumerable:!0,get:function(){return l.ListCompositeType}});var f=r(56808);Object.defineProperty(t,"NoneType",{enumerable:!0,get:function(){return f.NoneType}});var d=r(34654);Object.defineProperty(t,"UintBigintType",{enumerable:!0,get:function(){return d.UintBigintType}}),Object.defineProperty(t,"UintNumberType",{enumerable:!0,get:function(){return d.UintNumberType}});var y=r(7730);Object.defineProperty(t,"UnionType",{enumerable:!0,get:function(){return y.UnionType}});var p=r(18462);Object.defineProperty(t,"VectorBasicType",{enumerable:!0,get:function(){return p.VectorBasicType}});var g=r(79820);Object.defineProperty(t,"VectorCompositeType",{enumerable:!0,get:function(){return g.VectorCompositeType}});var m=r(63840);Object.defineProperty(t,"ArrayType",{enumerable:!0,get:function(){return m.ArrayType}});var w=r(88776);Object.defineProperty(t,"BitArrayType",{enumerable:!0,get:function(){return w.BitArrayType}});var b=r(37851);Object.defineProperty(t,"ByteArrayType",{enumerable:!0,get:function(){return b.ByteArrayType}});var B=r(22249);Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return B.Type}});var T=r(95196);Object.defineProperty(t,"BasicType",{enumerable:!0,get:function(){return T.BasicType}}),Object.defineProperty(t,"isBasicType",{enumerable:!0,get:function(){return T.isBasicType}});var v=r(45518);Object.defineProperty(t,"CompositeType",{enumerable:!0,get:function(){return v.CompositeType}}),Object.defineProperty(t,"isCompositeType",{enumerable:!0,get:function(){return v.isCompositeType}});var _=r(39587);Object.defineProperty(t,"TreeView",{enumerable:!0,get:function(){return _.TreeView}});var A=r(80504);Object.defineProperty(t,"TreeViewDU",{enumerable:!0,get:function(){return A.TreeViewDU}});var x=r(92182);Object.defineProperty(t,"BitArray",{enumerable:!0,get:function(){return x.BitArray}}),Object.defineProperty(t,"getUint8ByteToBitBooleanArray",{enumerable:!0,get:function(){return x.getUint8ByteToBitBooleanArray}});var N=r(49945);Object.defineProperty(t,"fromHexString",{enumerable:!0,get:function(){return N.fromHexString}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return N.toHexString}}),Object.defineProperty(t,"byteArrayEquals",{enumerable:!0,get:function(){return N.byteArrayEquals}});var E=r(70653);Object.defineProperty(t,"hash64",{enumerable:!0,get:function(){return E.hash64}})},22249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0,t.Type=class{value_toTree(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}tree_toValue(e){const t=new Uint8Array(this.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.tree_serializeToBytes({uint8Array:t,dataView:r},0,e),this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}serialize(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}deserialize(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.value_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length)}}},63840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayType=void 0;const i=r(44152),n=r(45518),s=r(64060);class o extends n.CompositeType{constructor(e){super(),this.elementType=e}defaultValue(){return s.value_defaultValueArray(this.elementType,this.defaultLen)}getPropertyType(){return this.elementType}getPropertyGindex(e){if("number"!=typeof e)throw Error(`Invalid array index: ${e}`);const t=Math.floor(e/this.itemsPerChunk);return i.toGindex(this.depth,BigInt(t))}getIndexProperty(e){return e}tree_getLeafGindices(e,t){let r;if(this.isList){if(!t)throw new Error("List type requires tree argument to get leaves");r=this.tree_getLength(t)}else r=this.tree_getLength(null);const s=[];if(n.isCompositeType(this.elementType)){const n=i.toGindex(this.depth,BigInt(0)),o=n+BigInt(r),a=i.concatGindices([e,n]);if(null===this.elementType.fixedSize){if(!t)throw new Error("Array of variable size requires tree argument to get leaves");for(let e=n,r=a;e<o;e++,r++)s.push(...this.elementType.tree_getLeafGindices(r,i.getNode(t,e)))}else for(let e=0,t=a;e<r;e++,t++)s.push(...this.elementType.tree_getLeafGindices(t))}else{const t=Math.ceil(r/this.itemsPerChunk),n=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),o=n+BigInt(t);for(let e=n;e<o;e++)s.push(e)}return this.isList&&s.push(i.concatGindices([e,n.LENGTH_GINDEX])),s}fromJson(e){return s.value_fromJsonArray(this.elementType,e,this)}toJson(e){return s.value_toJsonArray(this.elementType,e,this)}clone(e){return s.value_cloneArray(this.elementType,e)}equals(e,t){return s.value_equals(this.elementType,e,t)}}t.ArrayType=o},64060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidArrayLength=t.value_defaultValueArray=t.value_equals=t.value_cloneArray=t.value_toJsonArray=t.value_fromJsonArray=t.tree_deserializeFromBytesArrayBasic=t.tree_serializeToBytesArrayBasic=t.value_deserializeFromBytesArrayBasic=t.value_serializeToBytesArrayBasic=t.setChunksNode=t.addLengthNode=t.getChunksNodeFromRootNode=t.getLengthFromRootNode=void 0;const i=r(44152);function n(e,t){return new i.BranchNode(e,i.LeafNode.fromUint32(t))}function s(e,t,r){if(r&&e%1!=0)throw Error("size not multiple of element fixedSize");if(t.isList){if(e>t.limit)throw new Error(`Invalid list length ${e} over limit ${t.limit}`)}else if(e!==t.length)throw new Error(`Incorrect vector length ${e} expected ${t.length}`)}t.getLengthFromRootNode=function(e){return e.right.getUint(4,0)},t.getChunksNodeFromRootNode=function(e){return e.left},t.addLengthNode=n,t.setChunksNode=function(e,t,r){const n=void 0!==r?i.LeafNode.fromUint32(r):e.right;return new i.BranchNode(t,n)},t.value_serializeToBytesArrayBasic=function(e,t,r,i,n){const s=e.byteLength;for(let o=0;o<t;o++)e.value_serializeToBytes(r,i+o*s,n[o]);return i+t*s},t.value_deserializeFromBytesArrayBasic=function(e,t,r,i,n){const o=e.byteLength,a=(i-r)/o;s(a,n,!0);const u=new Array(a);for(let i=0;i<a;i++)u[i]=e.value_deserializeFromBytes(t,r+i*o,r+(i+1)*o);return u},t.tree_serializeToBytesArrayBasic=function(e,t,r,n,s,o){const a=e.byteLength*t,u=Math.ceil(a/32),h=i.getNodesAtDepth(o,r,0,u);return i.packedNodeRootsToBytes(n.dataView,s,a,h),s+a},t.tree_deserializeFromBytesArrayBasic=function(e,t,r,o,a,u){const h=(a-o)/e.byteLength;s(h,u,!0);const c=i.packedRootsBytesToNode(t,r.dataView,o,a);return u.isList?n(c,h):c},t.value_fromJsonArray=function(e,t,r){if(!Array.isArray(t))throw Error("JSON is not an array");s(t.length,r);const i=new Array(t.length);for(let r=0;r<t.length;r++)i[r]=e.fromJson(t[r]);return i},t.value_toJsonArray=function(e,t,r){const i=r.isList?t.length:r.length,n=new Array(i);for(let r=0;r<i;r++)n[r]=e.toJson(t[r]);return n},t.value_cloneArray=function(e,t){const r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=e.clone(t[i]);return r},t.value_equals=function(e,t,r){if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!e.equals(t[i],r[i]))return!1;return!0},t.value_defaultValueArray=function(e,t){const r=new Array(t);for(let i=0;i<t;i++)r[i]=e.defaultValue();return r},t.assertValidArrayLength=s},90208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value_getRootsArrayComposite=t.tree_deserializeFromBytesArrayComposite=t.tree_serializeToBytesArrayComposite=t.tree_serializedSizeArrayComposite=t.value_deserializeFromBytesArrayComposite=t.value_serializeToBytesArrayComposite=t.value_serializedSizeArrayComposite=t.maxSizeArrayComposite=t.minSizeArrayComposite=void 0;const i=r(44152),n=r(64060);function s(e,t,r,i,s){const o=i-r;let a;if(null===e)a=function(e,t,r){if(0===r)return new Uint32Array(0);const i=e.getUint32(t,!0),n=i;if(0===i)throw Error("First offset must be > 0");if(n%4!=0)throw Error("Offset data length not multiple of 4");const s=n/4,o=new Uint32Array(s);o[0]=i;for(let i=1;i<s;i++){const n=e.getUint32(t+4*i,!0);if(o[i]=n,n>r)throw new Error(`Offset out of bounds ${n} > ${r}`);if(n<o[i-1])throw new Error(`Offsets must be increasing ${n} < ${o[i-1]}`)}return o}(t,r,o);else{if(0===e)throw Error("element fixed length is 0");if(o%e!=0)throw Error(`size ${o} is not multiple of element fixedSize ${e}`);const t=o/e;a=new Uint32Array(t);for(let r=0;r<t;r++)a[r]=r*e}return n.assertValidArrayLength(a.length,s),a}t.minSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.minSize):t*e.minSize},t.maxSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.maxSize):t*e.maxSize},t.value_serializedSizeArrayComposite=function(e,t,r){if(null===e.fixedSize){let i=0;for(let n=0;n<t;n++)i+=4+e.value_serializedSize(r[n]);return i}return t*e.fixedSize},t.value_serializeToBytesArrayComposite=function(e,t,r,i,n){if(null===e.fixedSize){let s=i+4*t;for(let o=0;o<t;o++)r.dataView.setUint32(i+4*o,s-i,!0),s=e.value_serializeToBytes(r,s,n[o]);return s}for(let s=0;s<t;s++)e.value_serializeToBytes(r,i+s*e.fixedSize,n[s]);return i+t*e.fixedSize},t.value_deserializeFromBytesArrayComposite=function(e,t,r,i,n){const o=s(e.fixedSize,t.dataView,r,i,n),a=o.length,u=new Array(a);for(let n=0;n<a;n++){const s=r+o[n],h=n===a-1?i:r+o[n+1];u[n]=e.value_deserializeFromBytes(t,s,h)}return u},t.tree_serializedSizeArrayComposite=function(e,t,r,n){if(null===e.fixedSize){const s=i.getNodesAtDepth(n,r,0,t);let o=0;for(let t=0;t<s.length;t++)o+=4+e.tree_serializedSize(s[t]);return o}return t*e.fixedSize},t.tree_serializeToBytesArrayComposite=function(e,t,r,n,s,o){const a=i.getNodesAtDepth(n,r,0,t);if(null===e.fixedSize){let r=o+4*t;const{dataView:i}=s;for(let t=0;t<a.length;t++)i.setUint32(o+4*t,r-o,!0),r=e.tree_serializeToBytes(s,r,a[t]);return r}for(let t=0;t<a.length;t++)o=e.tree_serializeToBytes(s,o,a[t]);return o},t.tree_deserializeFromBytesArrayComposite=function(e,t,r,o,a,u){const h=s(e.fixedSize,r.dataView,o,a,u),c=h.length,l=new Array(c);for(let t=0;t<c;t++){const i=o+h[t],n=t===c-1?a:o+h[t+1];l[t]=e.tree_deserializeFromBytes(r,i,n)}const f=i.subtreeFillToContents(l,t);return u.isList?n.addLengthNode(f,c):f},t.value_getRootsArrayComposite=function(e,t,r){const i=new Array(t);for(let n=0;n<t;n++)i[n]=e.hashTreeRoot(r[n]);return i}},95196:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBasicType=t.BasicType=void 0;const i=r(22249);class n extends i.Type{constructor(){super(...arguments),this.isBasic=!0,this.depth=0,this.maxChunkCount=1}value_serializedSize(){return this.byteLength}tree_serializedSize(){return this.byteLength}assertValidSize(e){if(e!==this.byteLength)throw Error(`BasicType invalid size ${e} expected ${this.byteLength}`)}hashTreeRoot(e){const t=new Uint8Array(32),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}clone(e){return e}equals(e,t){return e===t}}t.BasicType=n,t.isBasicType=function(e){return e.isBasic}},88776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitArrayType=void 0;const i=r(44152),n=r(49945),s=r(70653),o=r(45518),a=r(8347),u=r(22507);class h extends o.CompositeType{constructor(){super(...arguments),this.isViewMutable=!0}getView(e){return new a.BitArrayTreeView(this,e)}getViewDU(e){return new u.BitArrayTreeViewDU(this,e)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}getRoots(e){return s.splitIntoRootChunks(e.uint8Array)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request BitArray complete data")}getIndexProperty(){throw Error("Must only request BitArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){const r=this.tree_getByteLen(t),n=Math.ceil(r/32),s=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),a=new Array(n);for(let e=0,t=s;e<n;e++,t++)a[e]=t;return this.isList&&a.push(i.concatGindices([e,o.LENGTH_GINDEX])),a}fromJson(e){const t=n.fromHexString(e),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}toJson(e){return n.toHexString(this.serialize(e))}clone(e){return e.clone()}equals(e,t){return e.bitLen===t.bitLen&&n.byteArrayEquals(e.uint8Array,t.uint8Array)}}t.BitArrayType=h},99416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitListType=void 0;const i=r(44152),n=r(70653),s=r(34923),o=r(64060),a=r(92182),u=r(88776);class h extends u.BitArrayType{constructor(e,t){if(super(),this.limitBits=e,this.fixedSize=null,this.minSize=1,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`BitList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBits/8/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.maxSize=Math.ceil(e/8)+1}static named(e,t){return new(s.namedClass(h,t.typeName))(e,t)}defaultValue(){return a.BitArray.fromBitLen(0)}value_serializedSize(e){return c(e.bitLen)}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),l(e.uint8Array,t,r.bitLen)}value_deserializeFromBytes(e,t,r){const{uint8Array:i,bitLen:n}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r);return new a.BitArray(i,n)}tree_serializedSize(e){return c(o.getLengthFromRootNode(e))}tree_serializeToBytes(e,t,r){const n=o.getChunksNodeFromRootNode(r),s=o.getLengthFromRootNode(r),a=Math.ceil(s/8),u=Math.ceil(a/32),h=i.getNodesAtDepth(n,this.chunkDepth,0,u);return i.packedNodeRootsToBytes(e.dataView,t,a,h),l(e.uint8Array,t,s)}tree_deserializeFromBytes(e,t,r){const{uint8Array:n,bitLen:s}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r),a=new DataView(n.buffer,n.byteOffset,n.byteLength),u=i.packedRootsBytesToNode(this.chunkDepth,a,0,n.length);return o.addLengthNode(u,s)}tree_getByteLen(e){if(!e)throw new Error("BitListType requires a node to get leaves");return Math.ceil(o.getLengthFromRootNode(e)/8)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.bitLen)}deserializeUint8ArrayBitListFromBytes(e,t,r){const{uint8Array:i,bitLen:n}=function(e,t,r){if(r>e.length)throw Error(`BitList attempting to read byte ${r} of data length ${e.length}`);const i=e[r-1],n=r-t;if(0===i)throw new Error("Invalid deserialized bitlist, padding bit required");if(1===i)return{uint8Array:Uint8Array.prototype.slice.call(e,t,r-1),bitLen:8*(n-1)};const s=Uint8Array.prototype.slice.call(e,t,r),o=i.toString(2).length-1,a=8*(n-1)+o,u=255>>8-o;return s[n-1]&=u,{uint8Array:s,bitLen:a}}(e,t,r);if(n>this.limitBits)throw Error(`bitLen over limit ${n} > ${this.limitBits}`);return{uint8Array:i,bitLen:n}}}function c(e){const t=Math.ceil(e/8);return e%8==0?t+1:t}function l(e,t,r){const i=t+Math.ceil(r/8);return r%8==0?(e[i]=1,i+1):(e[i-1]|=1<<r%8,i)}t.BitListType=h},61684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitVectorType=void 0;const i=r(44152),n=r(70653),s=r(34923),o=r(92182),a=r(88776);class u extends a.BitArrayType{constructor(e,t){if(super(),this.lengthBits=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`BitVector[${e}]`,this.chunkCount=Math.ceil(this.lengthBits/8/32),this.maxChunkCount=this.chunkCount,this.depth=n.maxChunksToDepth(this.chunkCount),this.fixedSize=Math.ceil(this.lengthBits/8),this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.zeroBitsMask=e%8==0?0:255&255<<e%8}static named(e,t){return new(s.namedClass(u,t.typeName))(e,t)}defaultValue(){return o.BitArray.fromBitLen(this.lengthBits)}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),t+this.fixedSize}value_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),new o.BitArray(Uint8Array.prototype.slice.call(e.uint8Array,t,r),this.lengthBits)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){const n=i.getNodesAtDepth(r,this.depth,0,this.chunkCount);return i.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,n),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),i.packedRootsBytesToNode(this.depth,e.dataView,t,r)}tree_getByteLen(){return this.fixedSize}assertValidLength(e,t,r){const i=r-t;if(r-t!==this.fixedSize)throw Error(`Invalid BitVector size ${i} != ${this.fixedSize}`);if(this.zeroBitsMask>0&&(e[r-1]&this.zeroBitsMask)>0)throw Error("BitVector: nonzero bits past length")}}t.BitVectorType=u},86378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanType=void 0;const i=r(44152),n=r(34923),s=r(95196);class o extends s.BasicType{constructor(e){super(),this.byteLength=1,this.itemsPerChunk=32,this.fixedSize=1,this.minSize=1,this.maxSize=1,this.typeName=e?.typeName??"boolean"}static named(e){return new(n.namedClass(o,e.typeName))(e)}defaultValue(){return!1}value_serializeToBytes(e,t,r){return e.uint8Array[t]=r?1:0,t+1}value_deserializeFromBytes(e,t,r){switch(this.assertValidSize(r-t),e.uint8Array[t]){case 1:return!0;case 0:return!1;default:throw new Error(`Boolean: invalid value: ${e.uint8Array[t]}`)}}tree_serializeToBytes(e,t,r){return e.uint8Array[t]=r.getUint(4,0),t+1}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const n=e.uint8Array[t];if(n>1)throw Error(`Boolean: invalid value ${n}`);return i.LeafNode.fromUint32(n)}tree_getFromNode(e){return 1===e.getUint(4,0)}tree_setToNode(e,t){e.setUint(4,0,t?1:0)}tree_getFromPackedNode(e,t){const r=t%this.itemsPerChunk;return 0!==e.getUint(1,r)}tree_setToPackedNode(e,t,r){const i=t%this.itemsPerChunk;e.setUint(1,i,r?1:0)}fromJson(e){if("boolean"!=typeof e)throw Error(`JSON invalid type ${typeof e} expected boolean`);return e}toJson(e){return e}}t.BooleanType=o},37851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteArrayType=void 0;const i=r(44152),n=r(49945),s=r(70653),o=r(45518);class a extends o.CompositeType{constructor(){super(...arguments),this.isViewMutable=!1}defaultValue(){return new Uint8Array(this.minSize)}getView(e){return this.getViewDU(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}commitView(e){return this.commitViewDU(e)}commitViewDU(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}cacheOfViewDU(){}toView(e){return e}toViewDU(e){return e}value_serializeToBytes(e,t,r){return e.uint8Array.set(r,t),t+r.length}value_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),Uint8Array.prototype.slice.call(e.uint8Array,t,r)}getRoots(e){return s.splitIntoRootChunks(e)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request ByteArray complete data")}getIndexProperty(){throw Error("Must only request ByteArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){const r=this.tree_getByteLen(t),n=Math.ceil(r/32),s=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),a=new Array(n);for(let e=0,t=s;e<n;e++,t++)a[e]=t;return this.isList&&a.push(i.concatGindices([e,o.LENGTH_GINDEX])),a}fromJson(e){const t=n.fromHexString(e);return this.assertValidSize(t.length),t}toJson(e){return n.toHexString(e)}clone(e){return e}equals(e,t){return n.byteArrayEquals(e,t)}}t.ByteArrayType=a},11869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteListType=void 0;const i=r(44152),n=r(70653),s=r(34923),o=r(64060),a=r(37851);class u extends a.ByteArrayType{constructor(e,t){if(super(),this.limitBytes=e,this.fixedSize=null,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`ByteList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBytes/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.minSize=0,this.maxSize=this.limitBytes}static named(e,t){return new(s.namedClass(u,t.typeName))(e,t)}value_serializedSize(e){return e.length}tree_serializedSize(e){return o.getLengthFromRootNode(e)}tree_serializeToBytes(e,t,r){const n=o.getChunksNodeFromRootNode(r),s=o.getLengthFromRootNode(r),a=Math.ceil(s/32),u=i.getNodesAtDepth(n,this.chunkDepth,0,a);return i.packedNodeRootsToBytes(e.dataView,t,s,u),t+s}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const n=i.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r);return o.addLengthNode(n,r-t)}tree_getByteLen(e){if(!e)throw new Error("ByteListType requires a node to get leaves");return o.getLengthFromRootNode(e)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.length)}assertValidSize(e){if(e>this.limitBytes)throw Error(`ByteList invalid size ${e} limit ${this.limitBytes}`)}}t.ByteListType=u},47864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteVectorType=void 0;const i=r(44152),n=r(70653),s=r(34923),o=r(37851);class a extends o.ByteArrayType{constructor(e,t){if(super(),this.lengthBytes=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`ByteVector[${e}]`,this.maxChunkCount=Math.ceil(this.lengthBytes/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=this.lengthBytes,this.minSize=this.fixedSize,this.maxSize=this.fixedSize}static named(e,t){return new(s.namedClass(a,t.typeName))(e,t)}value_serializedSize(){return this.fixedSize}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){const n=i.getNodesAtDepth(r,this.chunkDepth,0,this.maxChunkCount);return i.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,n),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),i.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r)}tree_getByteLen(){return this.lengthBytes}assertValidSize(e){if(e!==this.lengthBytes)throw Error(`ByteVector invalid size ${e} expected ${this.lengthBytes}`)}}t.ByteVectorType=a},45518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompositeType=t.CompositeType=t.LENGTH_GINDEX=void 0;const i=r(44152),n=r(49945),s=r(70653),o=r(44599),a=r(22249);t.LENGTH_GINDEX=BigInt(3);const u=Symbol("ssz_cached_permanent_root");class h extends a.Type{constructor(e){super(),this.cachePermanentRootStruct=e,this.isBasic=!1}defaultView(){return this.toView(this.defaultValue())}defaultViewDU(){return this.toViewDU(this.defaultValue())}deserializeToView(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getView(new i.Tree(r))}deserializeToViewDU(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getViewDU(r)}toView(e){const t=this.value_toTree(e);return this.getView(new i.Tree(t))}toViewDU(e){const t=this.value_toTree(e);return this.getViewDU(t)}toValueFromView(e){const t=this.commitView(e);return this.tree_toValue(t)}toValueFromViewDU(e){const t=this.commitViewDU(e);return this.tree_toValue(t)}toViewFromViewDU(e){const t=this.commitViewDU(e);return this.getView(new i.Tree(t))}toViewDUFromView(e){const t=this.commitView(e);return this.getViewDU(t)}hashTreeRoot(e){if(this.cachePermanentRootStruct){const t=e[u];if(t)return t}const t=s.merkleize(this.getRoots(e),this.maxChunkCount);return this.cachePermanentRootStruct&&(e[u]=t),t}getCachedPermanentRoot(e){return e[u]}createFromProof(e,t){const r=i.Tree.createFromProof(e).rootNode,s=o.treePostProcessFromProofNode(r,this);if(void 0!==t&&!n.byteArrayEquals(s.root,t))throw new Error("Proof does not match trusted root");return this.getView(new i.Tree(s))}tree_createProof(e,t){const r=this.tree_createProofGindexes(e,t);return i.createProof(e,{type:i.ProofType.treeOffset,gindices:r})}tree_createProofGindexes(e,t){const r=[];for(const n of t){const{type:t,gindex:s}=this.getPathInfo(n);if(c(t)){const n=t.tree_getLeafGindices(s,null===t.fixedSize?i.getNode(e,s):void 0);for(const e of n)r.push(e)}else r.push(s)}return r}getPathInfo(e){const t=[];let r=this;for(const i of e){if(r.isBasic)throw new Error("Invalid path: cannot navigate beyond a basic type");const e=r.getPropertyGindex(i);null!==e&&(t.push(e),r=r.getPropertyType(i))}return{type:r,gindex:i.concatGindices(t)}}tree_fromProofNode(e){return{node:e,done:!1}}}function c(e){return!e.isBasic}t.CompositeType=h,t.isCompositeType=c},23768:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderContainerTypeName=t.precomputeJsonKey=t.ContainerType=void 0;const n=r(44152),s=i(r(68823)),o=r(70653),a=r(34923),u=r(45518),h=r(51231),c=r(46821);class l extends u.CompositeType{constructor(e,t){super(t?.cachePermanentRootStruct),this.fields=e,this.opts=t,this.isList=!1,this.isViewMutable=!0,this.typeName=t?.typeName??d(e),this.maxChunkCount=Object.keys(e).length,this.depth=o.maxChunksToDepth(this.maxChunkCount),this.fieldsEntries=[];for(const r of Object.keys(e))this.fieldsEntries.push({fieldName:r,fieldType:this.fields[r],jsonKey:f(r,t?.casingMap,t?.jsonCase),gindex:n.toGindex(this.depth,BigInt(this.fieldsEntries.length))});if(0===this.fieldsEntries.length)throw Error("Container must have > 0 fields");this.fieldsGindex={};for(let e=0;e<this.fieldsEntries.length;e++)this.fieldsGindex[this.fieldsEntries[e].fieldName]=n.toGindex(this.depth,BigInt(e));this.jsonKeyToFieldName={};for(const{fieldName:e,jsonKey:t}of this.fieldsEntries)this.jsonKeyToFieldName[t]=e;const{minLen:r,maxLen:i,fixedSize:s}=function(e){let t=0,r=0,i=0;for(const n of Object.values(e))t+=n.minSize,r+=n.maxSize,null===n.fixedSize?(t+=4,r+=4,i=null):null!==i&&(i+=n.fixedSize);return{minLen:t,maxLen:r,fixedSize:i}}(e);this.minSize=r,this.maxSize=i,this.fixedSize=s;const{isFixedLen:a,fieldRangesFixedLen:u,variableOffsetsPosition:l,fixedEnd:y}=function(e){const t=[],r=[],i=[];let n=0;for(const s of Object.values(e))t.push(null!==s.fixedSize),null===s.fixedSize?(i.push(n),n+=4):(r.push({start:n,end:n+s.fixedSize}),n+=s.fixedSize);return{isFixedLen:t,fieldRangesFixedLen:r,variableOffsetsPosition:i,fixedEnd:n}}(e);this.isFixedLen=a,this.fieldRangesFixedLen=u,this.variableOffsetsPosition=l,this.fixedEnd=y,this.TreeView=t?.getContainerTreeViewClass?.(this)??h.getContainerTreeViewClass(this),this.TreeViewDU=t?.getContainerTreeViewDUClass?.(this)??c.getContainerTreeViewDUClass(this)}static named(e,t){return new(a.namedClass(l,t.typeName))(e,t)}defaultValue(){const e={};for(const{fieldName:t,fieldType:r}of this.fieldsEntries)e[t]=r.defaultValue();return e}getView(e){return new this.TreeView(this,e)}getViewDU(e,t){return new this.TreeViewDU(this,e,t)}cacheOfViewDU(e){return e.cache}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}value_serializedSize(e){let t=0;for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];t+=null===n.fixedSize?4+n.value_serializedSize(e[i]):n.fixedSize}return t}value_serializeToBytes(e,t,r){let i=t,n=t+this.fixedEnd;for(let s=0;s<this.fieldsEntries.length;s++){const{fieldName:o,fieldType:a}=this.fieldsEntries[s];null===a.fixedSize?(e.dataView.setUint32(i,n-t,!0),i+=4,n=a.value_serializeToBytes(e,n,r[o])):i=a.value_serializeToBytes(e,i,r[o])}return n}value_deserializeFromBytes(e,t,r){const i=this.getFieldRanges(e.dataView,t,r),n={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:s,fieldType:o}=this.fieldsEntries[r],a=i[r];n[s]=o.value_deserializeFromBytes(e,t+a.start,t+a.end)}return n}tree_serializedSize(e){let t=0;const r=n.getNodesAtDepth(e,this.depth,0,this.fieldsEntries.length);for(let e=0;e<this.fieldsEntries.length;e++){const{fieldType:i}=this.fieldsEntries[e],n=r[e];t+=null===i.fixedSize?4+i.tree_serializedSize(n):i.fixedSize}return t}tree_serializeToBytes(e,t,r){let i=t,s=t+this.fixedEnd;const o=n.getNodesAtDepth(r,this.depth,0,this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldType:n}=this.fieldsEntries[r],a=o[r];null===n.fixedSize?(e.dataView.setUint32(i,s-t,!0),i+=4,s=n.tree_serializeToBytes(e,s,a)):i=n.tree_serializeToBytes(e,i,a)}return s}tree_deserializeFromBytes(e,t,r){const i=this.getFieldRanges(e.dataView,t,r),s=new Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldType:n}=this.fieldsEntries[r],o=i[r];s[r]=n.tree_deserializeFromBytes(e,t+o.start,t+o.end)}return n.subtreeFillToContents(s,this.depth)}getRoots(e){const t=new Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];t[r]=n.hashTreeRoot(e[i])}return t}getPropertyGindex(e){const t=this.fieldsGindex[e]??this.fieldsGindex[this.jsonKeyToFieldName[e]];if(void 0===t)throw Error(`Unknown container property ${e}`);return t}getPropertyType(e){const t=this.fields[e]??this.fields[this.jsonKeyToFieldName[e]];if(void 0===t)throw Error(`Unknown container property ${e}`);return t}getIndexProperty(e){return e>=this.fieldsEntries.length?null:this.fieldsEntries[e].fieldName}tree_getLeafGindices(e,t){const r=[];for(let i=0;i<this.fieldsEntries.length;i++){const{fieldName:s,fieldType:o}=this.fieldsEntries[i],a=this.fieldsGindex[s],u=n.concatGindices([e,a]);if(o.isBasic)r.push(u);else{const e=o;if(null===o.fixedSize){if(!t)throw new Error("variable type requires tree argument to get leaves");r.push(...e.tree_getLeafGindices(u,n.getNode(t,a)))}else r.push(...e.tree_getLeafGindices(u))}}return r}fromJson(e){if("object"!=typeof e)throw Error("JSON must be of type object");if(null===e)throw Error("JSON must not be null");const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n,jsonKey:s}=this.fieldsEntries[r],o=e[s];if(void 0===o)throw Error(`JSON expected key ${s} is undefined`);t[i]=n.fromJson(o)}return t}toJson(e){const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n,jsonKey:s}=this.fieldsEntries[r];t[s]=n.toJson(e[i])}return t}clone(e){const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];t[i]=n.clone(e[i])}return t}equals(e,t){for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];if(!n.equals(e[i],t[i]))return!1}return!0}getFieldRanges(e,t,r){if(0===this.variableOffsetsPosition.length){const e=r-t;if(e!==this.fixedEnd)throw Error(`${this.typeName} size ${e} not equal fixed size ${this.fixedEnd}`);return this.fieldRangesFixedLen}const i=function(e,t,r,i,n){const s=r-t,o=new Array(n.length);for(let r=0;r<n.length;r++){const a=e.getUint32(t+n[r],!0);if(a>s)throw new Error(`Offset out of bounds ${a} > ${s}`);if(0===r){if(a!==i)throw new Error(`First offset must equal to fixedEnd ${a} != ${i}`)}else if(a<o[r-1])throw new Error(`Offsets must be increasing ${a} < ${o[r-1]}`);o[r]=a}return o}(e,t,r,this.fixedEnd,this.variableOffsetsPosition);i.push(r-t);let n=0,s=0;const o=new Array(this.isFixedLen.length);for(let e=0;e<this.isFixedLen.length;e++)this.isFixedLen[e]?o[e]=this.fieldRangesFixedLen[s++]:(o[e]={start:i[n],end:i[n+1]},n++);return o}}function f(e,t,r){if(t){const r=t[e];if(void 0===r)throw Error(`casingMap[${e}] not defined`);return r}return r?"eth2"===r?s.default.snake(e).replace(/(\d)$/,"_$1"):s.default[r](e):e}function d(e,t="Container"){return`${t}({${Object.keys(e).map((t=>`${t}: ${e[t].typeName}`)).join(", ")}})`}t.ContainerType=l,t.precomputeJsonKey=f,t.renderContainerTypeName=d},44018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerNodeStructType=void 0;const i=r(45518),n=r(23768),s=r(34923),o=r(98885),a=r(26016),u=r(93678);class h extends n.ContainerType{constructor(e,t){super(e,{typeName:t?.typeName??n.renderContainerTypeName(e,"ContainerNodeStruct"),...t,getContainerTreeViewClass:o.getContainerTreeViewClass,getContainerTreeViewDUClass:a.getContainerTreeViewDUClass}),this.fields=e;for(const{fieldName:e,fieldType:t}of this.fieldsEntries)if(i.isCompositeType(t)&&t.isViewMutable)throw Error(`ContainerNodeStructType field '${e}' ${t.typeName} view is mutable`)}static named(e,t){return new(s.namedClass(n.ContainerType,t.typeName))(e,t)}tree_serializedSize(e){return this.value_serializedSize(e.value)}tree_serializeToBytes(e,t,r){const{value:i}=r;return this.value_serializeToBytes(e,t,i)}tree_deserializeFromBytes(e,t,r){const i=this.value_deserializeFromBytes(e,t,r);return new u.BranchNodeStruct(this.valueToTree.bind(this),i)}getPropertyGindex(){return null}tree_fromProofNode(e){const t=new Uint8Array(super.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);super.tree_serializeToBytes({uint8Array:t,dataView:r},0,e);const i=this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length);return{node:new u.BranchNodeStruct(this.valueToTree.bind(this),i),done:!0}}tree_toValue(e){return e.value}value_toTree(e){return new u.BranchNodeStruct(this.valueToTree.bind(this),e)}valueToTree(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),super.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}}t.ContainerNodeStructType=h},55789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListBasicType=void 0;const i=r(64060),n=r(70653),s=r(34923),o=r(81973),a=r(81625),u=r(63840);class h extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,!e.isBasic)throw Error("elementType must be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(this.limit*e.byteLength/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=this.limit*e.maxSize}static named(e,t,r){return new(s.namedClass(h,r.typeName))(e,t,r)}getView(e){return new o.ListBasicTreeView(this,e)}getViewDU(e,t){return new a.ListBasicTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return e.length*this.elementType.byteLength}value_serializeToBytes(e,t,r){return i.value_serializeToBytesArrayBasic(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return i.value_deserializeFromBytesArrayBasic(this.elementType,e,t,r,this)}tree_serializedSize(e){return this.tree_getLength(e)*this.elementType.byteLength}tree_serializeToBytes(e,t,r){const n=this.tree_getChunksNode(r),s=this.tree_getLength(r);return i.tree_serializeToBytesArrayBasic(this.elementType,s,this.chunkDepth,e,t,n)}tree_deserializeFromBytes(e,t,r){return i.tree_deserializeFromBytesArrayBasic(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return e.right.getUint(4,0)}tree_setLength(e,t){e.rootNode=i.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return i.setChunksNode(e,t,r)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.value_serializeToBytesArrayBasic(this.elementType,e.length,{uint8Array:t,dataView:r},0,e),n.splitIntoRootChunks(t)}}t.ListBasicType=h},13124:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListCompositeType=void 0;const i=r(70653),n=r(34923),s=r(64060),o=r(90208),a=r(76747),u=r(64090),h=r(63840);class c extends h.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.itemsPerChunk=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,e.isBasic)throw Error("elementType must not be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.maxChunkCount=this.limit,this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=o.maxSizeArrayComposite(e,this.limit)}static named(e,t,r){return new(n.namedClass(c,r.typeName))(e,t,r)}getView(e){return new a.ListCompositeTreeView(this,e)}getViewDU(e,t){return new u.ListCompositeTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return o.value_serializedSizeArrayComposite(this.elementType,e.length,e)}value_serializeToBytes(e,t,r){return o.value_serializeToBytesArrayComposite(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return o.value_deserializeFromBytesArrayComposite(this.elementType,e,t,r,this)}tree_serializedSize(e){const t=this.tree_getChunksNode(e),r=this.tree_getLength(e);return o.tree_serializedSizeArrayComposite(this.elementType,r,this.chunkDepth,t)}tree_serializeToBytes(e,t,r){const i=this.tree_getChunksNode(r),n=this.tree_getLength(r);return o.tree_serializeToBytesArrayComposite(this.elementType,n,this.chunkDepth,i,e,t)}tree_deserializeFromBytes(e,t,r){return o.tree_deserializeFromBytesArrayComposite(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return s.getLengthFromRootNode(e)}tree_setLength(e,t){e.rootNode=s.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return s.setChunksNode(e,t,r)}hashTreeRoot(e){return i.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){return o.value_getRootsArrayComposite(this.elementType,e.length,e)}}t.ListCompositeType=c},56808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoneType=void 0;const i=r(44152),n=r(95196);class s extends n.BasicType{constructor(){super(...arguments),this.typeName="none",this.byteLength=0,this.itemsPerChunk=32,this.fixedSize=0,this.minSize=0,this.maxSize=0}defaultValue(){return null}value_serializeToBytes(e,t,r){return t}value_deserializeFromBytes(e,t){return null}tree_serializeToBytes(e,t,r){return t}tree_deserializeFromBytes(e,t,r){return i.zeroNode(0)}tree_getFromNode(e){return null}tree_setToNode(e,t){}tree_getFromPackedNode(e,t){return null}tree_setToPackedNode(e,t,r){}fromJson(e){if(null!==e)throw Error("JSON invalid type none must be null");return null}toJson(e){return null}}t.NoneType=s},34654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UintBigintType=t.UintNumberType=t.uintBigintByteLens=t.uintNumberByteLens=void 0;const i=r(44152),n=r(34923),s=r(95196),o=BigInt(Number.MAX_SAFE_INTEGER),a=BigInt(2)**BigInt(64),u=BigInt(2)**BigInt(128),h=BigInt(2)**BigInt(192),c=2**32,l=4294967295;t.uintNumberByteLens=[1,2,4,8],t.uintBigintByteLens=[1,2,4,8,16,32];class f extends s.BasicType{constructor(e,t){if(super(),this.byteLength=e,e>8)throw Error("UintNumber byteLength limit is 8");if(Math.log2(e)%1!=0)throw Error("byteLength must be a power of 2");this.typeName=t?.typeName??"uint"+8*e,t?.clipInfinity&&(this.typeName+="Inf"),t?.setBitwiseOR&&(this.typeName+="OR"),this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e,this.maxDecimalStr=(BigInt(2)**BigInt(8*this.byteLength)-BigInt(1)).toString(10),this.clipInfinity=!0===t?.clipInfinity,this.setBitwiseOR=!0===t?.setBitwiseOR}static named(e,t){return new(n.namedClass(f,t.typeName))(e,t)}defaultValue(){return 0}value_serializeToBytes({dataView:e},t,r){switch(this.byteLength){case 1:e.setInt8(t,r);break;case 2:e.setUint16(t,r,!0);break;case 4:e.setUint32(t,r,!0);break;case 8:r===1/0?(e.setUint32(t,4294967295),e.setUint32(t+4,4294967295)):(e.setUint32(t,4294967295&r,!0),e.setUint32(t+4,r/c&4294967295,!0))}return t+this.byteLength}value_deserializeFromBytes({dataView:e},t,r){switch(this.assertValidSize(r-t),this.byteLength){case 1:return e.getUint8(t);case 2:return e.getUint16(t,!0);case 4:return e.getUint32(t,!0);case 8:{const r=e.getUint32(t,!0),i=e.getUint32(t+4,!0);return i===l&&r===l&&this.clipInfinity?1/0:i*c+r}}}tree_serializeToBytes(e,t,r){const i=r.getUint(this.byteLength,0,this.clipInfinity);return this.value_serializeToBytes(e,t,i),t+this.byteLength}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const n=this.value_deserializeFromBytes(e,t,r),s=i.LeafNode.fromZero();return s.setUint(this.byteLength,0,n,this.clipInfinity),s}tree_getFromNode(e){return e.getUint(this.byteLength,0,this.clipInfinity)}tree_setToNode(e,t){this.tree_setToPackedNode(e,0,t)}tree_getFromPackedNode(e,t){const r=this.byteLength*(t%this.itemsPerChunk);return e.getUint(this.byteLength,r,this.clipInfinity)}tree_setToPackedNode(e,t,r){const i=this.byteLength*(t%this.itemsPerChunk);this.setBitwiseOR?e.bitwiseOrUint(this.byteLength,i,r):e.setUint(this.byteLength,i,r,this.clipInfinity)}fromJson(e){if("number"==typeof e)return e;if("string"==typeof e){if(this.clipInfinity&&e===this.maxDecimalStr)return 1/0;{const t=parseInt(e,10);if(isNaN(t))throw Error("JSON invalid number isNaN");if(t>Number.MAX_SAFE_INTEGER)throw Error("JSON invalid number > MAX_SAFE_INTEGER");return t}}if("bigint"==typeof e){if(e>o)throw Error("JSON invalid number > MAX_SAFE_INTEGER_BN");return Number(e)}throw Error(`JSON invalid type ${typeof e} expected number`)}toJson(e){return e===1/0?this.maxDecimalStr:e.toString(10)}}t.UintNumberType=f;class d extends s.BasicType{constructor(e,t){if(super(),this.byteLength=e,e>32)throw Error("UintBigint byteLength limit is 32");if(Math.log2(e)%1!=0)throw Error("byteLength must be a power of 2");this.typeName=t?.typeName??"uintBigint"+8*e,this.byteLength=e,this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e}static named(e,t){return new(n.namedClass(d,t.typeName))(e,t)}defaultValue(){return BigInt(0)}value_serializeToBytes({dataView:e},t,r){switch(this.byteLength){case 1:e.setInt8(t,Number(r));break;case 2:e.setUint16(t,Number(r),!0);break;case 4:e.setUint32(t,Number(r),!0);break;case 8:e.setBigUint64(t,r,!0);break;default:for(let i=0;i<this.byteLength;i+=8){i>0&&(r/=a);const n=BigInt.asUintN(64,r);e.setBigUint64(t+i,n,!0)}}return t+this.byteLength}value_deserializeFromBytes({dataView:e},t,r){const i=r-t;if(i!==this.byteLength)throw Error(`Invalid size ${i} expected ${this.byteLength}`);switch(this.byteLength){case 1:return BigInt(e.getUint8(t));case 2:return BigInt(e.getUint16(t,!0));case 4:return BigInt(e.getUint32(t,!0));case 8:return e.getBigUint64(t,!0);case 16:{const r=e.getBigUint64(t,!0);return e.getBigUint64(t+8,!0)*a+r}case 32:{const r=e.getBigUint64(t,!0),i=e.getBigUint64(t+8,!0),n=e.getBigUint64(t+16,!0);return e.getBigUint64(t+24,!0)*h+n*u+i*a+r}}}tree_serializeToBytes(e,t,r){const i=r.getUintBigint(this.byteLength,0);return this.value_serializeToBytes(e,t,i),t+this.byteLength}tree_deserializeFromBytes(e,t,r){const n=r-t;if(n!==this.byteLength)throw Error(`Invalid size ${n} expected ${this.byteLength}`);const s=this.value_deserializeFromBytes(e,t,r),o=i.LeafNode.fromZero();return o.setUintBigint(this.byteLength,0,s),o}tree_getFromNode(e){return e.getUintBigint(this.byteLength,0)}tree_setToNode(e,t){this.tree_setToPackedNode(e,0,t)}tree_getFromPackedNode(e,t){const r=this.byteLength*(t%this.itemsPerChunk);return e.getUintBigint(this.byteLength,r)}tree_setToPackedNode(e,t,r){const i=this.byteLength*(t%this.itemsPerChunk);e.setUintBigint(this.byteLength,i,r)}fromJson(e){if("bigint"==typeof e)return e;if("string"==typeof e||"number"==typeof e)return BigInt(e);throw Error(`JSON invalid type ${typeof e} expected bigint`)}toJson(e){return e.toString(10)}}t.UintBigintType=d},7730:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnionType=void 0;const i=r(44152),n=r(70653),s=r(34923),o=r(45518),a=r(64060),u=r(56808),h=BigInt(2),c=BigInt(3);class l extends o.CompositeType{constructor(e,t){if(super(),this.types=e,this.depth=1,this.maxChunkCount=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,e.length>=128)throw Error("Must have less than 128 types");if(0===e.length)throw Error("Must have at least 1 type option");if(e[0]instanceof u.NoneType&&e.length<2)throw Error("Must have at least 2 type options if the first is None");for(let t=1;t<e.length;t++)if(e[t]instanceof u.NoneType)throw Error("None may only be the first option");this.typeName=t?.typeName??`Union[${e.map((e=>e.typeName)).join(",")}]`;const r=[],i=[];for(const t of e)r.push(t.minSize),i.push(t.maxSize);this.minSize=1+Math.min(...r),this.maxSize=1+Math.max(...i),this.maxSelector=this.types.length-1}static named(e,t){return new(s.namedClass(l,t.typeName))(e,t)}defaultValue(){return{selector:0,value:this.types[0].defaultValue()}}getView(e){return this.tree_toValue(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}cacheOfViewDU(){}commitView(e){return this.value_toTree(e)}commitViewDU(e){return this.value_toTree(e)}value_serializedSize(e){return 1+this.types[e.selector].value_serializedSize(e.value)}value_serializeToBytes(e,t,r){return e.uint8Array[t]=r.selector,this.types[r.selector].value_serializeToBytes(e,t+1,r.value)}value_deserializeFromBytes(e,t,r){const i=e.uint8Array[t];if(i>this.maxSelector)throw Error(`Invalid selector ${i}`);return{selector:i,value:this.types[i].value_deserializeFromBytes(e,t+1,r)}}tree_serializedSize(e){const t=a.getLengthFromRootNode(e),r=e.left;return 1+this.types[t].value_serializedSize(r)}tree_serializeToBytes(e,t,r){const i=a.getLengthFromRootNode(r),n=r.left;return e.uint8Array[t]=i,this.types[i].tree_serializeToBytes(e,t+1,n)}tree_deserializeFromBytes(e,t,r){const i=e.uint8Array[t];if(i>this.maxSelector)throw Error(`Invalid selector ${i}`);const n=this.types[i].tree_deserializeFromBytes(e,t+1,r);return a.addLengthNode(n,i)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.selector)}getRoots(e){return[this.types[e.selector].hashTreeRoot(e.value)]}getPropertyGindex(e){switch(e){case"value":return h;case"selector":return c;default:throw new Error(`Invalid Union type property ${e}`)}}getPropertyType(){throw new Error("Not applicable for Union type")}getIndexProperty(e){if(0===e)return"value";if(1===e)return"selector";throw Error("Union index of out bounds")}tree_getLeafGindices(e,t){if(!t)throw Error("rootNode required");const r=[i.concatGindices([e,c])],n=a.getLengthFromRootNode(t),s=this.types[n],u=i.concatGindices([e,h]);return o.isCompositeType(s)?r.push(...s.tree_getLeafGindices(u,i.getNode(t,h))):r.push(u),r}fromJson(e){if("object"!=typeof e)throw new Error("JSON must be of type object");const t=e;if("number"!=typeof t.selector)throw new Error("Invalid JSON Union selector must be number");const r=this.types[t.selector];if(!r)throw new Error("Invalid JSON Union selector out of range");return{selector:t.selector,value:r.toJson(t.value)}}toJson(e){return{selector:e.selector,value:this.types[e.selector].toJson(e.value)}}clone(e){return{selector:e.selector,value:this.types[e.selector].clone(e.value)}}equals(e,t){return e.selector===t.selector&&this.types[e.selector].equals(e.value,t.value)}}t.UnionType=l},18462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorBasicType=void 0;const i=r(70653),n=r(34923),s=r(64060),o=r(1758),a=r(67375),u=r(63840);class h extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.length=t,this.isList=!1,this.isViewMutable=!0,!e.isBasic)throw Error("elementType must be basic");if(0===t)throw Error("Vector length must be > 0");this.typeName=r?.typeName??`Vector[${e.typeName}, ${t}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(t*e.byteLength/32),this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=t*e.byteLength,this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.defaultLen=t}static named(e,t,r){return new(n.namedClass(h,r.typeName))(e,t,r)}getView(e){return new o.ArrayBasicTreeView(this,e)}getViewDU(e,t){return new a.ArrayBasicTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,t,r){return s.value_serializeToBytesArrayBasic(this.elementType,this.length,e,t,r)}value_deserializeFromBytes(e,t,r){return s.value_deserializeFromBytesArrayBasic(this.elementType,e,t,r,this)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){return s.tree_serializeToBytesArrayBasic(this.elementType,this.length,this.depth,e,t,r)}tree_deserializeFromBytes(e,t,r){return s.tree_deserializeFromBytesArrayBasic(this.elementType,this.depth,e,t,r,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,t){return t}getRoots(e){const t=new Uint8Array(this.fixedSize),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return s.value_serializeToBytesArrayBasic(this.elementType,this.length,{uint8Array:t,dataView:r},0,e),i.splitIntoRootChunks(t)}}t.VectorBasicType=h},79820:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorCompositeType=void 0;const i=r(70653),n=r(34923),s=r(90208),o=r(73985),a=r(33459),u=r(63840);class h extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.length=t,this.itemsPerChunk=1,this.isList=!1,this.isViewMutable=!0,e.isBasic)throw Error("elementType must not be basic");if(0===t)throw Error("Vector length must be > 0");this.typeName=r?.typeName??`Vector[${e.typeName}, ${t}]`,this.maxChunkCount=t,this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=null===e.fixedSize?null:t*e.fixedSize,this.minSize=s.minSizeArrayComposite(e,t),this.maxSize=s.maxSizeArrayComposite(e,t),this.defaultLen=t}static named(e,t,r){return new(n.namedClass(h,r.typeName))(e,t,r)}getView(e){return new o.ArrayCompositeTreeView(this,e)}getViewDU(e,t){return new a.ArrayCompositeTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return s.value_serializedSizeArrayComposite(this.elementType,this.length,e)}value_serializeToBytes(e,t,r){return s.value_serializeToBytesArrayComposite(this.elementType,this.length,e,t,r)}value_deserializeFromBytes(e,t,r){return s.value_deserializeFromBytesArrayComposite(this.elementType,e,t,r,this)}tree_serializedSize(e){return s.tree_serializedSizeArrayComposite(this.elementType,this.length,this.depth,e)}tree_serializeToBytes(e,t,r){return s.tree_serializeToBytesArrayComposite(this.elementType,this.length,this.depth,r,e,t)}tree_deserializeFromBytes(e,t,r){return s.tree_deserializeFromBytesArrayComposite(this.elementType,this.depth,e,t,r,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,t){return t}getRoots(e){return s.value_getRootsArrayComposite(this.elementType,this.length,e)}}t.VectorCompositeType=h},49945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayEquals=t.fromHexString=t.toHexString=void 0;const r=new Array(256);t.toHexString=function(e){let t="0x";for(const i of e)r[i]||(r[i]=i<16?"0"+i.toString(16):i.toString(16)),t+=r[i];return t},t.fromHexString=function(e){if("string"!=typeof e)throw new Error(`hex argument type ${typeof e} must be of type string`);if(e.startsWith("0x")&&(e=e.slice(2)),e.length%2!=0)throw new Error(`hex string length ${e.length} must be multiple of 2`);const t=e.length/2,r=new Uint8Array(t);for(let i=0;i<t;i++){const t=parseInt(e.slice(2*i,2*(i+1)),16);r[i]=t}return r},t.byteArrayEquals=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}},70653:(e,t,r)=>{"use strict";var i=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.nextPowerOf2=t.maxChunksToDepth=t.bitLength=t.mixInLength=t.splitIntoRootChunks=t.merkleize=t.hash64=void 0;const n=r(73911),s=r(11103);function o(e,t){return n.digest2Bytes32(e,t)}function a(e){return 0===e?0:Math.floor(Math.log2(e))+1}function u(e){return e<=0?1:Math.pow(2,a(e-1))}t.hash64=o,t.merkleize=function(e,t){const r=a(u(t)-1);if(0==e.length)return s.zeroHash(r);let i=e.length;for(let t=0;t<r;t++){const r=i%2,n=i+r;for(let n=0;n<r;n++)e[i+n]=s.zeroHash(t);for(let t=0;t<n;t+=2)e[t/2]=o(e[t],e[t+1]);i=n/2}return e[0]},t.splitIntoRootChunks=function(e){const t=Math.ceil(e.length/32),r=new Array(t);for(let i=0;i<t;i++){const t=new Uint8Array(32);t.set(e.slice(32*i,32*(i+1))),r[i]=t}return r},t.mixInLength=function(e,t){const r=i.alloc(32);return r.writeUIntLE(t,0,6),o(e,r)},t.bitLength=a,t.maxChunksToDepth=function(e){return 0===e?0:Math.ceil(Math.log2(e))},t.nextPowerOf2=u},34923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namedClass=void 0,t.namedClass=function(e,t){return new Function("superClass",`return class ${t} extends superClass {}`)(e)}},44599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.treePostProcessFromProofNode=void 0;const i=r(44152);function n(e){return!e.isBasic}function s(e){return""===e?0:parseInt(e,2)}t.treePostProcessFromProofNode=function e(t,r,o="",a=0){if(0===a){const e=r.tree_fromProofNode(t);if(e.done)return e.node;t=e.node}const u=r.depth===a;if(t.isLeaf()){if(u){const e=r.getIndexProperty(s(o));if(null===e)return t;const i=r.getPropertyType(e);return 1===i.maxChunkCount&&n(i)?i.tree_fromProofNode(t).node:t}return t}if(u){const i=r.getIndexProperty(s(o));if(null===i)return t;const a=r.getPropertyType(i);if(!n(a))throw Error("BranchNode does not map to CompositeType");const u=a.tree_fromProofNode(t);return u.done?u.node:e(u.node,a)}{const n=e(t.left,r,o+"0",a+1),s=e(t.right,r,o+"1",a+1);return n===t.left&&s===t.right?t:new i.BranchNode(n,s)}}},11103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zeroHash=void 0;const i=r(73911),n=[new Uint8Array(32)];t.zeroHash=function(e){if(e>=n.length)for(let t=n.length;t<=e;t++)n[t]=i.digest2Bytes32(n[t-1],n[t-1]);return n[e]}},92182:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUint8ByteToBitBooleanArray=t.BitArray=void 0;const r=new Array(256);class i{constructor(e,t){if(this.uint8Array=e,this.bitLen=t,e.length!==Math.ceil(t/8))throw Error("BitArray uint8Array length does not match bitLen")}static fromBitLen(e){return new i(new Uint8Array(Math.ceil(e/8)),e)}static fromSingleBit(e,t){const r=i.fromBitLen(e);return r.set(t,!0),r}static fromBoolArray(e){const t=i.fromBitLen(e.length);for(let r=0;r<e.length;r++)!0===e[r]&&t.set(r,!0);return t}clone(){return new i(Uint8Array.prototype.slice.call(this.uint8Array,0),this.bitLen)}get(e){const t=Math.floor(e/8),r=1<<e%8;return(this.uint8Array[t]&r)===r}set(e,t){if(e>=this.bitLen)throw Error(`BitArray set bitIndex ${e} beyond bitLen ${this.bitLen}`);const r=Math.floor(e/8),i=1<<e%8;let n=this.uint8Array[r];t?(n|=i,this.uint8Array[r]=n):(n&i)===i&&(n^=i,this.uint8Array[r]=n)}mergeOrWith(e){if(e.bitLen!==this.bitLen)throw Error("Must merge BitArrays of same bitLen");for(let t=0;t<this.uint8Array.length;t++)this.uint8Array[t]=this.uint8Array[t]|e.uint8Array[t]}intersectValues(e){const t=[];if(e.length!==this.bitLen)throw Error(`Must not intersect values of length ${e.length} != bitLen ${this.bitLen}`);const r=Math.floor(this.bitLen/8),i=this.bitLen%8,s=this.uint8Array;for(let i=0;i<r;i++){const r=n(s[i]);for(let n=0;n<8;n++)r[n]&&t.push(e[8*i+n])}if(i>0){const o=n(s[r]);for(let n=0;n<i;n++)o[n]&&t.push(e[8*r+n])}return t}getTrueBitIndexes(){const e=[],t=this.uint8Array;for(let r=0,i=t.length;r<i;r++){const i=n(t[r]);for(let t=0;t<8;t++)i[t]&&e.push(8*r+t)}return e}getSingleTrueBit(){let e=null;const t=this.uint8Array;for(let r=0,i=t.length;r<i;r++){if(0===t[r])continue;const i=n(t[r]);for(let t=0;t<8;t++)if(!0===i[t]){if(null!==e)return null;e=8*r+t}}return null===e?null:e}toBoolArray(){const e=new Array(this.bitLen);for(let t=0;t<this.bitLen;t++)e[t]=this.get(t);return e}}function n(e){return r[e]||(r[e]=function(e){const t=e.toString(2),r=t.length,i=new Array(8);for(let e=0;e<8;e++)i[e]=e<r&&"1"===t[r-e-1];return i}(e)),r[e]}t.BitArray=i,t.getUint8ByteToBitBooleanArray=n},39587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeView=void 0;const i=r(44152);t.TreeView=class{serialize(){const e=new Uint8Array(this.type.tree_serializedSize(this.node)),t=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.type.tree_serializeToBytes({uint8Array:e,dataView:t},0,this.node),e}hashTreeRoot(){return this.node.root}createProof(e){return this.type.tree_createProof(this.node,e)}toValue(){return this.type.tree_toValue(this.node)}clone(){return this.type.getView(new i.Tree(this.node))}}},1758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayBasicTreeView=void 0;const i=r(44152),n=r(39587);class s extends n.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){const t=Math.floor(e/this.type.itemsPerChunk),r=this.tree.getNodeAtDepth(this.type.depth,t);return this.type.elementType.tree_getFromPackedNode(r,e)}set(e,t){const r=this.length;if(e>=r)throw Error(`Error setting index over length ${e} > ${r}`);const i=Math.floor(e/this.type.itemsPerChunk),n=this.tree.getNodeAtDepth(this.type.depth,i).clone();this.type.elementType.tree_setToPackedNode(n,e,t),this.tree.setNodeAtDepth(this.type.depth,i,n)}getAll(){const e=this.length,t=this.type.tree_getChunksNode(this.node),r=Math.ceil(e/this.type.itemsPerChunk),n=i.getNodesAtDepth(t,this.type.chunkDepth,0,r),s=new Array(e),o=this.type.itemsPerChunk,a=Math.floor(e/o),u=e%o;for(let e=0;e<a;e++){const t=n[e];for(let r=0;r<o;r++)s[e*o+r]=this.type.elementType.tree_getFromPackedNode(t,r)}if(u>0){const e=n[a];for(let t=0;t<u;t++)s[a*o+t]=this.type.elementType.tree_getFromPackedNode(e,t)}return s}}t.ArrayBasicTreeView=s},73985:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayCompositeTreeView=void 0;const i=r(44152),n=r(39587);class s extends n.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){const t=i.toGindexBitstring(this.type.depth,e),r=this.tree.getSubtree(t);return this.type.elementType.getView(r)}getReadonly(e){const t=i.toGindexBitstring(this.type.depth,e),r=new i.Tree(this.tree.getNode(t));return this.type.elementType.getView(r)}set(e,t){const r=this.length;if(e>=r)throw Error(`Error setting index over length ${e} > ${r}`);const i=this.type.elementType.commitView(t);this.tree.setNodeAtDepth(this.type.depth,e,i)}getAllReadonly(){const e=this.length,t=this.type.tree_getChunksNode(this.node),r=i.getNodesAtDepth(t,this.type.chunkDepth,0,e),n=new Array(e);for(let t=0;t<e;t++)n[t]=this.type.elementType.getView(new i.Tree(r[t]));return n}getAllReadonlyValues(){const e=this.length,t=this.type.tree_getChunksNode(this.node),r=i.getNodesAtDepth(t,this.type.chunkDepth,0,e),n=new Array(e);for(let t=0;t<e;t++)n[t]=this.type.elementType.tree_toValue(r[t]);return n}}t.ArrayCompositeTreeView=s},8347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitArrayTreeView=void 0;const i=r(39587);class n extends i.TreeView{constructor(e,t){super(),this.type=e,this.tree=t,this.bitArray=e.tree_toValue(t.rootNode)}get node(){return this.tree.rootNode}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,t){this.bitArray.set(e,t),this.tree.rootNode=this.type.value_toTree(this.bitArray)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}}t.BitArrayTreeView=n},51231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewClass=void 0;const i=r(44152),n=r(95196),s=r(45518),o=r(39587);class a extends o.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get node(){return this.tree.rootNode}}t.getContainerTreeViewClass=function(e){class t extends a{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:o,fieldType:a}=e.fieldsEntries[r];if(n.isBasicType(a))Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){const e=i.getNodeAtDepth(this.node,this.type.depth,r);return a.tree_getFromNode(e)},set:function(e){const t=i.getNodeAtDepth(this.node,this.type.depth,r).clone();a.tree_setToNode(t,e),this.tree.setNodeAtDepth(this.type.depth,r,t)}});else{if(!s.isCompositeType(a))throw Error(`Unknown fieldType ${a.typeName} for fieldName ${o}`);Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){const e=i.toGindexBitstring(this.type.depth,r);return a.getView(this.tree.getSubtree(e))},set:function(e){const t=a.commitView(e);this.tree.setNodeAtDepth(this.type.depth,r,t)}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},98885:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewClass=void 0;const i=r(45518),n=r(93678),s=r(39587);class o extends s.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get node(){return this.tree.rootNode}}t.getContainerTreeViewClass=function(e){class t extends o{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:s,fieldType:o}=e.fieldsEntries[r];if(o.isBasic)Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){return this.tree.rootNode.value[s]},set:function(e){const t=this.tree.rootNode,r=this.type.clone(t.value);r[s]=e,this.tree.rootNode=new n.BranchNodeStruct(t.valueToNode,r)}});else{if(!i.isCompositeType(o))throw Error(`Unknown fieldType ${o.typeName} for fieldName ${s}`);Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){const{value:e}=this.tree.rootNode;return o.toView(e[s])},set:function(e){const t=this.tree.rootNode,r=this.type.clone(t.value);r[s]=o.toValueFromView(e),this.tree.rootNode=new n.BranchNodeStruct(t.valueToNode,r)}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},81973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListBasicTreeView=void 0;const i=r(44152),n=r(1758);class s extends n.ArrayBasicTreeView{constructor(e,t){super(e,t),this.type=e,this.tree=t}push(e){const t=this.length;if(t>=this.type.limit)throw Error("Error pushing over limit");if(this.type.tree_setLength(this.tree,t+1),t%this.type.itemsPerChunk==0){const r=i.LeafNode.fromZero();this.type.elementType.tree_setToPackedNode(r,t,e);const n=Math.floor(t/this.type.itemsPerChunk);this.tree.setNodeAtDepth(this.type.depth,n,r)}else this.set(t,e)}}t.ListBasicTreeView=s},76747:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListCompositeTreeView=void 0;const i=r(73985);class n extends i.ArrayCompositeTreeView{constructor(e,t){super(e,t),this.type=e,this.tree=t}push(e){const t=this.length;if(t>=this.type.limit)throw Error("Error pushing over limit");this.type.tree_setLength(this.tree,t+1),this.set(t,e)}}t.ListCompositeTreeView=n},80504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewDU=void 0;const i=r(39587);class n extends i.TreeView{hashTreeRoot(){return this.commit(),super.hashTreeRoot()}serialize(){return this.commit(),super.serialize()}clone(e){if(e)return this.type.getViewDU(this.node);{const e=this.cache;return this.clearCache(),this.type.getViewDU(this.node,e)}}}t.TreeViewDU=n},67375:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayBasicTreeViewDU=void 0;const i=r(44152),n=r(80504);class s extends n.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.nodesChanged=new Set,this.dirtyLength=!1,r?(this.nodes=r.nodes,this._length=r.length,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this._length=this.type.tree_getLength(t),this.nodesPopulated=!1)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){const t=Math.floor(e/this.type.itemsPerChunk);let r=this.nodes[t];return void 0===r&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,t),this.nodes[t]=r),this.type.elementType.tree_getFromPackedNode(r,e)}set(e,t){if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);const r=Math.floor(e/this.type.itemsPerChunk);let n;this.nodesChanged.has(r)?n=this.nodes[r]:(n=(this.nodes[r]??i.getNodeAtDepth(this._rootNode,this.type.depth,r)).clone(),this.nodes[r]=n,this.nodesChanged.add(r)),this.type.elementType.tree_setToPackedNode(n,e,t)}getAll(){if(!this.nodesPopulated){const e=this.nodes,t=this.type.tree_getChunksNode(this.node),r=Math.ceil(this._length/this.type.itemsPerChunk);this.nodes=i.getNodesAtDepth(t,this.type.chunkDepth,0,r);for(const t of this.nodesChanged)this.nodes[t]=e[t];this.nodesPopulated=!0}const e=new Array(this._length),t=this.type.itemsPerChunk,r=Math.floor(this._length/t),n=this._length%t;for(let i=0;i<r;i++){const r=this.nodes[i];for(let n=0;n<t;n++)e[i*t+n]=this.type.elementType.tree_getFromPackedNode(r,n)}if(n>0){const i=this.nodes[r];for(let s=0;s<n;s++)e[r*t+s]=this.type.elementType.tree_getFromPackedNode(i,s)}return e}commit(){if(0===this.nodesChanged.size)return;const e=Array.from(this.nodesChanged.keys()).sort(((e,t)=>e-t)),t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=this.nodes[e[r]];const r=this.type.tree_getChunksNode(this._rootNode),n=i.setNodesAtDepth(r,this.type.chunkDepth,e,t);this._rootNode=this.type.tree_setChunksNode(this._rootNode,n,this.dirtyLength?this._length:void 0),this.nodesChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}}t.ArrayBasicTreeViewDU=s},33459:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayCompositeTreeViewDU=void 0;const i=r(44152),n=r(80504);class s extends n.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.viewsChanged=new Map,this.dirtyLength=!1,r?(this.nodes=r.nodes,this.caches=r.caches,this._length=r.length,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this.caches=[],this._length=this.type.tree_getLength(t),this.nodesPopulated=0===this._length)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){const t=this.viewsChanged.get(e);if(t)return t;let r=this.nodes[e];void 0===r&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=r);const n=this.type.elementType.getViewDU(r,this.caches[e]);return this.type.elementType.isViewMutable&&this.viewsChanged.set(e,n),n}getReadonly(e){const t=this.viewsChanged.get(e);if(t)return t;let r=this.nodes[e];return void 0===r&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=r),this.type.elementType.getViewDU(r,this.caches[e])}set(e,t){if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);this.viewsChanged.set(e,t)}getAllReadonly(){this.populateAllNodes();const e=new Array(this._length);for(let t=0;t<this._length;t++)e[t]=this.type.elementType.getViewDU(this.nodes[t],this.caches[t]);return e}getAllReadonlyValues(){this.populateAllNodes();const e=new Array(this._length);for(let t=0;t<this._length;t++)e[t]=this.type.elementType.tree_toValue(this.nodes[t]);return e}commit(){if(0===this.viewsChanged.size)return;const e=[];for(const[t,r]of this.viewsChanged){const i=this.type.elementType.commitViewDU(r);this.nodes[t]=i,e.push({index:t,node:i});const n=this.type.elementType.cacheOfViewDU(r);n&&(this.caches[t]=n)}const t=e.sort(((e,t)=>e.index-t.index)),r=t.map((e=>e.index)),n=t.map((e=>e.node)),s=this.type.tree_getChunksNode(this._rootNode),o=i.setNodesAtDepth(s,this.type.chunkDepth,r,n);this._rootNode=this.type.tree_setChunksNode(this._rootNode,o,this.dirtyLength?this._length:void 0),this.viewsChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.viewsChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}populateAllNodes(){if(this.viewsChanged.size>0)throw Error("Must commit changes before reading all nodes");this.nodesPopulated||(this.nodes=i.getNodesAtDepth(this._rootNode,this.type.depth,0,this.length),this.nodesPopulated=!0)}}t.ArrayCompositeTreeViewDU=s},22507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitArrayTreeViewDU=void 0;const i=r(80504);class n extends i.TreeViewDU{constructor(e,t){super(),this.type=e,this._rootNode=t,this._bitArray=null}get node(){return this._rootNode}get cache(){}commit(){null!==this._bitArray&&(this._rootNode=this.type.value_toTree(this._bitArray))}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,t){this.bitArray.set(e,t)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}get bitArray(){return null===this._bitArray&&(this._bitArray=this.type.tree_toValue(this._rootNode)),this._bitArray}clearCache(){this._bitArray=null}}t.BitArrayTreeViewDU=n},46821:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewDUClass=void 0;const i=r(44152),n=r(95196),s=r(45518),o=r(80504);class a extends o.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.nodes=[],this.nodesChanged=new Set,this.viewsChanged=new Map,r?(this.nodes=r.nodes,this.caches=r.caches,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this.caches=[],this.nodesPopulated=!1)}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,nodesPopulated:this.nodesPopulated}}commit(){if(0===this.nodesChanged.size&&0===this.viewsChanged.size)return;const e=[];for(const[t,r]of this.viewsChanged){const i=this.type.fieldsEntries[t].fieldType,n=i.commitViewDU(r);this.nodes[t]=n,e.push({index:t,node:n});const s=i.cacheOfViewDU(r);s&&(this.caches[t]=s)}for(const t of this.nodesChanged)e.push({index:t,node:this.nodes[t]});const t=e.sort(((e,t)=>e.index-t.index)),r=t.map((e=>e.index)),n=t.map((e=>e.node));this._rootNode=i.setNodesAtDepth(this._rootNode,this.type.depth,r,n),this.nodesChanged.clear(),this.viewsChanged.clear()}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.viewsChanged.clear()}}t.getContainerTreeViewDUClass=function(e){class t extends a{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:o,fieldType:a}=e.fieldsEntries[r];if(n.isBasicType(a))Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){let e=this.nodes[r];return void 0===e&&(e=i.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=e),a.tree_getFromNode(e)},set:function(e){let t;this.nodesChanged.has(r)?t=this.nodes[r]:(t=(this.nodes[r]??i.getNodeAtDepth(this._rootNode,this.type.depth,r)).clone(),this.nodes[r]=t,this.nodesChanged.add(r)),a.tree_setToNode(t,e)}});else{if(!s.isCompositeType(a))throw Error(`Unknown fieldType ${a.typeName} for fieldName ${o}`);Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){const e=this.viewsChanged.get(r);if(e)return e;let t=this.nodes[r];void 0===t&&(t=i.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=t);const n=a.getViewDU(t,this.caches[r]);return a.isViewMutable&&this.viewsChanged.set(r,n),n},set:function(e){this.viewsChanged.set(r,e)}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},26016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewDUClass=void 0;const i=r(45518),n=r(80504);class s extends n.TreeViewDU{constructor(e,t){super(),this.type=e,this.valueChanged=null,this._rootNode=t}get node(){return this._rootNode}get cache(){}commit(){if(null===this.valueChanged)return;const e=this.valueChanged;this.valueChanged=null,this._rootNode=this.type.value_toTree(e)}clearCache(){this.valueChanged=null}}t.getContainerTreeViewDUClass=function(e){class t extends s{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:n,fieldType:s}=e.fieldsEntries[r];if(s.isBasic)Object.defineProperty(t.prototype,n,{configurable:!1,enumerable:!0,get:function(){return(this.valueChanged||this._rootNode.value)[n]},set:function(e){null===this.valueChanged&&(this.valueChanged=this.type.clone(this._rootNode.value)),this.valueChanged[n]=e}});else{if(!i.isCompositeType(s))throw Error(`Unknown fieldType ${s.typeName} for fieldName ${n}`);Object.defineProperty(t.prototype,n,{configurable:!1,enumerable:!0,get:function(){const e=this.valueChanged||this._rootNode.value;return s.toViewDU(e[n])},set:function(e){null===this.valueChanged&&(this.valueChanged=this.type.clone(this._rootNode.value));const t=s.toValueFromViewDU(e);this.valueChanged[n]=t}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},81625:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListBasicTreeViewDU=void 0;const i=r(44152),n=r(67375);class s extends n.ArrayBasicTreeViewDU{constructor(e,t,r){super(e,t,r),this.type=e,this._rootNode=t}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;const t=this._length++;if(t%this.type.itemsPerChunk==0){const e=Math.floor(t/this.type.itemsPerChunk);this.nodes[e]=i.zeroNode(0)}this.set(t,e)}}t.ListBasicTreeViewDU=s},64090:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListCompositeTreeViewDU=void 0;const i=r(44152),n=r(33459);class s extends n.ArrayCompositeTreeViewDU{constructor(e,t,r){super(e,t,r),this.type=e,this._rootNode=t}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;const t=this._length++;this.set(t,e)}sliceTo(e){this.commit();const t=this._rootNode;if(e>=this.type.tree_getLength(t)-1)return this;const r=this.type.tree_getChunksNode(t),n=i.treeZeroAfterIndex(r,this.type.chunkDepth,e),s=e+1,o=this.type.tree_setChunksNode(t,n,s);return this.type.getViewDU(o)}}t.ListCompositeTreeViewDU=s},55681:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function n(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){n(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=i,t.bytes=n,t.hash=s,t.exists=o,t.output=a;const u={number:r,bool:i,bytes:n,hash:s,exists:o,output:a};t.default=u},62063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const i=r(55681),n=r(15416);class s extends n.Hash{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){i.default.exists(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,n.toBytes)(e)).length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a!==s)r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,n.createView)(e);for(;s<=o-i;i+=s)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){i.default.exists(this),i.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),u=i?4:0,h=i?0:4;e.setUint32(t+u,o,i),e.setUint32(t+h,a,i)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const u=(0,n.createView)(e);this.get().forEach(((e,t)=>u.setUint32(4*t,e,o)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}t.SHA2=s},11994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),i=BigInt(32);function n(e,t=!1){return t?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function s(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=n(e[s],t);[r[s],i[s]]=[o,a]}return[r,i]}function o(e,t,r,i){const n=(t>>>0)+(i>>>0);return{h:e+r+(n/2**32|0)|0,l:0|n}}t.fromBig=n,t.split=s,t.toBig=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0),t.add=o;const a={fromBig:n,split:s,toBig:t.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:o,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/2**32|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,n)=>t+r+i+n+(e/2**32|0)|0,add5H:(e,t,r,i,n,s)=>t+r+i+n+s+(e/2**32|0)|0,add5L:(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0)};t.default=a},604:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},36763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const i=r(55681),n=r(15416);class s extends n.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,i.default.hash(e);const r=(0,n.toBytes)(t);if(this.iHash=e.create(),!(this.iHash instanceof n.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const s=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const o=new Uint8Array(s);o.set(r.length>this.iHash.blockLen?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return i.default.exists(this),this.iHash.update(e),this}digestInto(e){i.default.exists(this),i.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return(e=e).finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,r)=>new s(e,t).update(r).digest(),t.hmac.create=(e,t)=>new s(e,t)},96391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=void 0;const i=r(62063),n=r(15416),s=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class h extends i.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[e,t,r,i,n,s,o,a]}set(e,t,r,i,n,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=u[e-15],r=u[e-2],i=(0,n.rotr)(t,7)^(0,n.rotr)(t,18)^t>>>3,s=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;u[e]=s+u[e-7]+i+u[e-16]|0}let{A:r,B:i,C:a,D:h,E:c,F:l,G:f,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,n.rotr)(c,6)^(0,n.rotr)(c,11)^(0,n.rotr)(c,25))+((y=c)&l^~y&f)+o[e]+u[e]|0,p=((0,n.rotr)(r,2)^(0,n.rotr)(r,13)^(0,n.rotr)(r,22))+s(r,i,a)|0;d=f,f=l,l=c,c=h+t|0,h=a,a=i,i=r,r=t+p|0}var y;r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,h=h+this.D|0,c=c+this.E|0,l=l+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,i,a,h,c,l,f,d)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}t.sha256=(0,n.wrapConstructor)((()=>new h))},12999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=t.keccakP=void 0;const i=r(55681),n=r(11994),s=r(15416),[o,a,u]=[[],[],[]],h=BigInt(0),c=BigInt(1),l=BigInt(2),f=BigInt(7),d=BigInt(256),y=BigInt(113);for(let e=0,t=c,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],o.push(2*(5*i+r)),a.push((e+1)*(e+2)/2%64);let n=h;for(let e=0;e<7;e++)t=(t<<c^(t>>f)*y)%d,t&l&&(n^=c<<(c<<BigInt(e))-c);u.push(n)}const[p,g]=n.default.split(u,!0),m=(e,t,r)=>r>32?n.default.rotlBH(e,t,r):n.default.rotlSH(e,t,r),w=(e,t,r)=>r>32?n.default.rotlBL(e,t,r):n.default.rotlSL(e,t,r);function b(e,t=24){const r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const i=(t+8)%10,n=(t+2)%10,s=r[n],o=r[n+1],a=m(s,o,1)^r[i],u=w(s,o,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],n=e[3];for(let r=0;r<24;r++){const i=a[r],s=m(t,n,i),u=w(t,n,i),h=o[r];t=e[h],n=e[h+1],e[h]=s,e[h+1]=u}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=p[i],e[1]^=g[i]}r.fill(0)}t.keccakP=b;class B extends s.Hash{constructor(e,t,r,n=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,i.default.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){b(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){i.default.exists(this);const{blockLen:t,state:r}=this,n=(e=(0,s.toBytes)(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,0!=(128&t)&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){i.default.exists(this,!1),i.default.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(i.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new B(t,r,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}t.Keccak=B;const T=(e,t,r)=>(0,s.wrapConstructor)((()=>new B(t,e,r)));t.sha3_224=T(6,144,28),t.sha3_256=T(6,136,32),t.sha3_384=T(6,104,48),t.sha3_512=T(6,72,64),t.keccak_224=T(1,144,28),t.keccak_256=T(1,136,32),t.keccak_384=T(1,104,48),t.keccak_512=T(1,72,64);const v=(e,t,r)=>(0,s.wrapConstructorWithOpts)(((i={})=>new B(t,e,void 0===i.dkLen?r:i.dkLen,!0)));t.shake128=v(31,168,16),t.shake256=v(31,136,32)},15416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const i=r(604);if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function s(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=s(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const i=2*r,n=e.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t},t.nextTick=async()=>{},t.asyncLoop=async function(e,r,i){let n=Date.now();for(let s=0;s<e;s++){i(s);const e=Date.now()-n;e>=0&&e<r||(await(0,t.nextTick)(),n+=e)}},t.utf8ToBytes=s,t.toBytes=o,t.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){const n=e[t];r.set(n,i),i+=n.length}return r},t.Hash=class{clone(){return this._cloneInto()}},t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(o(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(i.crypto.web)return i.crypto.web.getRandomValues(new Uint8Array(e));if(i.crypto.node)return new Uint8Array(i.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}},53849:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keccak512=t.keccak384=t.keccak256=t.keccak224=void 0;const i=r(12999),n=r(25461);t.keccak224=(0,n.wrapHash)(i.keccak_224),t.keccak256=(()=>{const e=(0,n.wrapHash)(i.keccak_256);return e.create=i.keccak_256.create,e})(),t.keccak384=(0,n.wrapHash)(i.keccak_384),t.keccak512=(0,n.wrapHash)(i.keccak_512)},33062:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schnorr=t.Signature=t.Point=t.CURVE=t.utils=t.getSharedSecret=t.recoverPublicKey=t.verify=t.signSync=t.sign=t.getPublicKey=void 0;const i=r(36763),n=r(96391),s=r(36698);var o=r(36698);Object.defineProperty(t,"getPublicKey",{enumerable:!0,get:function(){return o.getPublicKey}}),Object.defineProperty(t,"sign",{enumerable:!0,get:function(){return o.sign}}),Object.defineProperty(t,"signSync",{enumerable:!0,get:function(){return o.signSync}}),Object.defineProperty(t,"verify",{enumerable:!0,get:function(){return o.verify}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return o.recoverPublicKey}}),Object.defineProperty(t,"getSharedSecret",{enumerable:!0,get:function(){return o.getSharedSecret}}),Object.defineProperty(t,"utils",{enumerable:!0,get:function(){return o.utils}}),Object.defineProperty(t,"CURVE",{enumerable:!0,get:function(){return o.CURVE}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return o.Point}}),Object.defineProperty(t,"Signature",{enumerable:!0,get:function(){return o.Signature}}),Object.defineProperty(t,"schnorr",{enumerable:!0,get:function(){return o.schnorr}}),s.utils.hmacSha256Sync=(e,...t)=>{const r=i.hmac.create(n.sha256,e);return t.forEach((e=>r.update(e))),r.digest()}},25461:function(e,t,r){"use strict";e=r.nmd(e);var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.wrapHash=t.equalsBytes=t.hexToBytes=t.bytesToUtf8=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0;const n=i(r(55681)),s=r(15416),o=n.default.bool;t.assertBool=o;const a=n.default.bytes;t.assertBytes=a;var u=r(15416);Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return u.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return u.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return u.utf8ToBytes}}),t.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},t.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},t.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},t.wrapHash=function(e){return t=>(n.default.bytes(t),e(t))},t.crypto=(()=>{const t="object"==typeof self&&"crypto"in self?self.crypto:void 0,r="function"==typeof e.require&&e.require.bind(e);return{node:r&&!t?r("crypto"):void 0,web:t}})()},36698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;const i=r(5634),n=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),u=BigInt(8),h=o**BigInt(256),c={a:n,b:BigInt(7),P:h-o**BigInt(32)-BigInt(977),n:h-BigInt("432420386565659656852420866394968145599"),h:s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function l(e){const{a:t,b:r}=c,i=z(e*e),n=z(i*e);return z(n+t*e+r)}t.CURVE=c;const f=c.a===n;class d{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof p))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new d(e.x,e.y,s)}static toAffineBatch(e){const t=function(e,t=c.P){const r=new Array(e.length),i=I(e.reduce(((e,i,s)=>i===n?e:(r[s]=e,z(e*i,t))),s),t);return e.reduceRight(((e,i,s)=>i===n?e:(r[s]=z(e*r[s],t),z(e*i,t))),i),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return d.toAffineBatch(e).map(d.fromAffine)}equals(e){if(!(e instanceof d))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:i}=this,{x:n,y:s,z:a}=e,u=z(i**o),h=z(a**o),c=z(t*h),l=z(n*u),f=z(z(r*a)*h),y=z(z(s*i)*u);return c===l&&f===y}negate(){return new d(this.x,z(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,i=z(e**o),n=z(t**o),s=z(n**o),h=z(o*(z((e+n)**o)-i-s)),c=z(a*i),l=z(c**o),f=z(l-o*h),y=z(c*(h-f)-u*s),p=z(o*t*r);return new d(f,y,p)}add(e){if(!(e instanceof d))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:i}=this,{x:s,y:a,z:u}=e;if(s===n||a===n)return this;if(t===n||r===n)return e;const h=z(i**o),c=z(u**o),l=z(t*c),f=z(s*h),y=z(z(r*u)*c),p=z(z(a*i)*h),g=z(f-l),m=z(p-y);if(g===n)return m===n?this.double():d.ZERO;const w=z(g**o),b=z(g*w),B=z(l*w),T=z(m**o-b-o*B),v=z(m*(B-T)-y*b),_=z(i*u*g);return new d(T,v,_)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=d.ZERO;if("bigint"==typeof e&&e===n)return t;let r=L(e);if(r===s)return this;if(!f){let e=t,i=this;for(;r>n;)r&s&&(e=e.add(i)),i=i.double(),r>>=s;return e}let{k1neg:i,k1:o,k2neg:a,k2:u}=U(r),h=t,l=t,y=this;for(;o>n||u>n;)o&s&&(h=h.add(y)),u&s&&(l=l.add(y)),y=y.double(),o>>=s,u>>=s;return i&&(h=h.negate()),a&&(l=l.negate()),l=new d(z(l.x*c.beta),l.y,l.z),h.add(l)}precomputeWindow(e){const t=f?128/e+1:256/e+1,r=[];let i=this,n=i;for(let s=0;s<t;s++){n=i,r.push(n);for(let t=1;t<2**(e-1);t++)n=n.add(i),r.push(n);i=n.double()}return r}wNAF(e,t){!t&&this.equals(d.BASE)&&(t=p.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=t&&y.get(t);i||(i=this.precomputeWindow(r),t&&1!==r&&(i=d.normalizeZ(i),y.set(t,i)));let n=d.ZERO,o=d.ZERO;const a=1+(f?128/r:256/r),u=2**(r-1),h=BigInt(2**r-1),c=2**r,l=BigInt(r);for(let t=0;t<a;t++){const r=t*u;let a=Number(e&h);if(e>>=l,a>u&&(a-=c,e+=s),0===a){let e=i[r];t%2&&(e=e.negate()),o=o.add(e)}else{let e=i[r+Math.abs(a)-1];a<0&&(e=e.negate()),n=n.add(e)}}return{p:n,f:o}}multiply(e,t){let r,i,n=L(e);if(f){const{k1neg:e,k1:s,k2neg:o,k2:a}=U(n);let{p:u,f:h}=this.wNAF(s,t),{p:l,f}=this.wNAF(a,t);e&&(u=u.negate()),o&&(l=l.negate()),l=new d(z(l.x*c.beta),l.y,l.z),r=u.add(l),i=h.add(f)}else{const{p:e,f:s}=this.wNAF(n,t);r=e,i=s}return d.normalizeZ([r,i])[0]}toAffine(e=I(this.z)){const{x:t,y:r,z:i}=this,n=e,o=z(n*n),a=z(o*n),u=z(t*o),h=z(r*a);if(z(i*n)!==s)throw new Error("invZ was invalid");return new p(u,h)}}d.BASE=new d(c.Gx,c.Gy,s),d.ZERO=new d(n,s,n);const y=new WeakMap;class p{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,y.delete(this)}static fromCompressedHex(e){const t=32===e.length,r=S(t?e:e.subarray(1));if(!H(r))throw new Error("Point is not on curve");let i=function(e){const{P:t}=c,r=BigInt(6),i=BigInt(11),n=BigInt(22),s=BigInt(23),u=BigInt(44),h=BigInt(88),l=e*e*e%t,f=l*l*e%t,d=C(f,a)*f%t,y=C(d,a)*f%t,p=C(y,o)*l%t,g=C(p,i)*p%t,m=C(g,n)*g%t,w=C(m,u)*m%t,b=C(w,h)*w%t,B=C(b,u)*m%t,T=C(B,a)*f%t,v=C(T,s)*g%t,_=C(v,r)*l%t;return C(_,o)}(l(r));const n=(i&s)===s;t?n&&(i=z(-i)):1==(1&e[0])!==n&&(i=z(-i));const u=new p(r,i);return u.assertValidity(),u}static fromUncompressedHex(e){const t=S(e.subarray(1,33)),r=S(e.subarray(33,65)),i=new p(t,r);return i.assertValidity(),i}static fromHex(e){const t=P(e),r=t.length,i=t[0];if(32===r||33===r&&(2===i||3===i))return this.fromCompressedHex(t);if(65===r&&4===i)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return p.BASE.multiply(M(e))}static fromSignature(e,t,r){const i=k(e=P(e)),{r:n,s}=$(t);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid recovery bit");const o=1&r?"03":"02",a=p.fromHex(o+_(n)),{n:u}=c,h=I(n,u),l=z(-i*h,u),f=z(s*h,u),d=p.BASE.multiplyAndAddUnsafe(a,l,f);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(e=!1){return E(this.toHex(e))}toHex(e=!1){const t=_(this.x);return e?`${this.y&s?"03":"02"}${t}`:`04${t}${_(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!H(t)||!H(r))throw new Error(e);const i=z(r*r);if(z(i-l(t))!==n)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new p(this.x,z(-this.y))}double(){return d.fromAffine(this).double().toAffine()}add(e){return d.fromAffine(this).add(d.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return d.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const i=d.fromAffine(this),o=t===n||t===s||this!==p.BASE?i.multiplyUnsafe(t):i.multiply(t),a=d.fromAffine(e).multiplyUnsafe(r),u=o.add(a);return u.equals(d.ZERO)?void 0:u.toAffine()}}function g(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function m(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${v(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:S(r),left:e.subarray(t+2)}}t.Point=p,p.BASE=new p(c.Gx,c.Gy),p.ZERO=new p(n,n);class w{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=B(e),r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const i=t?v(e):e;if(128!==i.length)throw new Error(`${r}: Expected 64-byte hex`);return new w(N(i.slice(0,64)),N(i.slice(64,128)))}static fromDER(e){const t=B(e);if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:i}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${v(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=m(e.subarray(2)),{data:i,left:n}=m(r);if(n.length)throw new Error(`Invalid signature: left bytes after parsing: ${v(n)}`);return{r:t,s:i}}(t?e:E(e));return new w(r,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!R(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!R(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=c.n>>s;return this.s>e}normalizeS(){return this.hasHighS()?new w(this.r,c.n-this.s):this}toDERRawBytes(e=!1){return E(this.toDERHex(e))}toDERHex(e=!1){const t=g(x(this.s));if(e)return t;const r=g(x(this.r)),i=x(r.length/2),n=x(t.length/2);return`30${x(r.length/2+t.length/2+4)}02${i}${r}02${n}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return E(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}function b(...e){if(!e.every(B))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){const n=e[t];r.set(n,i),i+=n.length}return r}function B(e){return e instanceof Uint8Array}t.Signature=w;const T=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function v(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=T[e[r]];return t}function _(e){if(e>h)throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function A(e){return E(_(e))}function x(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function N(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function E(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const i=2*r,n=e.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function S(e){return N(v(e))}function P(e){return e instanceof Uint8Array?Uint8Array.from(e):E(e)}function L(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&R(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function z(e,t=c.P){const r=e%t;return r>=n?r:t+r}function C(e,t){const{P:r}=c;let i=e;for(;t-- >n;)i*=i,i%=r;return i}function I(e,t=c.P){if(e===n||t<=n)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=z(e,t),i=t,o=n,a=s,u=s,h=n;for(;r!==n;){const e=i/r,t=i%r,n=o-u*e,s=a-h*e;i=r,r=t,o=u,a=h,u=n,h=s}if(i!==s)throw new Error("invert: does not exist");return z(o,t)}const O=(e,t)=>(e+t/o)/t,V=o**BigInt(128);function U(e){const{n:t}=c,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-s*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=O(o*e,t),u=O(-i*e,t);let h=z(e-a*r-u*n,t),l=z(-a*i-u*o,t);const f=h>V,d=l>V;if(f&&(h=t-h),d&&(l=t-l),h>V||l>V)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:h,k2neg:d,k2:l}}function k(e){const{n:t}=c,r=8*e.length-256;let i=S(e);return r>0&&(i>>=BigInt(r)),i>=t&&(i-=t),i}class D{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){if("function"!=typeof t.utils.hmacSha256Sync)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");const r=t.utils.hmacSha256Sync(this.k,...e);if(r instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return r}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function R(e){return n<e&&e<c.n}function H(e){return n<e&&e<c.P}function j(e,t,r){const i=S(e);if(!R(i))return;const{n:o}=c,a=p.BASE.multiply(i),u=z(a.x,o);if(u===n)return;const h=z(I(i,o)*z(t+r*u,o),o);if(h===n)return;const l=new w(u,h);return{sig:l,recovery:(a.x===l.r?0:2)|Number(a.y&s)}}function M(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=N(e)}else{if(!B(e))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=S(e)}if(!R(t))throw new Error("Expected private key: 0 < key < n");return t}function F(e){return e instanceof p?(e.assertValidity(),e):p.fromHex(e)}function $(e){if(e instanceof w)return e.assertValidity(),e;try{return w.fromDER(e)}catch(t){return w.fromCompact(e)}}function G(e){const t=B(e),r="string"==typeof e,i=(t||r)&&e.length;return t?33===i||65===i:r?66===i||130===i:e instanceof p}function K(e){return S(e.length>32?e.slice(0,32):e)}function q(e){const t=K(e),r=z(t,c.n);return W(r<n?t:r)}function W(e){if("bigint"!=typeof e)throw new Error("Expected bigint");return E(_(e))}function J(e,r,i){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const n=P(e),s=M(r),o=[W(s),q(n)];if(null!=i){!0===i&&(i=t.utils.randomBytes(32));const e=P(i);if(32!==e.length)throw new Error("sign: Expected 32 bytes of extra data");o.push(e)}return{seed:b(...o),m:K(n),d:s}}function X(e,t){let{sig:r,recovery:i}=e;const{canonical:n,der:s,recovered:o}=Object.assign({canonical:!0,der:!0},t);n&&r.hasHighS()&&(r=r.normalizeS(),i^=1);const a=s?r.toDERRawBytes():r.toCompactRawBytes();return o?[a,i]:a}t.getPublicKey=function(e,t=!1){return p.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,r,i=!1){return p.fromSignature(e,t,r).toRawBytes(i)},t.getSharedSecret=function(e,t,r=!1){if(G(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!G(t))throw new TypeError("getSharedSecret: second arg must be public key");const i=F(t);return i.assertValidity(),i.multiply(M(e)).toRawBytes(r)},t.sign=async function(e,t,r={}){const{seed:i,m:n,d:s}=J(e,t,r.extraEntropy);let o;const a=new D;for(await a.reseed(i);!(o=j(await a.generate(),n,s));)await a.reseed();return X(o,r)},t.signSync=function(e,t,r={}){const{seed:i,m:n,d:s}=J(e,t,r.extraEntropy);let o;const a=new D;for(a.reseedSync(i);!(o=j(a.generateSync(),n,s));)a.reseedSync();return X(o,r)};const Z={strict:!0};function Y(e){return z(S(e),c.n)}function Q(e){return(e.y&s)===n}t.verify=function(e,t,r,i=Z){let n;try{n=$(e),t=P(t)}catch(e){return!1}const{r:s,s:o}=n;if(i.strict&&n.hasHighS())return!1;const a=k(t);let u;try{u=F(r)}catch(e){return!1}const{n:h}=c,l=I(o,h),f=z(a*l,h),d=z(s*l,h),y=p.BASE.multiplyAndAddUnsafe(u,f,d);return!!y&&z(y.x,h)===s};class ee{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=P(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const r=S(t.subarray(0,32)),i=S(t.subarray(32,64));return new ee(r,i)}assertValidity(){const{r:e,s:t}=this;if(!H(e)||!R(t))throw new Error("Invalid signature")}toHex(){return _(this.r)+_(this.s)}toRawBytes(){return E(this.toHex())}}function te(e,t,r){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);const i=P(e),n=M(t),s=P(r);if(32!==s.length)throw new TypeError("sign: Expected 32 bytes of aux randomness");const o=p.fromPrivateKey(n),a=o.toRawX();return{m:i,P:o,px:a,d:Q(o)?n:c.n-n,rand:s}}function re(e,t){return A(e^S(t))}function ie(e){const t=z(S(e),c.n);if(t===n)throw new Error("sign: Creation of signature failed. k is zero");const r=p.fromPrivateKey(t),i=r.toRawX();return{R:r,rx:i,k:Q(r)?t:c.n-t}}function ne(e,t,r,i){return new ee(e.x,z(t+r*i,c.n)).toRawBytes()}function se(e,t,r){const i=e instanceof ee,n=i?e:ee.fromHex(e);return i&&n.assertValidity(),{...n,m:P(t),P:F(r)}}function oe(e,t,r,i){const n=p.BASE.multiplyAndAddUnsafe(t,M(r),z(-i,c.n));return!(!n||!Q(n)||n.x!==e)}async function ae(e,r,i){try{const{r:n,s,m:o,P:a}=se(e,r,i),u=Y(await t.utils.taggedHash(ce.challenge,A(n),a.toRawX(),o));return oe(n,a,s,u)}catch(e){return!1}}function ue(e,r,i){try{const{r:n,s,m:o,P:a}=se(e,r,i),u=Y(t.utils.taggedHashSync(ce.challenge,A(n),a.toRawX(),o));return oe(n,a,s,u)}catch(e){return!1}}t.schnorr={Signature:ee,getPublicKey:function(e){return p.fromPrivateKey(e).toRawX()},sign:async function(e,r,i=t.utils.randomBytes()){const{m:n,px:s,d:o,rand:a}=te(e,r,i),u=re(o,await t.utils.taggedHash(ce.aux,a)),{R:h,rx:c,k:l}=ie(await t.utils.taggedHash(ce.nonce,u,s,n)),f=ne(h,l,Y(await t.utils.taggedHash(ce.challenge,c,s,n)),o);if(!await ae(f,n,s))throw new Error("sign: Invalid signature produced");return f},verify:ae,signSync:function(e,r,i=t.utils.randomBytes()){const{m:n,px:s,d:o,rand:a}=te(e,r,i),u=re(o,t.utils.taggedHashSync(ce.aux,a)),{R:h,rx:c,k:l}=ie(t.utils.taggedHashSync(ce.nonce,u,s,n)),f=ne(h,l,Y(t.utils.taggedHashSync(ce.challenge,c,s,n)),o);if(!ue(f,n,s))throw new Error("sign: Invalid signature produced");return f},verifySync:ue},p.BASE._setWindowSize(8);const he={node:i,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},ce={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},le={};t.utils={isValidPrivateKey(e){try{return M(e),!0}catch(e){return!1}},privateAdd:(e,t)=>A(z(M(e)+M(t),c.n)),privateNegate:e=>{const t=M(e);return A(c.n-t)},pointAddScalar:(e,t,r)=>{const i=p.fromHex(e),n=M(t),o=p.BASE.multiplyAndAddUnsafe(i,n,s);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)},pointMultiply:(e,t,r)=>{const i=p.fromHex(e),n=S(P(t));return i.multiply(n).toRawBytes(r)},hashToPrivateKey:e=>{if((e=P(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return A(z(S(e),c.n-s)+s)},randomBytes:(e=32)=>{if(he.web)return he.web.getRandomValues(new Uint8Array(e));if(he.node){const{randomBytes:t}=he.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(40)),bytesToHex:v,hexToBytes:E,concatBytes:b,mod:z,invert:I,sha256:async(...e)=>{if(he.web){const t=await he.web.subtle.digest("SHA-256",b(...e));return new Uint8Array(t)}if(he.node){const{createHash:t}=he.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(he.web){const r=await he.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=b(...t),n=await he.web.subtle.sign("HMAC",r,i);return new Uint8Array(n)}if(he.node){const{createHmac:r}=he.node,i=r("sha256",e);return t.forEach((e=>i.update(e))),Uint8Array.from(i.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...r)=>{let i=le[e];if(void 0===i){const r=await t.utils.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));i=b(r,r),le[e]=i}return t.utils.sha256(i,...r)},taggedHashSync:(e,...r)=>{if("function"!=typeof t.utils.sha256Sync)throw new Error("utils.sha256Sync is undefined, you need to set it");let i=le[e];if(void 0===i){const r=t.utils.sha256Sync(Uint8Array.from(e,(e=>e.charCodeAt(0))));i=b(r,r),le[e]=i}return t.utils.sha256Sync(i,...r)},precompute(e=8,t=p.BASE){const r=t===p.BASE?t:new p(t.x,t.y);return r._setWindowSize(e),r.multiply(a),r}}},68823:function(e){(function(){"use strict";var t=function(e,t){return t=t||"",e.replace(/(^|-)/g,"$1\\u"+t).replace(/,/g,"\\u"+t)},r=t("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),i="a-z"+t("DF-F6,F8-FF","00"),n="A-Z"+t("C0-D6,D8-DE","00"),s=function(e,t,s,o){return e=e||r,t=t||i,s=s||n,o=o||"A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",{capitalize:new RegExp("(^|["+e+"])(["+t+"])","g"),pascal:new RegExp("(^|["+e+"])+(["+t+s+"])","g"),fill:new RegExp("["+e+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+t+"])","g"),improper:new RegExp("\\b("+o+")\\b","g"),relax:new RegExp("([^"+s+"])(["+s+"]*)(["+s+"])(?=[^"+s+"]|$)","g"),upper:new RegExp("^[^"+t+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+e+"]")}},o=s(),a={re:o,unicodes:t,regexps:s,types:[],up:String.prototype.toUpperCase,low:String.prototype.toLowerCase,cap:function(e){return a.up.call(e.charAt(0))+e.slice(1)},decap:function(e){return a.low.call(e.charAt(0))+e.slice(1)},deapostrophe:function(e){return e.replace(o.apostrophe,"")},fill:function(e,t,r){return null!=t&&(e=e.replace(o.fill,(function(e,r){return r?t+r:""}))),r&&(e=a.deapostrophe(e)),e},prep:function(e,t,r,i){if(e=null==e?"":e+"",!i&&o.upper.test(e)&&(e=a.low.call(e)),!t&&!o.hole.test(e)){var n=a.fill(e," ");o.hole.test(n)&&(e=n)}return r||o.room.test(e)||(e=e.replace(o.relax,a.relax)),e},relax:function(e,t,r,i){return t+" "+(r?r+" ":"")+i}},u={_:a,of:function(e){for(var t=0,r=a.types.length;t<r;t++)if(u[a.types[t]].apply(u,arguments)===e)return a.types[t]},flip:function(e){return e.replace(/\w/g,(function(e){return(e==a.up.call(e)?a.low:a.up).call(e)}))},random:function(e){return e.replace(/\w/g,(function(e){return(Math.round(Math.random())?a.up:a.low).call(e)}))},type:function(e,t){u[e]=t,a.types.push(e)}},h={lower:function(e,t,r){return a.fill(a.low.call(a.prep(e,t)),t,r)},snake:function(e){return u.lower(e,"_",!0)},constant:function(e){return u.upper(e,"_",!0)},camel:function(e){return a.decap(u.pascal(e))},kebab:function(e){return u.lower(e,"-",!0)},upper:function(e,t,r){return a.fill(a.up.call(a.prep(e,t,!1,!0)),t,r)},capital:function(e,t,r){return a.fill(a.prep(e).replace(o.capitalize,(function(e,t,r){return t+a.up.call(r)})),t,r)},header:function(e){return u.capital(e,"-",!0)},pascal:function(e){return a.fill(a.prep(e,!1,!0).replace(o.pascal,(function(e,t,r){return a.up.call(r)})),"",!0)},title:function(e){return u.capital(e).replace(o.improper,(function(e,t,r,i){return r>0&&r<i.lastIndexOf(" ")?a.low.call(e):e}))},sentence:function(e,t,r){return e=u.lower(e).replace(o.sentence,(function(e,t,r){return t+a.up.call(r)})),t&&t.forEach((function(t){e=e.replace(new RegExp("\\b"+u.lower(t)+"\\b","g"),a.cap)})),r&&r.forEach((function(t){e=e.replace(new RegExp("(\\b"+u.lower(t)+"\\. +)(\\w)"),(function(e,t,r){return t+a.low.call(r)}))})),e}};for(var c in h.squish=h.pascal,u.default=u,h)u.type(c,h[c]);var l="function"==typeof l?l:function(){};l(e.exports?e.exports=u:this.Case=u)}).call(this)}}]);