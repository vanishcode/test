/*! For license information please see 5486.5486.js.LICENSE.txt */
(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[5486],{45113:(e,t)=>{"use strict";function r(e,t){const r=BigInt(1)<<BigInt(e);if(t>=r)throw new Error(`index ${t} too large for depth ${e}`);return r|t}Object.defineProperty(t,"__esModule",{value:!0}),t.gindexChild=t.gindexParent=t.gindexSibling=t.concatGindices=t.getGindexBits=t.gindexIterator=t.getGindicesAtDepth=t.iterateAtDepth=t.countToDepth=t.convertGindexToBitstring=t.toGindexBitstring=t.toGindex=t.bitIndexBigInt=void 0,t.bitIndexBigInt=function(e){return e.toString(2).length-1},t.toGindex=r,t.toGindexBitstring=function(e,t){const r=t?Number(t).toString(2):"";if(r.length>e)throw new Error("index too large for depth");return"1"+r.padStart(e,"0")},t.convertGindexToBitstring=function(e){if("string"==typeof e){if(0===e.length)throw new Error(i);return e}if(e<1)throw new Error(i);return e.toString(2)},t.countToDepth=function(e){return e<=1?0:(e-BigInt(1)).toString(2).length},t.iterateAtDepth=function(e,t,i){if(t+i>BigInt(1)<<BigInt(e))throw new Error("Too large for depth");let n=r(e,t);const s=n+i;return{[Symbol.iterator]:()=>({next(){if(n<s){const e=n;return n++,{done:!1,value:e}}return{done:!0,value:void 0}}})}},t.getGindicesAtDepth=function(e,t,i){if(t+i>BigInt(1)<<BigInt(e))throw new Error("Too large for depth");let n=r(e,BigInt(t));const s=[];for(let e=0;e<i;e++)s.push(n++);return s};const i="Invalid gindex";t.gindexIterator=function(e){let t;if("string"==typeof e){if(!e.length)throw new Error(i);t=e}else{if(e<1)throw new Error(i);t=e.toString(2)}let r=1;const n=()=>{if(r===t.length)return{done:!0,value:void 0};const e=Number(t[r]);return r++,{done:!1,value:e}};return{[Symbol.iterator]:()=>({next:n}),remainingBitLength:()=>t.length-r}},t.getGindexBits=function(e){let t;if("string"==typeof e){if(!e.length)throw new Error(i);t=e}else{if(e<1)throw new Error(i);t=e.toString(2)}const r=[];for(let e=1;e<t.length;e++)r.push(Number(t[e]));return r},t.concatGindices=function(e){return BigInt(e.reduce(((e,t)=>e+t.toString(2).slice(1)),"0b1"))},t.gindexSibling=function(e){return e^BigInt(1)},t.gindexParent=function(e){return e/BigInt(2)},t.gindexChild=function(e,t){return e*BigInt(2)+BigInt(t)}},29457:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.setHasher=t.hasher=void 0;const s=r(7207);n(r(64571),t),n(r(336),t),t.hasher=s.hasher,t.setHasher=function(e){t.hasher=e}},7207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasher=void 0;const i=r(96053),n=r(336),s=(e,t)=>i.sha256.create().update(e).update(t).digest();t.hasher={digest64:s,digest64HashObjects:(e,t)=>n.uint8ArrayToHashObject(s(n.hashObjectToUint8Array(e),n.hashObjectToUint8Array(t)))}},64571:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},336:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint8ArrayToHashObject=t.hashObjectToUint8Array=void 0;const i=r(4454);t.hashObjectToUint8Array=function(e){const t=new Uint8Array(32);return i.hashObjectToByteArray(e,t,0),t},t.uint8ArrayToHashObject=function(e){return i.byteArrayToHashObject(e)}},56567:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(45113),t),n(r(29457),t),n(r(78894),t),n(r(60628),t),n(r(47392),t),n(r(8738),t),n(r(72969),t),n(r(67048),t)},78894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitwiseOrNodeH=t.setNodeH=t.getNodeH=t.compose=t.identity=t.LeafNode=t.BranchNode=t.Node=void 0;const i=r(29457),n=2**32;class s{constructor(e,t,r,i,n,s,o,a){this.h0=e,this.h1=t,this.h2=r,this.h3=i,this.h4=n,this.h5=s,this.h6=o,this.h7=a}applyHash(e){this.h0=e.h0,this.h1=e.h1,this.h2=e.h2,this.h3=e.h3,this.h4=e.h4,this.h5=e.h5,this.h6=e.h6,this.h7=e.h7}}t.Node=s,t.BranchNode=class extends s{constructor(e,t){if(super(null,0,0,0,0,0,0,0),this._left=e,this._right=t,!e)throw new Error("Left node is undefined");if(!t)throw new Error("Right node is undefined")}get rootHashObject(){return null===this.h0&&super.applyHash(i.hasher.digest64HashObjects(this.left.rootHashObject,this.right.rootHashObject)),this}get root(){return i.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this._left}get right(){return this._right}};class o extends s{static fromRoot(e){return this.fromHashObject(i.uint8ArrayToHashObject(e))}static fromHashObject(e){return new o(e.h0,e.h1,e.h2,e.h3,e.h4,e.h5,e.h6,e.h7)}static fromZero(){return new o(0,0,0,0,0,0,0,0)}static fromUint32(e){return new o(e,0,0,0,0,0,0,0)}clone(){return o.fromHashObject(this)}get rootHashObject(){return this}get root(){return i.hashObjectToUint8Array(this)}isLeaf(){return!0}get left(){throw Error("LeafNode has no left node")}get right(){throw Error("LeafNode has no right node")}writeToBytes(e,t,r){e.set(this.root.slice(0,r),t)}getUint(e,t,r){const i=Math.floor(t/4);if(e<4){const r=t%4*8,n=a(this,i);return 1===e?255&n>>r:65535&n>>r}if(4===e)return a(this,i)>>>0;if(8===e){const e=a(this,i),t=a(this,i+1);return 0===t?e>>>0:-1===t&&-1===e&&r?1/0:(e>>>0)+(t>>>0)*n}throw Error("uintBytes > 8")}getUintBigint(e,t){const r=Math.floor(t/4);if(e<4){const i=t%4*8,n=a(this,r);return 1===e?BigInt(255&n>>i):BigInt(65535&n>>i)}if(4===e)return BigInt(a(this,r)>>>0);{const t=Math.ceil(e/4);let i=BigInt(0);for(let e=0;e<t;e++)i+=BigInt(a(this,r+e)>>>0)<<BigInt(32*e);return i}}setUint(e,t,r,i){const s=Math.floor(t/4);if(e<4){const i=t%4*8;let n=a(this,s);1===e?(n&=~(255<<i),n|=r<<i):(n&=~(65535<<i),n|=r<<i),h(this,s,n)}else if(4===e)h(this,s,r);else{if(8!==e)throw Error("uintBytes > 8");r===1/0&&i?(h(this,s,-1),h(this,s+1,-1)):(h(this,s,4294967295&r),h(this,s+1,r/n&4294967295))}}setUintBigint(e,t,r){const i=Math.floor(t/4);if(e<4){const n=Number(r),s=t%4*8;let o=a(this,i);1===e?(o&=~(255<<s),o|=n<<s):(o&=~(65535<<s),o|=n<<s),h(this,i,o)}else if(4===e)h(this,i,Number(r));else{const t=i+Math.ceil(e/4);for(let e=i;e<t;e++)h(this,e,Number(r&BigInt(4294967295))),r>>=BigInt(32)}}bitwiseOrUint(e,t,r){const i=Math.floor(t/4);if(e<4)l(this,i,r<<t%4*8);else if(4===e)l(this,i,r);else{const t=i+Math.ceil(e/4);for(let e=i;e<t;e++)l(this,e,4294967295&r),r>>=32}}}function a(e,t){if(0===t)return e.h0;if(1===t)return e.h1;if(2===t)return e.h2;if(3===t)return e.h3;if(4===t)return e.h4;if(5===t)return e.h5;if(6===t)return e.h6;if(7===t)return e.h7;throw Error("hIndex > 7")}function h(e,t,r){if(0===t)e.h0=r;else if(1===t)e.h1=r;else if(2===t)e.h2=r;else if(3===t)e.h3=r;else if(4===t)e.h4=r;else if(5===t)e.h5=r;else if(6===t)e.h6=r;else{if(7!==t)throw Error("hIndex > 7");e.h7=r}}function l(e,t,r){if(0===t)e.h0|=r;else if(1===t)e.h1|=r;else if(2===t)e.h2|=r;else if(3===t)e.h3|=r;else if(4===t)e.h4|=r;else if(5===t)e.h5|=r;else if(6===t)e.h6|=r;else{if(7!==t)throw Error("hIndex > 7");e.h7|=r}}t.LeafNode=o,t.identity=function(e){return e},t.compose=function(e,t){return function(r){return t(e(r))}},t.getNodeH=a,t.setNodeH=h,t.bitwiseOrNodeH=l},60628:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packedNodeRootsToBytes=t.packedRootsBytesToLeafNodes=t.packedRootsBytesToNode=void 0;const i=r(8738),n=r(78894);function s(e,t,r){const i=r-t,s=Math.floor(i/32),o=new Array(Math.ceil(i/32));for(let r=0;r<s;r++){const i=t+32*r;o[r]=new n.LeafNode(e.getInt32(i+0,!0),e.getInt32(i+4,!0),e.getInt32(i+8,!0),e.getInt32(i+12,!0),e.getInt32(i+16,!0),e.getInt32(i+20,!0),e.getInt32(i+24,!0),e.getInt32(i+28,!0))}const a=i%32;if(a>0){const r=new n.LeafNode(0,0,0,0,0,0,0,0);o[s]=r;const h=Math.floor(a/4);for(let i=0;i<h;i++)n.setNodeH(r,i,e.getInt32(t+32*s+4*i,!0));const l=i%4;if(l>0){let s=0;for(let r=0;r<l;r++)s|=e.getUint8(t+i-l+r)<<8*r;n.setNodeH(r,h,s)}}return o}t.packedRootsBytesToNode=function(e,t,r,n){const o=s(t,r,n);return i.subtreeFillToContents(o,e)},t.packedRootsBytesToLeafNodes=s,t.packedNodeRootsToBytes=function(e,t,r,i){const s=r%32,o=Math.floor(r/32);for(let r=0;r<o;r++){const n=i[r],s=t+32*r;e.setInt32(s+0,n.h0,!0),e.setInt32(s+4,n.h1,!0),e.setInt32(s+8,n.h2,!0),e.setInt32(s+12,n.h3,!0),e.setInt32(s+16,n.h4,!0),e.setInt32(s+20,n.h5,!0),e.setInt32(s+24,n.h6,!0),e.setInt32(s+28,n.h7,!0)}if(s>0){const a=i[o],h=Math.floor(s/4);for(let r=0;r<h;r++)e.setInt32(t+32*o+4*r,n.getNodeH(a,r),!0);const l=r%4;if(l>0){const i=n.getNodeH(a,h);for(let n=0;n<l;n++)e.setUint8(t+r-l+n,i>>8*n&255)}}}},50065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeFromCompactMultiProof=t.createCompactMultiProof=t.compactMultiProofToNode=t.nodeToCompactMultiProof=t.descriptorToBitlist=t.computeDescriptor=void 0;const i=r(45113),n=r(78894),s=r(85410);function o(e,t){const r=t%8,i=e[Math.floor(t/8)];switch(r){case 0:return 0!=(128&i);case 1:return 0!=(64&i);case 2:return 0!=(32&i);case 3:return 0!=(16&i);case 4:return 0!=(8&i);case 5:return 0!=(4&i);case 6:return 0!=(2&i);case 7:return 0!=(1&i);default:throw new Error("unreachable")}}function a(e){const t=[],r=8*e.length;let i=0,n=0;for(let s=0;s<r;s++){const a=o(e,s);if(t.push(a),a?n++:i++,n>i){if(s++,s+7<r)throw new Error("Invalid descriptor: too many bytes");for(;s<r;s++)if(o(e,s))throw new Error("Invalid descriptor: too many 1 bits");return t}}throw new Error("Invalid descriptor: not enough 1 bits")}function h(e,t,r){if(t[r])return[e.root];{const i=h(e.left,t,r+1),n=h(e.right,t,r+2*i.length);return[...i,...n]}}function l(e,t,r){return e[r.bitIndex++]?n.LeafNode.fromRoot(t[r.leafIndex++]):new n.BranchNode(l(e,t,r),l(e,t,r))}t.computeDescriptor=function(e){const t=new Set,r=new Set;for(const n of e){const e=i.convertGindexToBitstring(n);t.add(e);const{branch:o,path:a}=s.computeProofBitstrings(e);a.delete(e);for(const e of a)r.add(e);for(const e of o)t.add(e)}for(const e of r)t.delete(e);const n=Array.from(t).sort(((e,t)=>e.localeCompare(t)));let o="";for(const e of n)for(let t=0;t<e.length;t++)if("1"===e[e.length-1-t]){o+="1".padStart(t+1,"0");break}o.length%8!=0&&(o=o.padEnd(8-o.length%8+o.length,"0"));const a=new Uint8Array(o.length/8);for(let e=0;e<a.length;e++)a[e]=Number("0b"+o.substring(8*e,8*(e+1)));return a},t.descriptorToBitlist=a,t.nodeToCompactMultiProof=h,t.compactMultiProofToNode=l,t.createCompactMultiProof=function(e,t){return h(e,a(t),0)},t.createNodeFromCompactMultiProof=function(e,t){const r=a(t);if(r.length!==2*e.length-1)throw new Error("Invalid multiproof: invalid number of leaves");return l(r,e,{bitIndex:0,leafIndex:0})}},47392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeProof=t.serializeProof=t.createNodeFromProof=t.createProof=t.ProofTypeSerialized=t.ProofType=t.descriptorToBitlist=t.computeDescriptor=void 0;const i=r(4871),n=r(50065),s=r(42456),o=r(85492);var a,h=r(50065);Object.defineProperty(t,"computeDescriptor",{enumerable:!0,get:function(){return h.computeDescriptor}}),Object.defineProperty(t,"descriptorToBitlist",{enumerable:!0,get:function(){return h.descriptorToBitlist}}),function(e){e.single="single",e.treeOffset="treeOffset",e.multi="multi",e.compactMulti="compactMulti"}(a=t.ProofType||(t.ProofType={})),t.ProofTypeSerialized=[a.single,a.treeOffset,a.multi,a.compactMulti],t.createProof=function(e,t){switch(t.type){case a.single:{const[r,i]=s.createSingleProof(e,t.gindex);return{type:a.single,gindex:t.gindex,leaf:r,witnesses:i}}case a.treeOffset:{const[r,i]=o.createTreeOffsetProof(e,t.gindices);return{type:a.treeOffset,offsets:r,leaves:i}}case a.multi:{const[r,n,s]=i.createMultiProof(e,t.gindices);return{type:a.multi,leaves:r,witnesses:n,gindices:s}}case a.compactMulti:{const r=n.createCompactMultiProof(e,t.descriptor);return{type:a.compactMulti,leaves:r,descriptor:t.descriptor}}default:throw new Error("Invalid proof type")}},t.createNodeFromProof=function(e){switch(e.type){case a.single:return s.createNodeFromSingleProof(e.gindex,e.leaf,e.witnesses);case a.treeOffset:return o.createNodeFromTreeOffsetProof(e.offsets,e.leaves);case a.multi:return i.createNodeFromMultiProof(e.leaves,e.witnesses,e.gindices);case a.compactMulti:return n.createNodeFromCompactMultiProof(e.leaves,e.descriptor);default:throw new Error("Invalid proof type")}},t.serializeProof=function(e){switch(e.type){case a.single:case a.multi:throw new Error("Not implemented");case a.treeOffset:{const r=new Uint8Array(1+o.computeTreeOffsetProofSerializedLength(e.offsets,e.leaves));return r[0]=t.ProofTypeSerialized.indexOf(a.treeOffset),o.serializeTreeOffsetProof(r,1,e.offsets,e.leaves),r}default:throw new Error("Invalid proof type")}},t.deserializeProof=function(e){const r=t.ProofTypeSerialized[e[0]];if(!r)throw new Error("Invalid proof type");switch(r){case a.single:case a.multi:throw new Error("Not implemented");case a.treeOffset:{const[t,r]=o.deserializeTreeOffsetProof(e,1);return{type:a.treeOffset,offsets:t,leaves:r}}default:throw new Error("Invalid proof type")}}},4871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeFromMultiProof=t.createMultiProof=void 0;const i=r(78894),n=r(72969),s=r(85410);t.createMultiProof=function(e,t){const r=new n.Tree(e),i=s.computeMultiProofBitstrings(t.map((e=>e.toString(2))),!1,s.SortOrder.Decreasing),o=t.slice().sort(((e,t)=>e<t?1:-1));return[o.map((e=>r.getRoot(e))),i.map((e=>r.getRoot(e))),o]},t.createNodeFromMultiProof=function(e,t,r){if(e.length!==r.length)throw new Error("Leaves length should equal gindices length");const n=r.map((e=>e.toString(2))),o=s.computeMultiProofBitstrings(n,!1,s.SortOrder.Decreasing);if(o.length!==t.length)throw new Error("Witnesses length should equal witnesses gindices length");const a=Math.max(n[0]?.length??0,o[0]?.length??0),h=Object.fromEntries(Array.from({length:a},((e,t)=>[t+1,{}])));for(let t=0;t<n.length;t++){const r=n[t],s=e[t];h[r.length][r]=i.LeafNode.fromRoot(s)}for(let e=0;e<o.length;e++){const r=o[e],n=t[e];h[r.length][r]=i.LeafNode.fromRoot(n)}for(let e=a;e>1;e--){const t=h[e],r=h[e-1];for(const e of Object.keys(t)){const n=t[e];if(!n)continue;const s="0"===e[e.length-1],o=e.substring(0,e.length-1),a=o+(s?"1":"0"),h=t[a];if(!h)throw new Error(`Sibling not found: ${a}`);const l=s?new i.BranchNode(n,h):new i.BranchNode(h,n);r[o]=l,delete t[e],delete t[a]}}const l=h[1][1];if(!l)throw new Error("Internal consistency error: no root found");return l}},42456:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeFromSingleProof=t.createSingleProof=t.ERR_INVALID_NAV=void 0;const i=r(78894),n=r(45113);t.ERR_INVALID_NAV="Invalid tree navigation",t.createSingleProof=function(e,r){const i=[];let s=e;for(const e of n.gindexIterator(r))if(e){if(s.isLeaf())throw new Error(t.ERR_INVALID_NAV);i.push(s.left.root),s=s.right}else{if(s.isLeaf())throw new Error(t.ERR_INVALID_NAV);i.push(s.right.root),s=s.left}return[s.root,i.reverse()]},t.createNodeFromSingleProof=function(e,t,r){let n=i.LeafNode.fromRoot(t);const s=r.slice().reverse();for(;e>1;){const t=i.LeafNode.fromRoot(s.pop());n=e%BigInt(2)===BigInt(0)?new i.BranchNode(n,t):new i.BranchNode(t,n),e/=BigInt(2)}return n}},85492:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeTreeOffsetProof=t.serializeTreeOffsetProof=t.computeTreeOffsetProofSerializedLength=t.createNodeFromTreeOffsetProof=t.createTreeOffsetProof=t.treeOffsetProofToNode=t.nodeToTreeOffsetProof=void 0;const i=r(78894),n=r(85410);function s(e,t,r){if(r.length&&r[0].startsWith(t)){if(t===r[0])return r.shift(),[[],[e.root]];{const[i,n]=s(e.left,t+"0",r),[o,a]=s(e.right,t+"1",r);return[[n.length].concat(i,o),n.concat(a)]}}return[[],[]]}function o(e,t){if(t.length){if(1===t.length)return i.LeafNode.fromRoot(t[0]);{const r=e[0];return new i.BranchNode(o(e.slice(1,r),t.slice(0,r)),o(e.slice(r),t.slice(r)))}}throw new Error("Proof must contain gt 0 leaves")}t.nodeToTreeOffsetProof=s,t.treeOffsetProofToNode=o,t.createTreeOffsetProof=function(e,t){return s(e,"1",n.computeMultiProofBitstrings(t.map((e=>e.toString(2)))))},t.createNodeFromTreeOffsetProof=function(e,t){return o(e,t)},t.computeTreeOffsetProofSerializedLength=function(e,t){return 2*(e.length+1)+32*t.length},t.serializeTreeOffsetProof=function(e,t,r,i){const n=new DataView(e.buffer,e.byteOffset,e.byteLength);n.setUint16(t,i.length,!0);const s=t+2;for(let e=0;e<r.length;e++)n.setUint16(2*e+s,r[e],!0);const o=s+2*r.length;for(let t=0;t<i.length;t++)e.set(i[t],32*t+o)},t.deserializeTreeOffsetProof=function(e,t){const r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=r.getUint16(t,!0);if(e.length<2*(i-1)+32*i)throw new Error("Unable to deserialize tree offset proof: not enough bytes");const n=t+2,s=Array.from({length:i-1},((e,t)=>r.getUint16(2*t+n,!0))),o=n+2*s.length;return[s,Array.from({length:i},((t,r)=>e.subarray(32*r+o,32*(r+1)+o)))]}},85410:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeMultiProofBitstrings=t.SortOrder=t.filterParentBitstrings=t.sortDecreasingBitstrings=t.sortInOrderBitstrings=t.computeProofBitstrings=t.computeProofGindices=void 0;const i=r(45113);function n(e){const t=new Set,r=new Set;let i=e;for(;i.length>1;){t.add(i);const e=i[i.length-1],n=i.substring(0,i.length-1);r.add(n+(1^Number(e))),i=n}return{path:t,branch:r}}function s(e,t){return e.length?e.map((e=>e.padEnd(t))).sort().map((e=>e.trim())):[]}function o(e){return e.length?e.sort(((e,t)=>{if(e.length<t.length)return 1;if(t.length<e.length)return-1;let r=e.indexOf("0"),i=t.indexOf("0");for(;;){if(-1===r)return-1;if(-1===i)return 1;if(r<i)return 1;if(i<r)return-1;r=e.indexOf("0",r+1),i=t.indexOf("0",i+1)}})):[]}function a(e){const t=e.slice().sort(((e,t)=>e.length-t.length)),r=[];e:for(let e=0;e<t.length;e++){const i=t[e];for(let r=e+1;r<t.length;r++)if(t[r].startsWith(i))continue e;r.push(i)}return r}var h;t.computeProofGindices=function(e){const t=new Set,r=new Set;let n=e;for(;n>1;)t.add(n),r.add(i.gindexSibling(n)),n=i.gindexParent(n);return{path:t,branch:r}},t.computeProofBitstrings=n,t.sortInOrderBitstrings=s,t.sortDecreasingBitstrings=o,t.filterParentBitstrings=a,function(e){e[e.InOrder=0]="InOrder",e[e.Decreasing=1]="Decreasing",e[e.Unsorted=2]="Unsorted"}(h=t.SortOrder||(t.SortOrder={})),t.computeMultiProofBitstrings=function(e,t=!0,r=h.InOrder){const i=a(e),l=new Set(t?i:[]),u=new Set,d=new Set;let c=1;for(const e of i){e.length>c&&(c=e.length);const{path:t,branch:r}=n(e);t.forEach((e=>u.add(e))),r.forEach((e=>d.add(e)))}switch(u.forEach((e=>d.delete(e))),d.forEach((e=>l.add(e))),r){case h.InOrder:return s(Array.from(l),c);case h.Decreasing:return o(Array.from(l));case h.Unsorted:return Array.from(l)}}},8738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subtreeFillToContents=t.subtreeFillToLength=t.subtreeFillToDepth=void 0;const i=r(78894),n=r(67048);function s(e,t){let r=e;for(;t>0;)r=new i.BranchNode(r,r),t--;return r}t.subtreeFillToDepth=s,t.subtreeFillToLength=function e(t,r,o){const a=1<<r;if(o>a)throw new Error("ERR_TOO_MANY_NODES");if(o===a)return s(t,r);if(0===r){if(1===o)return t;throw new Error("ERR_NAVIGATION")}if(1===r)return new i.BranchNode(t,o>1?t:n.zeroNode(0));const h=a>>1;return o<=h?new i.BranchNode(e(t,r-1,o),n.zeroNode(r-1)):new i.BranchNode(s(t,r-1),e(t,r-1,o-h))},t.subtreeFillToContents=function(e,t){const r=2**t;if(e.length>r)throw new Error(`nodes.length ${e.length} over maxIndex at depth ${t}`);if(0===e.length)return n.zeroNode(t);if(0===t)return e[0];if(1===t)return e.length>1?new i.BranchNode(e[0],e[1]):new i.BranchNode(e[0],n.zeroNode(0));let s=e.length;for(let r=t;r>0;r--){const o=s%2,a=s-o;for(let t=0;t<a;t+=2)e[t/2]=new i.BranchNode(e[t],e[t+1]);o>0&&(e[a/2]=new i.BranchNode(e[a],n.zeroNode(t-r))),s=a/2+o}return e[0]}},72969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.treeZeroAfterIndex=t.iterateNodesAtDepth=t.getNodesAtDepth=t.setNodesAtDepth=t.setNodeAtDepth=t.getNodeAtDepth=t.setNodeWithFn=t.setNode=t.getNode=t.Tree=void 0;const i=r(67048),n=r(45113),s=r(78894),o=r(47392),a=r(42456);class h{constructor(e,t){this._rootNode=e,t&&("undefined"==typeof WeakRef?this.hook=t:this.hook=new WeakRef(t))}static createFromProof(e){return new h(o.createNodeFromProof(e))}get rootNode(){return this._rootNode}set rootNode(e){if(this._rootNode=e,this.hook)if("undefined"==typeof WeakRef)this.hook(e);else{const t=this.hook.deref();t?t(e):this.hook=void 0}}get root(){return this.rootNode.root}clone(){return new h(this.rootNode)}getSubtree(e){return new h(this.getNode(e),(t=>this.setNode(e,t)))}getNode(e){return l(this.rootNode,e)}getNodeAtDepth(e,t){return p(this.rootNode,e,t)}getRoot(e){return this.getNode(e).root}setNode(e,t){this.rootNode=u(this.rootNode,e,t)}setNodeWithFn(e,t){this.rootNode=d(this.rootNode,e,t)}setNodeAtDepth(e,t,r){this.rootNode=y(this.rootNode,e,t,r)}setRoot(e,t){this.setNode(e,s.LeafNode.fromRoot(t))}getNodesAtDepth(e,t,r){return m(this.rootNode,e,t,r)}iterateNodesAtDepth(e,t,r){return _(this.rootNode,e,t,r)}getSingleProof(e){return a.createSingleProof(this.rootNode,e)[1]}getProof(e){return o.createProof(this.rootNode,e)}}function l(e,t){const r=n.convertGindexToBitstring(t);let i=e;for(let e=1;e<r.length;e++){if(i.isLeaf())throw new Error(`Invalid tree - found leaf at depth ${e}`);i="1"===r[e]?i.right:i.left}return i}function u(e,t,r){const i=n.convertGindexToBitstring(t);return f(i,c(e,i),r)}function d(e,t,r){const i=n.convertGindexToBitstring(t),s=c(e,i),o=s[s.length-1];return f(i,s,r("1"===i[i.length-1]?o.right:o.left))}function c(e,t){let r=e;const i=[e];for(let e=1;e<t.length-1;e++)r="1"===t[e]?r.right:r.left,i.push(r);return i}function f(e,t,r){let i=r;for(let r=e.length-1;r>=1;r--)i="1"===e[r]?new s.BranchNode(t[r-1].left,i):new s.BranchNode(i,t[r-1].right);return i}function p(e,t,r){if(0===t)return e;if(1===t)return 0===r?e.left:e.right;let i=e;for(let e=t-1;e>=0;e--)i=w(e,r)?i.left:i.right;return i}function y(e,t,r,i){return g(e,t,[r],[i])}function g(e,t,r,i){if(0===t)return i.length>0?i[0]:e;const n=new Array(t),o=new Array(t),a=t-1;let h=a,l=e;n[a]=e;for(let e=0;e<r.length;e++){const t=r[e];for(let e=h;e>0;e--)l=w(e,t)?l.left:l.right,n[e-1]=l;h=0,1!=(1&t)?t+1===r[e+1]?(l=new s.BranchNode(i[e],i[e+1]),e++):l=new s.BranchNode(i[e],l.right):l=new s.BranchNode(l.left,i[e]);const c=e>=r.length-1,f=c?a:(u=t,d=r[e+1],Math.ceil(Math.log2(-~(u^d)))-1);for(let e=1;e<=f;e++)if(w(e,t))c||e!==f?l=new s.BranchNode(l,n[e].right):(o[e]=l,l=n[e]);else{const t=o[e];void 0!==t?(l=new s.BranchNode(t,l),o[e]=void 0):l=new s.BranchNode(n[e].left,l)}h=f}var u,d;return l}function m(e,t,r,i){if(0===t)return 0===r&&i>0?[e]:[];if(1===t)return 0===i?[]:1===i?0===r?[e.left]:[e.right]:[e.left,e.right];const n=t-1;let s=n,o=e;const a=new Array(t),h=new Array(t),l=new Array(i);a[n]=e;for(let e=0;e<i;e++){for(let t=s;t>=0;t--){t!==s&&(a[t]=o);const i=w(t,r+e);h[t]=i,o=i?o.left:o.right}l[e]=o;for(let e=0;e<=n;e++)if(!0===h[e]){s=e;break}o=a[s]}return l}function*_(e,t,r,i){const n=r+i,s=t-1;let o=s,a=e;const h=new Array(t),l=new Array(t);h[s]=e;for(let e=r;e<n;e++){for(let t=o;t>=0;t--){t!==o&&(h[t]=a);const r=w(t,e);l[t]=r,a=r?a.left:a.right}yield a;for(let e=0;e<=s;e++)if(!0===l[e]){o=e;break}a=h[o]}}function w(e,t){if(e>31){const r=1<<e-32;return(t/2**32>>>0&r)!==r}const r=1<<e;return(t&r)!==r}t.Tree=h,t.getNode=l,t.setNode=u,t.setNodeWithFn=d,t.getNodeAtDepth=p,t.setNodeAtDepth=y,t.setNodesAtDepth=g,t.getNodesAtDepth=m,t.iterateNodesAtDepth=_,t.treeZeroAfterIndex=function(e,t,r){if(r<0)return i.zeroNode(t);const n=new Array(t),o=t-1;let a=o,h=e;n[o]=e;for(let e=a;e>=0;e--)h=w(e,r)?h.left:h.right,n[e-1]=h;a=0;for(let e=0;e<=o;e++)h=w(e,r)?new s.BranchNode(h,i.zeroNode(e)):new s.BranchNode(n[e].left,h);return h}},67048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zeroNode=void 0;const i=r(78894),n=[i.LeafNode.fromZero()];t.zeroNode=function(e){if(e>=n.length)for(let t=n.length;t<=e;t++)n[t]=new i.BranchNode(n[t-1],n[t-1]);return n[e]}},4454:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayToHashObject=t.hashObjectToByteArray=void 0,t.hashObjectToByteArray=function(e,t,r){let i=e.h0;t[0+r]=255&i,i>>=8,t[1+r]=255&i,i>>=8,t[2+r]=255&i,i>>=8,t[3+r]=255&i,i=e.h1,t[4+r]=255&i,i>>=8,t[5+r]=255&i,i>>=8,t[6+r]=255&i,i>>=8,t[7+r]=255&i,i=e.h2,t[8+r]=255&i,i>>=8,t[9+r]=255&i,i>>=8,t[10+r]=255&i,i>>=8,t[11+r]=255&i,i=e.h3,t[12+r]=255&i,i>>=8,t[13+r]=255&i,i>>=8,t[14+r]=255&i,i>>=8,t[15+r]=255&i,i=e.h4,t[16+r]=255&i,i>>=8,t[17+r]=255&i,i>>=8,t[18+r]=255&i,i>>=8,t[19+r]=255&i,i=e.h5,t[20+r]=255&i,i>>=8,t[21+r]=255&i,i>>=8,t[22+r]=255&i,i>>=8,t[23+r]=255&i,i=e.h6,t[24+r]=255&i,i>>=8,t[25+r]=255&i,i>>=8,t[26+r]=255&i,i>>=8,t[27+r]=255&i,i=e.h7,t[28+r]=255&i,i>>=8,t[29+r]=255&i,i>>=8,t[30+r]=255&i,i>>=8,t[31+r]=255&i},t.byteArrayToHashObject=function(e){let t=0;t|=255&e[3],t<<=8,t|=255&e[2],t<<=8,t|=255&e[1],t<<=8,t|=255&e[0];const r=t;t=0,t|=255&e[7],t<<=8,t|=255&e[6],t<<=8,t|=255&e[5],t<<=8,t|=255&e[4];const i=t;t=0,t|=255&e[11],t<<=8,t|=255&e[10],t<<=8,t|=255&e[9],t<<=8,t|=255&e[8];const n=t;t=0,t|=255&e[15],t<<=8,t|=255&e[14],t<<=8,t|=255&e[13],t<<=8,t|=255&e[12];const s=t;t=0,t|=255&e[19],t<<=8,t|=255&e[18],t<<=8,t|=255&e[17],t<<=8,t|=255&e[16];const o=t;t=0,t|=255&e[23],t<<=8,t|=255&e[22],t<<=8,t|=255&e[21],t<<=8,t|=255&e[20];const a=t;t=0,t|=255&e[27],t<<=8,t|=255&e[26],t<<=8,t|=255&e[25],t<<=8,t|=255&e[24];const h=t;return t=0,t|=255&e[31],t<<=8,t|=255&e[30],t<<=8,t|=255&e[29],t<<=8,t|=255&e[28],{h0:r,h1:i,h2:n,h3:s,h4:o,h5:a,h6:h,h7:t}}},8747:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BranchNodeStruct=void 0;const i=r(56567);class n extends i.Node{constructor(e,t){super(null,0,0,0,0,0,0,0),this.valueToNode=e,this.value=t}get rootHashObject(){if(null===this.h0){const e=this.valueToNode(this.value);super.applyHash(e.rootHashObject)}return this}get root(){return i.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this.valueToNode(this.value).left}get right(){return this.valueToNode(this.value).right}}t.BranchNodeStruct=n},60557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash64=t.byteArrayEquals=t.toHexString=t.fromHexString=t.getUint8ByteToBitBooleanArray=t.BitArray=t.TreeViewDU=t.TreeView=t.isCompositeType=t.CompositeType=t.isBasicType=t.BasicType=t.Type=t.ByteArrayType=t.BitArrayType=t.ArrayType=t.VectorCompositeType=t.VectorBasicType=t.UnionType=t.UintNumberType=t.UintBigintType=t.NoneType=t.ListCompositeType=t.ListBasicType=t.ContainerNodeStructType=t.ContainerType=t.ByteVectorType=t.ByteListType=t.BooleanType=t.BitVectorType=t.BitListType=void 0;var i=r(10284);Object.defineProperty(t,"BitListType",{enumerable:!0,get:function(){return i.BitListType}});var n=r(21393);Object.defineProperty(t,"BitVectorType",{enumerable:!0,get:function(){return n.BitVectorType}});var s=r(12034);Object.defineProperty(t,"BooleanType",{enumerable:!0,get:function(){return s.BooleanType}});var o=r(13568);Object.defineProperty(t,"ByteListType",{enumerable:!0,get:function(){return o.ByteListType}});var a=r(50245);Object.defineProperty(t,"ByteVectorType",{enumerable:!0,get:function(){return a.ByteVectorType}});var h=r(25039);Object.defineProperty(t,"ContainerType",{enumerable:!0,get:function(){return h.ContainerType}});var l=r(73261);Object.defineProperty(t,"ContainerNodeStructType",{enumerable:!0,get:function(){return l.ContainerNodeStructType}});var u=r(26866);Object.defineProperty(t,"ListBasicType",{enumerable:!0,get:function(){return u.ListBasicType}});var d=r(5189);Object.defineProperty(t,"ListCompositeType",{enumerable:!0,get:function(){return d.ListCompositeType}});var c=r(81638);Object.defineProperty(t,"NoneType",{enumerable:!0,get:function(){return c.NoneType}});var f=r(30436);Object.defineProperty(t,"UintBigintType",{enumerable:!0,get:function(){return f.UintBigintType}}),Object.defineProperty(t,"UintNumberType",{enumerable:!0,get:function(){return f.UintNumberType}});var p=r(51851);Object.defineProperty(t,"UnionType",{enumerable:!0,get:function(){return p.UnionType}});var y=r(55021);Object.defineProperty(t,"VectorBasicType",{enumerable:!0,get:function(){return y.VectorBasicType}});var g=r(54013);Object.defineProperty(t,"VectorCompositeType",{enumerable:!0,get:function(){return g.VectorCompositeType}});var m=r(89659);Object.defineProperty(t,"ArrayType",{enumerable:!0,get:function(){return m.ArrayType}});var _=r(86612);Object.defineProperty(t,"BitArrayType",{enumerable:!0,get:function(){return _.BitArrayType}});var w=r(54316);Object.defineProperty(t,"ByteArrayType",{enumerable:!0,get:function(){return w.ByteArrayType}});var b=r(57451);Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return b.Type}});var v=r(70645);Object.defineProperty(t,"BasicType",{enumerable:!0,get:function(){return v.BasicType}}),Object.defineProperty(t,"isBasicType",{enumerable:!0,get:function(){return v.isBasicType}});var T=r(18715);Object.defineProperty(t,"CompositeType",{enumerable:!0,get:function(){return T.CompositeType}}),Object.defineProperty(t,"isCompositeType",{enumerable:!0,get:function(){return T.isCompositeType}});var E=r(62542);Object.defineProperty(t,"TreeView",{enumerable:!0,get:function(){return E.TreeView}});var B=r(40332);Object.defineProperty(t,"TreeViewDU",{enumerable:!0,get:function(){return B.TreeViewDU}});var N=r(21714);Object.defineProperty(t,"BitArray",{enumerable:!0,get:function(){return N.BitArray}}),Object.defineProperty(t,"getUint8ByteToBitBooleanArray",{enumerable:!0,get:function(){return N.getUint8ByteToBitBooleanArray}});var S=r(71518);Object.defineProperty(t,"fromHexString",{enumerable:!0,get:function(){return S.fromHexString}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return S.toHexString}}),Object.defineProperty(t,"byteArrayEquals",{enumerable:!0,get:function(){return S.byteArrayEquals}});var A=r(90995);Object.defineProperty(t,"hash64",{enumerable:!0,get:function(){return A.hash64}})},57451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0,t.Type=class{value_toTree(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}tree_toValue(e){const t=new Uint8Array(this.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.tree_serializeToBytes({uint8Array:t,dataView:r},0,e),this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}serialize(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}deserialize(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.value_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length)}}},89659:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayType=void 0;const i=r(56567),n=r(18715),s=r(63191);class o extends n.CompositeType{constructor(e){super(),this.elementType=e}defaultValue(){return s.value_defaultValueArray(this.elementType,this.defaultLen)}getPropertyType(){return this.elementType}getPropertyGindex(e){if("number"!=typeof e)throw Error(`Invalid array index: ${e}`);const t=Math.floor(e/this.itemsPerChunk);return i.toGindex(this.depth,BigInt(t))}getIndexProperty(e){return e}tree_getLeafGindices(e,t){let r;if(this.isList){if(!t)throw new Error("List type requires tree argument to get leaves");r=this.tree_getLength(t)}else r=this.tree_getLength(null);const s=[];if(n.isCompositeType(this.elementType)){const n=i.toGindex(this.depth,BigInt(0)),o=n+BigInt(r),a=i.concatGindices([e,n]);if(null===this.elementType.fixedSize){if(!t)throw new Error("Array of variable size requires tree argument to get leaves");for(let e=n,r=a;e<o;e++,r++)s.push(...this.elementType.tree_getLeafGindices(r,i.getNode(t,e)))}else for(let e=0,t=a;e<r;e++,t++)s.push(...this.elementType.tree_getLeafGindices(t))}else{const t=Math.ceil(r/this.itemsPerChunk),n=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),o=n+BigInt(t);for(let e=n;e<o;e++)s.push(e)}return this.isList&&s.push(i.concatGindices([e,n.LENGTH_GINDEX])),s}fromJson(e){return s.value_fromJsonArray(this.elementType,e,this)}toJson(e){return s.value_toJsonArray(this.elementType,e,this)}clone(e){return s.value_cloneArray(this.elementType,e)}equals(e,t){return s.value_equals(this.elementType,e,t)}}t.ArrayType=o},63191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidArrayLength=t.value_defaultValueArray=t.value_equals=t.value_cloneArray=t.value_toJsonArray=t.value_fromJsonArray=t.tree_deserializeFromBytesArrayBasic=t.tree_serializeToBytesArrayBasic=t.value_deserializeFromBytesArrayBasic=t.value_serializeToBytesArrayBasic=t.setChunksNode=t.addLengthNode=t.getChunksNodeFromRootNode=t.getLengthFromRootNode=void 0;const i=r(56567);function n(e,t){return new i.BranchNode(e,i.LeafNode.fromUint32(t))}function s(e,t,r){if(r&&e%1!=0)throw Error("size not multiple of element fixedSize");if(t.isList){if(e>t.limit)throw new Error(`Invalid list length ${e} over limit ${t.limit}`)}else if(e!==t.length)throw new Error(`Incorrect vector length ${e} expected ${t.length}`)}t.getLengthFromRootNode=function(e){return e.right.getUint(4,0)},t.getChunksNodeFromRootNode=function(e){return e.left},t.addLengthNode=n,t.setChunksNode=function(e,t,r){const n=void 0!==r?i.LeafNode.fromUint32(r):e.right;return new i.BranchNode(t,n)},t.value_serializeToBytesArrayBasic=function(e,t,r,i,n){const s=e.byteLength;for(let o=0;o<t;o++)e.value_serializeToBytes(r,i+o*s,n[o]);return i+t*s},t.value_deserializeFromBytesArrayBasic=function(e,t,r,i,n){const o=e.byteLength,a=(i-r)/o;s(a,n,!0);const h=new Array(a);for(let i=0;i<a;i++)h[i]=e.value_deserializeFromBytes(t,r+i*o,r+(i+1)*o);return h},t.tree_serializeToBytesArrayBasic=function(e,t,r,n,s,o){const a=e.byteLength*t,h=Math.ceil(a/32),l=i.getNodesAtDepth(o,r,0,h);return i.packedNodeRootsToBytes(n.dataView,s,a,l),s+a},t.tree_deserializeFromBytesArrayBasic=function(e,t,r,o,a,h){const l=(a-o)/e.byteLength;s(l,h,!0);const u=i.packedRootsBytesToNode(t,r.dataView,o,a);return h.isList?n(u,l):u},t.value_fromJsonArray=function(e,t,r){if(!Array.isArray(t))throw Error("JSON is not an array");s(t.length,r);const i=new Array(t.length);for(let r=0;r<t.length;r++)i[r]=e.fromJson(t[r]);return i},t.value_toJsonArray=function(e,t,r){const i=r.isList?t.length:r.length,n=new Array(i);for(let r=0;r<i;r++)n[r]=e.toJson(t[r]);return n},t.value_cloneArray=function(e,t){const r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=e.clone(t[i]);return r},t.value_equals=function(e,t,r){if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!e.equals(t[i],r[i]))return!1;return!0},t.value_defaultValueArray=function(e,t){const r=new Array(t);for(let i=0;i<t;i++)r[i]=e.defaultValue();return r},t.assertValidArrayLength=s},50404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value_getRootsArrayComposite=t.tree_deserializeFromBytesArrayComposite=t.tree_serializeToBytesArrayComposite=t.tree_serializedSizeArrayComposite=t.value_deserializeFromBytesArrayComposite=t.value_serializeToBytesArrayComposite=t.value_serializedSizeArrayComposite=t.maxSizeArrayComposite=t.minSizeArrayComposite=void 0;const i=r(56567),n=r(63191);function s(e,t,r,i,s){const o=i-r;let a;if(null===e)a=function(e,t,r){if(0===r)return new Uint32Array(0);const i=e.getUint32(t,!0),n=i;if(0===i)throw Error("First offset must be > 0");if(n%4!=0)throw Error("Offset data length not multiple of 4");const s=n/4,o=new Uint32Array(s);o[0]=i;for(let i=1;i<s;i++){const n=e.getUint32(t+4*i,!0);if(o[i]=n,n>r)throw new Error(`Offset out of bounds ${n} > ${r}`);if(n<o[i-1])throw new Error(`Offsets must be increasing ${n} < ${o[i-1]}`)}return o}(t,r,o);else{if(0===e)throw Error("element fixed length is 0");if(o%e!=0)throw Error(`size ${o} is not multiple of element fixedSize ${e}`);const t=o/e;a=new Uint32Array(t);for(let r=0;r<t;r++)a[r]=r*e}return n.assertValidArrayLength(a.length,s),a}t.minSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.minSize):t*e.minSize},t.maxSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.maxSize):t*e.maxSize},t.value_serializedSizeArrayComposite=function(e,t,r){if(null===e.fixedSize){let i=0;for(let n=0;n<t;n++)i+=4+e.value_serializedSize(r[n]);return i}return t*e.fixedSize},t.value_serializeToBytesArrayComposite=function(e,t,r,i,n){if(null===e.fixedSize){let s=i+4*t;for(let o=0;o<t;o++)r.dataView.setUint32(i+4*o,s-i,!0),s=e.value_serializeToBytes(r,s,n[o]);return s}for(let s=0;s<t;s++)e.value_serializeToBytes(r,i+s*e.fixedSize,n[s]);return i+t*e.fixedSize},t.value_deserializeFromBytesArrayComposite=function(e,t,r,i,n){const o=s(e.fixedSize,t.dataView,r,i,n),a=o.length,h=new Array(a);for(let n=0;n<a;n++){const s=r+o[n],l=n===a-1?i:r+o[n+1];h[n]=e.value_deserializeFromBytes(t,s,l)}return h},t.tree_serializedSizeArrayComposite=function(e,t,r,n){if(null===e.fixedSize){const s=i.getNodesAtDepth(n,r,0,t);let o=0;for(let t=0;t<s.length;t++)o+=4+e.tree_serializedSize(s[t]);return o}return t*e.fixedSize},t.tree_serializeToBytesArrayComposite=function(e,t,r,n,s,o){const a=i.getNodesAtDepth(n,r,0,t);if(null===e.fixedSize){let r=o+4*t;const{dataView:i}=s;for(let t=0;t<a.length;t++)i.setUint32(o+4*t,r-o,!0),r=e.tree_serializeToBytes(s,r,a[t]);return r}for(let t=0;t<a.length;t++)o=e.tree_serializeToBytes(s,o,a[t]);return o},t.tree_deserializeFromBytesArrayComposite=function(e,t,r,o,a,h){const l=s(e.fixedSize,r.dataView,o,a,h),u=l.length,d=new Array(u);for(let t=0;t<u;t++){const i=o+l[t],n=t===u-1?a:o+l[t+1];d[t]=e.tree_deserializeFromBytes(r,i,n)}const c=i.subtreeFillToContents(d,t);return h.isList?n.addLengthNode(c,u):c},t.value_getRootsArrayComposite=function(e,t,r){const i=new Array(t);for(let n=0;n<t;n++)i[n]=e.hashTreeRoot(r[n]);return i}},70645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBasicType=t.BasicType=void 0;const i=r(57451);class n extends i.Type{constructor(){super(...arguments),this.isBasic=!0,this.depth=0,this.maxChunkCount=1}value_serializedSize(){return this.byteLength}tree_serializedSize(){return this.byteLength}assertValidSize(e){if(e!==this.byteLength)throw Error(`BasicType invalid size ${e} expected ${this.byteLength}`)}hashTreeRoot(e){const t=new Uint8Array(32),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}clone(e){return e}equals(e,t){return e===t}}t.BasicType=n,t.isBasicType=function(e){return e.isBasic}},86612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitArrayType=void 0;const i=r(56567),n=r(71518),s=r(90995),o=r(18715),a=r(76572),h=r(57844);class l extends o.CompositeType{constructor(){super(...arguments),this.isViewMutable=!0}getView(e){return new a.BitArrayTreeView(this,e)}getViewDU(e){return new h.BitArrayTreeViewDU(this,e)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}getRoots(e){return s.splitIntoRootChunks(e.uint8Array)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request BitArray complete data")}getIndexProperty(){throw Error("Must only request BitArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){const r=this.tree_getByteLen(t),n=Math.ceil(r/32),s=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),a=new Array(n);for(let e=0,t=s;e<n;e++,t++)a[e]=t;return this.isList&&a.push(i.concatGindices([e,o.LENGTH_GINDEX])),a}fromJson(e){const t=n.fromHexString(e),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}toJson(e){return n.toHexString(this.serialize(e))}clone(e){return e.clone()}equals(e,t){return e.bitLen===t.bitLen&&n.byteArrayEquals(e.uint8Array,t.uint8Array)}}t.BitArrayType=l},10284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitListType=void 0;const i=r(56567),n=r(90995),s=r(61425),o=r(63191),a=r(21714),h=r(86612);class l extends h.BitArrayType{constructor(e,t){if(super(),this.limitBits=e,this.fixedSize=null,this.minSize=1,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`BitList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBits/8/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.maxSize=Math.ceil(e/8)+1}static named(e,t){return new(s.namedClass(l,t.typeName))(e,t)}defaultValue(){return a.BitArray.fromBitLen(0)}value_serializedSize(e){return u(e.bitLen)}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),d(e.uint8Array,t,r.bitLen)}value_deserializeFromBytes(e,t,r){const{uint8Array:i,bitLen:n}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r);return new a.BitArray(i,n)}tree_serializedSize(e){return u(o.getLengthFromRootNode(e))}tree_serializeToBytes(e,t,r){const n=o.getChunksNodeFromRootNode(r),s=o.getLengthFromRootNode(r),a=Math.ceil(s/8),h=Math.ceil(a/32),l=i.getNodesAtDepth(n,this.chunkDepth,0,h);return i.packedNodeRootsToBytes(e.dataView,t,a,l),d(e.uint8Array,t,s)}tree_deserializeFromBytes(e,t,r){const{uint8Array:n,bitLen:s}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r),a=new DataView(n.buffer,n.byteOffset,n.byteLength),h=i.packedRootsBytesToNode(this.chunkDepth,a,0,n.length);return o.addLengthNode(h,s)}tree_getByteLen(e){if(!e)throw new Error("BitListType requires a node to get leaves");return Math.ceil(o.getLengthFromRootNode(e)/8)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.bitLen)}deserializeUint8ArrayBitListFromBytes(e,t,r){const{uint8Array:i,bitLen:n}=function(e,t,r){if(r>e.length)throw Error(`BitList attempting to read byte ${r} of data length ${e.length}`);const i=e[r-1],n=r-t;if(0===i)throw new Error("Invalid deserialized bitlist, padding bit required");if(1===i)return{uint8Array:Uint8Array.prototype.slice.call(e,t,r-1),bitLen:8*(n-1)};const s=Uint8Array.prototype.slice.call(e,t,r),o=i.toString(2).length-1,a=8*(n-1)+o,h=255>>8-o;return s[n-1]&=h,{uint8Array:s,bitLen:a}}(e,t,r);if(n>this.limitBits)throw Error(`bitLen over limit ${n} > ${this.limitBits}`);return{uint8Array:i,bitLen:n}}}function u(e){const t=Math.ceil(e/8);return e%8==0?t+1:t}function d(e,t,r){const i=t+Math.ceil(r/8);return r%8==0?(e[i]=1,i+1):(e[i-1]|=1<<r%8,i)}t.BitListType=l},21393:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitVectorType=void 0;const i=r(56567),n=r(90995),s=r(61425),o=r(21714),a=r(86612);class h extends a.BitArrayType{constructor(e,t){if(super(),this.lengthBits=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`BitVector[${e}]`,this.chunkCount=Math.ceil(this.lengthBits/8/32),this.maxChunkCount=this.chunkCount,this.depth=n.maxChunksToDepth(this.chunkCount),this.fixedSize=Math.ceil(this.lengthBits/8),this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.zeroBitsMask=e%8==0?0:255&255<<e%8}static named(e,t){return new(s.namedClass(h,t.typeName))(e,t)}defaultValue(){return o.BitArray.fromBitLen(this.lengthBits)}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),t+this.fixedSize}value_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),new o.BitArray(Uint8Array.prototype.slice.call(e.uint8Array,t,r),this.lengthBits)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){const n=i.getNodesAtDepth(r,this.depth,0,this.chunkCount);return i.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,n),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),i.packedRootsBytesToNode(this.depth,e.dataView,t,r)}tree_getByteLen(){return this.fixedSize}assertValidLength(e,t,r){const i=r-t;if(r-t!==this.fixedSize)throw Error(`Invalid BitVector size ${i} != ${this.fixedSize}`);if(this.zeroBitsMask>0&&(e[r-1]&this.zeroBitsMask)>0)throw Error("BitVector: nonzero bits past length")}}t.BitVectorType=h},12034:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanType=void 0;const i=r(56567),n=r(61425),s=r(70645);class o extends s.BasicType{constructor(e){super(),this.byteLength=1,this.itemsPerChunk=32,this.fixedSize=1,this.minSize=1,this.maxSize=1,this.typeName=e?.typeName??"boolean"}static named(e){return new(n.namedClass(o,e.typeName))(e)}defaultValue(){return!1}value_serializeToBytes(e,t,r){return e.uint8Array[t]=r?1:0,t+1}value_deserializeFromBytes(e,t,r){switch(this.assertValidSize(r-t),e.uint8Array[t]){case 1:return!0;case 0:return!1;default:throw new Error(`Boolean: invalid value: ${e.uint8Array[t]}`)}}tree_serializeToBytes(e,t,r){return e.uint8Array[t]=r.getUint(4,0),t+1}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const n=e.uint8Array[t];if(n>1)throw Error(`Boolean: invalid value ${n}`);return i.LeafNode.fromUint32(n)}tree_getFromNode(e){return 1===e.getUint(4,0)}tree_setToNode(e,t){e.setUint(4,0,t?1:0)}tree_getFromPackedNode(e,t){const r=t%this.itemsPerChunk;return 0!==e.getUint(1,r)}tree_setToPackedNode(e,t,r){const i=t%this.itemsPerChunk;e.setUint(1,i,r?1:0)}fromJson(e){if("boolean"!=typeof e)throw Error(`JSON invalid type ${typeof e} expected boolean`);return e}toJson(e){return e}}t.BooleanType=o},54316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteArrayType=void 0;const i=r(56567),n=r(71518),s=r(90995),o=r(18715);class a extends o.CompositeType{constructor(){super(...arguments),this.isViewMutable=!1}defaultValue(){return new Uint8Array(this.minSize)}getView(e){return this.getViewDU(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}commitView(e){return this.commitViewDU(e)}commitViewDU(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}cacheOfViewDU(){}toView(e){return e}toViewDU(e){return e}value_serializeToBytes(e,t,r){return e.uint8Array.set(r,t),t+r.length}value_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),Uint8Array.prototype.slice.call(e.uint8Array,t,r)}getRoots(e){return s.splitIntoRootChunks(e)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request ByteArray complete data")}getIndexProperty(){throw Error("Must only request ByteArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){const r=this.tree_getByteLen(t),n=Math.ceil(r/32),s=i.concatGindices([e,i.toGindex(this.depth,BigInt(0))]),a=new Array(n);for(let e=0,t=s;e<n;e++,t++)a[e]=t;return this.isList&&a.push(i.concatGindices([e,o.LENGTH_GINDEX])),a}fromJson(e){const t=n.fromHexString(e);return this.assertValidSize(t.length),t}toJson(e){return n.toHexString(e)}clone(e){return e}equals(e,t){return n.byteArrayEquals(e,t)}}t.ByteArrayType=a},13568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteListType=void 0;const i=r(56567),n=r(90995),s=r(61425),o=r(63191),a=r(54316);class h extends a.ByteArrayType{constructor(e,t){if(super(),this.limitBytes=e,this.fixedSize=null,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`ByteList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBytes/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.minSize=0,this.maxSize=this.limitBytes}static named(e,t){return new(s.namedClass(h,t.typeName))(e,t)}value_serializedSize(e){return e.length}tree_serializedSize(e){return o.getLengthFromRootNode(e)}tree_serializeToBytes(e,t,r){const n=o.getChunksNodeFromRootNode(r),s=o.getLengthFromRootNode(r),a=Math.ceil(s/32),h=i.getNodesAtDepth(n,this.chunkDepth,0,a);return i.packedNodeRootsToBytes(e.dataView,t,s,h),t+s}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const n=i.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r);return o.addLengthNode(n,r-t)}tree_getByteLen(e){if(!e)throw new Error("ByteListType requires a node to get leaves");return o.getLengthFromRootNode(e)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.length)}assertValidSize(e){if(e>this.limitBytes)throw Error(`ByteList invalid size ${e} limit ${this.limitBytes}`)}}t.ByteListType=h},50245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteVectorType=void 0;const i=r(56567),n=r(90995),s=r(61425),o=r(54316);class a extends o.ByteArrayType{constructor(e,t){if(super(),this.lengthBytes=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`ByteVector[${e}]`,this.maxChunkCount=Math.ceil(this.lengthBytes/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=this.lengthBytes,this.minSize=this.fixedSize,this.maxSize=this.fixedSize}static named(e,t){return new(s.namedClass(a,t.typeName))(e,t)}value_serializedSize(){return this.fixedSize}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){const n=i.getNodesAtDepth(r,this.chunkDepth,0,this.maxChunkCount);return i.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,n),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),i.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r)}tree_getByteLen(){return this.lengthBytes}assertValidSize(e){if(e!==this.lengthBytes)throw Error(`ByteVector invalid size ${e} expected ${this.lengthBytes}`)}}t.ByteVectorType=a},18715:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompositeType=t.CompositeType=t.LENGTH_GINDEX=void 0;const i=r(56567),n=r(71518),s=r(90995),o=r(18081),a=r(57451);t.LENGTH_GINDEX=BigInt(3);const h=Symbol("ssz_cached_permanent_root");class l extends a.Type{constructor(e){super(),this.cachePermanentRootStruct=e,this.isBasic=!1}defaultView(){return this.toView(this.defaultValue())}defaultViewDU(){return this.toViewDU(this.defaultValue())}deserializeToView(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getView(new i.Tree(r))}deserializeToViewDU(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getViewDU(r)}toView(e){const t=this.value_toTree(e);return this.getView(new i.Tree(t))}toViewDU(e){const t=this.value_toTree(e);return this.getViewDU(t)}toValueFromView(e){const t=this.commitView(e);return this.tree_toValue(t)}toValueFromViewDU(e){const t=this.commitViewDU(e);return this.tree_toValue(t)}toViewFromViewDU(e){const t=this.commitViewDU(e);return this.getView(new i.Tree(t))}toViewDUFromView(e){const t=this.commitView(e);return this.getViewDU(t)}hashTreeRoot(e){if(this.cachePermanentRootStruct){const t=e[h];if(t)return t}const t=s.merkleize(this.getRoots(e),this.maxChunkCount);return this.cachePermanentRootStruct&&(e[h]=t),t}getCachedPermanentRoot(e){return e[h]}createFromProof(e,t){const r=i.Tree.createFromProof(e).rootNode,s=o.treePostProcessFromProofNode(r,this);if(void 0!==t&&!n.byteArrayEquals(s.root,t))throw new Error("Proof does not match trusted root");return this.getView(new i.Tree(s))}tree_createProof(e,t){const r=this.tree_createProofGindexes(e,t);return i.createProof(e,{type:i.ProofType.treeOffset,gindices:r})}tree_createProofGindexes(e,t){const r=[];for(const n of t){const{type:t,gindex:s}=this.getPathInfo(n);if(u(t)){const n=t.tree_getLeafGindices(s,null===t.fixedSize?i.getNode(e,s):void 0);for(const e of n)r.push(e)}else r.push(s)}return r}getPathInfo(e){const t=[];let r=this;for(const i of e){if(r.isBasic)throw new Error("Invalid path: cannot navigate beyond a basic type");const e=r.getPropertyGindex(i);null!==e&&(t.push(e),r=r.getPropertyType(i))}return{type:r,gindex:i.concatGindices(t)}}tree_fromProofNode(e){return{node:e,done:!1}}}function u(e){return!e.isBasic}t.CompositeType=l,t.isCompositeType=u},25039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderContainerTypeName=t.precomputeJsonKey=t.ContainerType=void 0;const i=r(56567),n=r(90995),s=r(61425),o=r(18715),a=r(37685),h=r(68865),l=r(79705);class u extends o.CompositeType{constructor(e,t){super(t?.cachePermanentRootStruct),this.fields=e,this.opts=t,this.isList=!1,this.isViewMutable=!0,this.typeName=t?.typeName??c(e),this.maxChunkCount=Object.keys(e).length,this.depth=n.maxChunksToDepth(this.maxChunkCount),this.fieldsEntries=[];for(const r of Object.keys(e))this.fieldsEntries.push({fieldName:r,fieldType:this.fields[r],jsonKey:d(r,t?.casingMap,t?.jsonCase),gindex:i.toGindex(this.depth,BigInt(this.fieldsEntries.length))});if(0===this.fieldsEntries.length)throw Error("Container must have > 0 fields");this.fieldsGindex={};for(let e=0;e<this.fieldsEntries.length;e++)this.fieldsGindex[this.fieldsEntries[e].fieldName]=i.toGindex(this.depth,BigInt(e));this.jsonKeyToFieldName={};for(const{fieldName:e,jsonKey:t}of this.fieldsEntries)this.jsonKeyToFieldName[t]=e;const{minLen:r,maxLen:s,fixedSize:o}=function(e){let t=0,r=0,i=0;for(const n of Object.values(e))t+=n.minSize,r+=n.maxSize,null===n.fixedSize?(t+=4,r+=4,i=null):null!==i&&(i+=n.fixedSize);return{minLen:t,maxLen:r,fixedSize:i}}(e);this.minSize=r,this.maxSize=s,this.fixedSize=o;const{isFixedLen:l,fieldRangesFixedLen:u,variableOffsetsPosition:f,fixedEnd:p}=function(e){const t=[],r=[],i=[];let n=0;for(const s of Object.values(e))t.push(null!==s.fixedSize),null===s.fixedSize?(i.push(n),n+=4):(r.push({start:n,end:n+s.fixedSize}),n+=s.fixedSize);return{isFixedLen:t,fieldRangesFixedLen:r,variableOffsetsPosition:i,fixedEnd:n}}(e);this.isFixedLen=l,this.fieldRangesFixedLen=u,this.variableOffsetsPosition=f,this.fixedEnd=p,this.TreeView=t?.getContainerTreeViewClass?.(this)??a.getContainerTreeViewClass(this),this.TreeViewDU=t?.getContainerTreeViewDUClass?.(this)??h.getContainerTreeViewDUClass(this)}static named(e,t){return new(s.namedClass(u,t.typeName))(e,t)}defaultValue(){const e={};for(const{fieldName:t,fieldType:r}of this.fieldsEntries)e[t]=r.defaultValue();return e}getView(e){return new this.TreeView(this,e)}getViewDU(e,t){return new this.TreeViewDU(this,e,t)}cacheOfViewDU(e){return e.cache}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}value_serializedSize(e){let t=0;for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];t+=null===n.fixedSize?4+n.value_serializedSize(e[i]):n.fixedSize}return t}value_serializeToBytes(e,t,r){let i=t,n=t+this.fixedEnd;for(let s=0;s<this.fieldsEntries.length;s++){const{fieldName:o,fieldType:a}=this.fieldsEntries[s];null===a.fixedSize?(e.dataView.setUint32(i,n-t,!0),i+=4,n=a.value_serializeToBytes(e,n,r[o])):i=a.value_serializeToBytes(e,i,r[o])}return n}value_deserializeFromBytes(e,t,r){const i=this.getFieldRanges(e.dataView,t,r),n={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:s,fieldType:o}=this.fieldsEntries[r],a=i[r];n[s]=o.value_deserializeFromBytes(e,t+a.start,t+a.end)}return n}tree_serializedSize(e){let t=0;const r=i.getNodesAtDepth(e,this.depth,0,this.fieldsEntries.length);for(let e=0;e<this.fieldsEntries.length;e++){const{fieldType:i}=this.fieldsEntries[e],n=r[e];t+=null===i.fixedSize?4+i.tree_serializedSize(n):i.fixedSize}return t}tree_serializeToBytes(e,t,r){let n=t,s=t+this.fixedEnd;const o=i.getNodesAtDepth(r,this.depth,0,this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldType:i}=this.fieldsEntries[r],a=o[r];null===i.fixedSize?(e.dataView.setUint32(n,s-t,!0),n+=4,s=i.tree_serializeToBytes(e,s,a)):n=i.tree_serializeToBytes(e,n,a)}return s}tree_deserializeFromBytes(e,t,r){const n=this.getFieldRanges(e.dataView,t,r),s=new Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldType:i}=this.fieldsEntries[r],o=n[r];s[r]=i.tree_deserializeFromBytes(e,t+o.start,t+o.end)}return i.subtreeFillToContents(s,this.depth)}getRoots(e){const t=new Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];t[r]=n.hashTreeRoot(e[i])}return t}getPropertyGindex(e){const t=this.fieldsGindex[e]??this.fieldsGindex[this.jsonKeyToFieldName[e]];if(void 0===t)throw Error(`Unknown container property ${e}`);return t}getPropertyType(e){const t=this.fields[e]??this.fields[this.jsonKeyToFieldName[e]];if(void 0===t)throw Error(`Unknown container property ${e}`);return t}getIndexProperty(e){return e>=this.fieldsEntries.length?null:this.fieldsEntries[e].fieldName}tree_getLeafGindices(e,t){const r=[];for(let n=0;n<this.fieldsEntries.length;n++){const{fieldName:s,fieldType:o}=this.fieldsEntries[n],a=this.fieldsGindex[s],h=i.concatGindices([e,a]);if(o.isBasic)r.push(h);else{const e=o;if(null===o.fixedSize){if(!t)throw new Error("variable type requires tree argument to get leaves");r.push(...e.tree_getLeafGindices(h,i.getNode(t,a)))}else r.push(...e.tree_getLeafGindices(h))}}return r}fromJson(e){if("object"!=typeof e)throw Error("JSON must be of type object");if(null===e)throw Error("JSON must not be null");const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n,jsonKey:s}=this.fieldsEntries[r],o=e[s];if(void 0===o)throw Error(`JSON expected key ${s} is undefined`);t[i]=n.fromJson(o)}return t}toJson(e){const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n,jsonKey:s}=this.fieldsEntries[r];t[s]=n.toJson(e[i])}return t}clone(e){const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];t[i]=n.clone(e[i])}return t}equals(e,t){for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:i,fieldType:n}=this.fieldsEntries[r];if(!n.equals(e[i],t[i]))return!1}return!0}getFieldRanges(e,t,r){if(0===this.variableOffsetsPosition.length){const e=r-t;if(e!==this.fixedEnd)throw Error(`${this.typeName} size ${e} not equal fixed size ${this.fixedEnd}`);return this.fieldRangesFixedLen}const i=function(e,t,r,i,n){const s=r-t,o=new Array(n.length);for(let r=0;r<n.length;r++){const a=e.getUint32(t+n[r],!0);if(a>s)throw new Error(`Offset out of bounds ${a} > ${s}`);if(0===r){if(a!==i)throw new Error(`First offset must equal to fixedEnd ${a} != ${i}`)}else if(a<o[r-1])throw new Error(`Offsets must be increasing ${a} < ${o[r-1]}`);o[r]=a}return o}(e,t,r,this.fixedEnd,this.variableOffsetsPosition);i.push(r-t);let n=0,s=0;const o=new Array(this.isFixedLen.length);for(let e=0;e<this.isFixedLen.length;e++)this.isFixedLen[e]?o[e]=this.fieldRangesFixedLen[s++]:(o[e]={start:i[n],end:i[n+1]},n++);return o}}function d(e,t,r){if(t){const r=t[e];if(void 0===r)throw Error(`casingMap[${e}] not defined`);return r}return r?l.Case[r](e):e}function c(e,t="Container"){return`${t}({${Object.keys(e).map((t=>`${t}: ${e[t].typeName}`)).join(", ")}})`}t.ContainerType=u,t.precomputeJsonKey=d,t.renderContainerTypeName=c},73261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerNodeStructType=void 0;const i=r(18715),n=r(25039),s=r(61425),o=r(81225),a=r(84320),h=r(8747);class l extends n.ContainerType{constructor(e,t){super(e,{typeName:t?.typeName??n.renderContainerTypeName(e,"ContainerNodeStruct"),...t,getContainerTreeViewClass:o.getContainerTreeViewClass,getContainerTreeViewDUClass:a.getContainerTreeViewDUClass}),this.fields=e;for(const{fieldName:e,fieldType:t}of this.fieldsEntries)if(i.isCompositeType(t)&&t.isViewMutable)throw Error(`ContainerNodeStructType field '${e}' ${t.typeName} view is mutable`)}static named(e,t){return new(s.namedClass(n.ContainerType,t.typeName))(e,t)}tree_serializedSize(e){return this.value_serializedSize(e.value)}tree_serializeToBytes(e,t,r){const{value:i}=r;return this.value_serializeToBytes(e,t,i)}tree_deserializeFromBytes(e,t,r){const i=this.value_deserializeFromBytes(e,t,r);return new h.BranchNodeStruct(this.valueToTree.bind(this),i)}getPropertyGindex(){return null}tree_fromProofNode(e){const t=new Uint8Array(super.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);super.tree_serializeToBytes({uint8Array:t,dataView:r},0,e);const i=this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length);return{node:new h.BranchNodeStruct(this.valueToTree.bind(this),i),done:!0}}tree_toValue(e){return e.value}value_toTree(e){return new h.BranchNodeStruct(this.valueToTree.bind(this),e)}valueToTree(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),super.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}}t.ContainerNodeStructType=l},26866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListBasicType=void 0;const i=r(63191),n=r(90995),s=r(61425),o=r(19291),a=r(61828),h=r(89659);class l extends h.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,!e.isBasic)throw Error("elementType must be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(this.limit*e.byteLength/32),this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=this.limit*e.maxSize}static named(e,t,r){return new(s.namedClass(l,r.typeName))(e,t,r)}getView(e){return new o.ListBasicTreeView(this,e)}getViewDU(e,t){return new a.ListBasicTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return e.length*this.elementType.byteLength}value_serializeToBytes(e,t,r){return i.value_serializeToBytesArrayBasic(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return i.value_deserializeFromBytesArrayBasic(this.elementType,e,t,r,this)}tree_serializedSize(e){return this.tree_getLength(e)*this.elementType.byteLength}tree_serializeToBytes(e,t,r){const n=this.tree_getChunksNode(r),s=this.tree_getLength(r);return i.tree_serializeToBytesArrayBasic(this.elementType,s,this.chunkDepth,e,t,n)}tree_deserializeFromBytes(e,t,r){return i.tree_deserializeFromBytesArrayBasic(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return e.right.getUint(4,0)}tree_setLength(e,t){e.rootNode=i.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return i.setChunksNode(e,t,r)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.value_serializeToBytesArrayBasic(this.elementType,e.length,{uint8Array:t,dataView:r},0,e),n.splitIntoRootChunks(t)}}t.ListBasicType=l},5189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListCompositeType=void 0;const i=r(90995),n=r(61425),s=r(63191),o=r(50404),a=r(11783),h=r(82029),l=r(89659);class u extends l.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.itemsPerChunk=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,e.isBasic)throw Error("elementType must not be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.maxChunkCount=this.limit,this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=o.maxSizeArrayComposite(e,this.limit)}static named(e,t,r){return new(n.namedClass(u,r.typeName))(e,t,r)}getView(e){return new a.ListCompositeTreeView(this,e)}getViewDU(e,t){return new h.ListCompositeTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return o.value_serializedSizeArrayComposite(this.elementType,e.length,e)}value_serializeToBytes(e,t,r){return o.value_serializeToBytesArrayComposite(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return o.value_deserializeFromBytesArrayComposite(this.elementType,e,t,r,this)}tree_serializedSize(e){const t=this.tree_getChunksNode(e),r=this.tree_getLength(e);return o.tree_serializedSizeArrayComposite(this.elementType,r,this.chunkDepth,t)}tree_serializeToBytes(e,t,r){const i=this.tree_getChunksNode(r),n=this.tree_getLength(r);return o.tree_serializeToBytesArrayComposite(this.elementType,n,this.chunkDepth,i,e,t)}tree_deserializeFromBytes(e,t,r){return o.tree_deserializeFromBytesArrayComposite(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return s.getLengthFromRootNode(e)}tree_setLength(e,t){e.rootNode=s.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return s.setChunksNode(e,t,r)}hashTreeRoot(e){return i.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){return o.value_getRootsArrayComposite(this.elementType,e.length,e)}}t.ListCompositeType=u},81638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoneType=void 0;const i=r(56567),n=r(70645);class s extends n.BasicType{constructor(){super(...arguments),this.typeName="none",this.byteLength=0,this.itemsPerChunk=32,this.fixedSize=0,this.minSize=0,this.maxSize=0}defaultValue(){return null}value_serializeToBytes(e,t,r){return t}value_deserializeFromBytes(e,t){return null}tree_serializeToBytes(e,t,r){return t}tree_deserializeFromBytes(e,t,r){return i.zeroNode(0)}tree_getFromNode(e){return null}tree_setToNode(e,t){}tree_getFromPackedNode(e,t){return null}tree_setToPackedNode(e,t,r){}fromJson(e){if(null!==e)throw Error("JSON invalid type none must be null");return null}toJson(e){return null}}t.NoneType=s},30436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UintBigintType=t.UintNumberType=t.uintBigintByteLens=t.uintNumberByteLens=void 0;const i=r(56567),n=r(61425),s=r(70645),o=BigInt(Number.MAX_SAFE_INTEGER),a=BigInt(2)**BigInt(64),h=BigInt(2)**BigInt(128),l=BigInt(2)**BigInt(192),u=2**32,d=4294967295;t.uintNumberByteLens=[1,2,4,8],t.uintBigintByteLens=[1,2,4,8,16,32];class c extends s.BasicType{constructor(e,t){if(super(),this.byteLength=e,e>8)throw Error("UintNumber byteLength limit is 8");if(Math.log2(e)%1!=0)throw Error("byteLength must be a power of 2");this.typeName=t?.typeName??"uint"+8*e,t?.clipInfinity&&(this.typeName+="Inf"),t?.setBitwiseOR&&(this.typeName+="OR"),this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e,this.maxDecimalStr=(BigInt(2)**BigInt(8*this.byteLength)-BigInt(1)).toString(10),this.clipInfinity=!0===t?.clipInfinity,this.setBitwiseOR=!0===t?.setBitwiseOR}static named(e,t){return new(n.namedClass(c,t.typeName))(e,t)}defaultValue(){return 0}value_serializeToBytes({dataView:e},t,r){switch(this.byteLength){case 1:e.setInt8(t,r);break;case 2:e.setUint16(t,r,!0);break;case 4:e.setUint32(t,r,!0);break;case 8:r===1/0?(e.setUint32(t,4294967295),e.setUint32(t+4,4294967295)):(e.setUint32(t,4294967295&r,!0),e.setUint32(t+4,r/u&4294967295,!0))}return t+this.byteLength}value_deserializeFromBytes({dataView:e},t,r){switch(this.assertValidSize(r-t),this.byteLength){case 1:return e.getUint8(t);case 2:return e.getUint16(t,!0);case 4:return e.getUint32(t,!0);case 8:{const r=e.getUint32(t,!0),i=e.getUint32(t+4,!0);return i===d&&r===d&&this.clipInfinity?1/0:i*u+r}}}tree_serializeToBytes(e,t,r){const i=r.getUint(this.byteLength,0,this.clipInfinity);return this.value_serializeToBytes(e,t,i),t+this.byteLength}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const n=this.value_deserializeFromBytes(e,t,r),s=i.LeafNode.fromZero();return s.setUint(this.byteLength,0,n,this.clipInfinity),s}tree_getFromNode(e){return e.getUint(this.byteLength,0,this.clipInfinity)}tree_setToNode(e,t){this.tree_setToPackedNode(e,0,t)}tree_getFromPackedNode(e,t){const r=this.byteLength*(t%this.itemsPerChunk);return e.getUint(this.byteLength,r,this.clipInfinity)}tree_setToPackedNode(e,t,r){const i=this.byteLength*(t%this.itemsPerChunk);this.setBitwiseOR?e.bitwiseOrUint(this.byteLength,i,r):e.setUint(this.byteLength,i,r,this.clipInfinity)}fromJson(e){if("number"==typeof e)return e;if("string"==typeof e){if(this.clipInfinity&&e===this.maxDecimalStr)return 1/0;{const t=parseInt(e,10);if(isNaN(t))throw Error("JSON invalid number isNaN");if(t>Number.MAX_SAFE_INTEGER)throw Error("JSON invalid number > MAX_SAFE_INTEGER");return t}}if("bigint"==typeof e){if(e>o)throw Error("JSON invalid number > MAX_SAFE_INTEGER_BN");return Number(e)}throw Error(`JSON invalid type ${typeof e} expected number`)}toJson(e){return e===1/0?this.maxDecimalStr:e.toString(10)}}t.UintNumberType=c;class f extends s.BasicType{constructor(e,t){if(super(),this.byteLength=e,e>32)throw Error("UintBigint byteLength limit is 32");if(Math.log2(e)%1!=0)throw Error("byteLength must be a power of 2");this.typeName=t?.typeName??"uintBigint"+8*e,this.byteLength=e,this.itemsPerChunk=32/this.byteLength,this.fixedSize=e,this.minSize=e,this.maxSize=e}static named(e,t){return new(n.namedClass(f,t.typeName))(e,t)}defaultValue(){return BigInt(0)}value_serializeToBytes({dataView:e},t,r){switch(this.byteLength){case 1:e.setInt8(t,Number(r));break;case 2:e.setUint16(t,Number(r),!0);break;case 4:e.setUint32(t,Number(r),!0);break;case 8:e.setBigUint64(t,r,!0);break;default:for(let i=0;i<this.byteLength;i+=8){i>0&&(r/=a);const n=BigInt.asUintN(64,r);e.setBigUint64(t+i,n,!0)}}return t+this.byteLength}value_deserializeFromBytes({dataView:e},t,r){const i=r-t;if(i!==this.byteLength)throw Error(`Invalid size ${i} expected ${this.byteLength}`);switch(this.byteLength){case 1:return BigInt(e.getUint8(t));case 2:return BigInt(e.getUint16(t,!0));case 4:return BigInt(e.getUint32(t,!0));case 8:return e.getBigUint64(t,!0);case 16:{const r=e.getBigUint64(t,!0);return e.getBigUint64(t+8,!0)*a+r}case 32:{const r=e.getBigUint64(t,!0),i=e.getBigUint64(t+8,!0),n=e.getBigUint64(t+16,!0);return e.getBigUint64(t+24,!0)*l+n*h+i*a+r}}}tree_serializeToBytes(e,t,r){const i=r.getUintBigint(this.byteLength,0);return this.value_serializeToBytes(e,t,i),t+this.byteLength}tree_deserializeFromBytes(e,t,r){const n=r-t;if(n!==this.byteLength)throw Error(`Invalid size ${n} expected ${this.byteLength}`);const s=this.value_deserializeFromBytes(e,t,r),o=i.LeafNode.fromZero();return o.setUintBigint(this.byteLength,0,s),o}tree_getFromNode(e){return e.getUintBigint(this.byteLength,0)}tree_setToNode(e,t){this.tree_setToPackedNode(e,0,t)}tree_getFromPackedNode(e,t){const r=this.byteLength*(t%this.itemsPerChunk);return e.getUintBigint(this.byteLength,r)}tree_setToPackedNode(e,t,r){const i=this.byteLength*(t%this.itemsPerChunk);e.setUintBigint(this.byteLength,i,r)}fromJson(e){if("bigint"==typeof e)return e;if("string"==typeof e||"number"==typeof e)return BigInt(e);throw Error(`JSON invalid type ${typeof e} expected bigint`)}toJson(e){return e.toString(10)}}t.UintBigintType=f},51851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnionType=void 0;const i=r(56567),n=r(90995),s=r(61425),o=r(18715),a=r(63191),h=r(81638),l=BigInt(2),u=BigInt(3);class d extends o.CompositeType{constructor(e,t){if(super(),this.types=e,this.depth=1,this.maxChunkCount=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,e.length>=128)throw Error("Must have less than 128 types");if(0===e.length)throw Error("Must have at least 1 type option");if(e[0]instanceof h.NoneType&&e.length<2)throw Error("Must have at least 2 type options if the first is None");for(let t=1;t<e.length;t++)if(e[t]instanceof h.NoneType)throw Error("None may only be the first option");this.typeName=t?.typeName??`Union[${e.map((e=>e.typeName)).join(",")}]`;const r=[],i=[];for(const t of e)r.push(t.minSize),i.push(t.maxSize);this.minSize=1+Math.min(...r),this.maxSize=1+Math.max(...i),this.maxSelector=this.types.length-1}static named(e,t){return new(s.namedClass(d,t.typeName))(e,t)}defaultValue(){return{selector:0,value:this.types[0].defaultValue()}}getView(e){return this.tree_toValue(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}cacheOfViewDU(){}commitView(e){return this.value_toTree(e)}commitViewDU(e){return this.value_toTree(e)}value_serializedSize(e){return 1+this.types[e.selector].value_serializedSize(e.value)}value_serializeToBytes(e,t,r){return e.uint8Array[t]=r.selector,this.types[r.selector].value_serializeToBytes(e,t+1,r.value)}value_deserializeFromBytes(e,t,r){const i=e.uint8Array[t];if(i>this.maxSelector)throw Error(`Invalid selector ${i}`);return{selector:i,value:this.types[i].value_deserializeFromBytes(e,t+1,r)}}tree_serializedSize(e){const t=a.getLengthFromRootNode(e),r=e.left;return 1+this.types[t].value_serializedSize(r)}tree_serializeToBytes(e,t,r){const i=a.getLengthFromRootNode(r),n=r.left;return e.uint8Array[t]=i,this.types[i].tree_serializeToBytes(e,t+1,n)}tree_deserializeFromBytes(e,t,r){const i=e.uint8Array[t];if(i>this.maxSelector)throw Error(`Invalid selector ${i}`);const n=this.types[i].tree_deserializeFromBytes(e,t+1,r);return a.addLengthNode(n,i)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.selector)}getRoots(e){return[this.types[e.selector].hashTreeRoot(e.value)]}getPropertyGindex(e){switch(e){case"value":return l;case"selector":return u;default:throw new Error(`Invalid Union type property ${e}`)}}getPropertyType(){throw new Error("Not applicable for Union type")}getIndexProperty(e){if(0===e)return"value";if(1===e)return"selector";throw Error("Union index of out bounds")}tree_getLeafGindices(e,t){if(!t)throw Error("rootNode required");const r=[i.concatGindices([e,u])],n=a.getLengthFromRootNode(t),s=this.types[n],h=i.concatGindices([e,l]);return o.isCompositeType(s)?r.push(...s.tree_getLeafGindices(h,i.getNode(t,l))):r.push(h),r}fromJson(e){if("object"!=typeof e)throw new Error("JSON must be of type object");const t=e;if("number"!=typeof t.selector)throw new Error("Invalid JSON Union selector must be number");const r=this.types[t.selector];if(!r)throw new Error("Invalid JSON Union selector out of range");return{selector:t.selector,value:r.toJson(t.value)}}toJson(e){return{selector:e.selector,value:this.types[e.selector].toJson(e.value)}}clone(e){return{selector:e.selector,value:this.types[e.selector].clone(e.value)}}equals(e,t){return e.selector===t.selector&&this.types[e.selector].equals(e.value,t.value)}}t.UnionType=d},55021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorBasicType=void 0;const i=r(90995),n=r(61425),s=r(63191),o=r(77733),a=r(63341),h=r(89659);class l extends h.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.length=t,this.isList=!1,this.isViewMutable=!0,!e.isBasic)throw Error("elementType must be basic");if(0===t)throw Error("Vector length must be > 0");this.typeName=r?.typeName??`Vector[${e.typeName}, ${t}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(t*e.byteLength/32),this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=t*e.byteLength,this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.defaultLen=t}static named(e,t,r){return new(n.namedClass(l,r.typeName))(e,t,r)}getView(e){return new o.ArrayBasicTreeView(this,e)}getViewDU(e,t){return new a.ArrayBasicTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,t,r){return s.value_serializeToBytesArrayBasic(this.elementType,this.length,e,t,r)}value_deserializeFromBytes(e,t,r){return s.value_deserializeFromBytesArrayBasic(this.elementType,e,t,r,this)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){return s.tree_serializeToBytesArrayBasic(this.elementType,this.length,this.depth,e,t,r)}tree_deserializeFromBytes(e,t,r){return s.tree_deserializeFromBytesArrayBasic(this.elementType,this.depth,e,t,r,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,t){return t}getRoots(e){const t=new Uint8Array(this.fixedSize),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return s.value_serializeToBytesArrayBasic(this.elementType,this.length,{uint8Array:t,dataView:r},0,e),i.splitIntoRootChunks(t)}}t.VectorBasicType=l},54013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorCompositeType=void 0;const i=r(90995),n=r(61425),s=r(50404),o=r(56330),a=r(82309),h=r(89659);class l extends h.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.length=t,this.itemsPerChunk=1,this.isList=!1,this.isViewMutable=!0,e.isBasic)throw Error("elementType must not be basic");if(0===t)throw Error("Vector length must be > 0");this.typeName=r?.typeName??`Vector[${e.typeName}, ${t}]`,this.maxChunkCount=t,this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=null===e.fixedSize?null:t*e.fixedSize,this.minSize=s.minSizeArrayComposite(e,t),this.maxSize=s.maxSizeArrayComposite(e,t),this.defaultLen=t}static named(e,t,r){return new(n.namedClass(l,r.typeName))(e,t,r)}getView(e){return new o.ArrayCompositeTreeView(this,e)}getViewDU(e,t){return new a.ArrayCompositeTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return s.value_serializedSizeArrayComposite(this.elementType,this.length,e)}value_serializeToBytes(e,t,r){return s.value_serializeToBytesArrayComposite(this.elementType,this.length,e,t,r)}value_deserializeFromBytes(e,t,r){return s.value_deserializeFromBytesArrayComposite(this.elementType,e,t,r,this)}tree_serializedSize(e){return s.tree_serializedSizeArrayComposite(this.elementType,this.length,this.depth,e)}tree_serializeToBytes(e,t,r){return s.tree_serializeToBytesArrayComposite(this.elementType,this.length,this.depth,r,e,t)}tree_deserializeFromBytes(e,t,r){return s.tree_deserializeFromBytesArrayComposite(this.elementType,this.depth,e,t,r,this)}tree_getLength(){return this.length}tree_setLength(){}tree_getChunksNode(e){return e}tree_setChunksNode(e,t){return t}getRoots(e){return s.value_getRootsArrayComposite(this.elementType,this.length,e)}}t.VectorCompositeType=l},71518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayEquals=t.fromHexString=t.toHexString=void 0;const r=new Array(256);t.toHexString=function(e){let t="0x";for(const i of e)r[i]||(r[i]=i<16?"0"+i.toString(16):i.toString(16)),t+=r[i];return t},t.fromHexString=function(e){if("string"!=typeof e)throw new Error(`hex argument type ${typeof e} must be of type string`);if(e.startsWith("0x")&&(e=e.slice(2)),e.length%2!=0)throw new Error(`hex string length ${e.length} must be multiple of 2`);const t=e.length/2,r=new Uint8Array(t);for(let i=0;i<t;i++){const t=parseInt(e.slice(2*i,2*(i+1)),16);r[i]=t}return r},t.byteArrayEquals=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}},90995:(e,t,r)=>{"use strict";var i=r(48834).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.nextPowerOf2=t.maxChunksToDepth=t.bitLength=t.mixInLength=t.splitIntoRootChunks=t.merkleize=t.hash64=void 0;const n=r(29457),s=r(80038);function o(e,t){return n.hasher.digest64(e,t)}function a(e){return 0===e?0:Math.floor(Math.log2(e))+1}function h(e){return e<=0?1:Math.pow(2,a(e-1))}t.hash64=o,t.merkleize=function(e,t){const r=a(h(t)-1);if(0==e.length)return s.zeroHash(r);let i=e.length;for(let t=0;t<r;t++){const r=i%2,n=i+r;for(let n=0;n<r;n++)e[i+n]=s.zeroHash(t);for(let t=0;t<n;t+=2)e[t/2]=o(e[t],e[t+1]);i=n/2}return e[0]},t.splitIntoRootChunks=function(e){const t=Math.ceil(e.length/32),r=new Array(t);for(let i=0;i<t;i++){const t=new Uint8Array(32);t.set(e.slice(32*i,32*(i+1))),r[i]=t}return r},t.mixInLength=function(e,t){const r=i.alloc(32);return r.writeUIntLE(t,0,6),o(e,r)},t.bitLength=a,t.maxChunksToDepth=function(e){return 0===e?0:Math.ceil(Math.log2(e))},t.nextPowerOf2=h},61425:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namedClass=void 0,t.namedClass=function(e,t){return new Function("superClass",`return class ${t} extends superClass {}`)(e)}},18081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.treePostProcessFromProofNode=void 0;const i=r(56567);function n(e){return!e.isBasic}function s(e){return""===e?0:parseInt(e,2)}t.treePostProcessFromProofNode=function e(t,r,o="",a=0){if(0===a){const e=r.tree_fromProofNode(t);if(e.done)return e.node;t=e.node}const h=r.depth===a;if(t.isLeaf()){if(h){const e=r.getIndexProperty(s(o));if(null===e)return t;const i=r.getPropertyType(e);return 1===i.maxChunkCount&&n(i)?i.tree_fromProofNode(t).node:t}return t}if(h){const i=r.getIndexProperty(s(o));if(null===i)return t;const a=r.getPropertyType(i);if(!n(a))throw Error("BranchNode does not map to CompositeType");const h=a.tree_fromProofNode(t);return h.done?h.node:e(h.node,a)}{const n=e(t.left,r,o+"0",a+1),s=e(t.right,r,o+"1",a+1);return n===t.left&&s===t.right?t:new i.BranchNode(n,s)}}},79705:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Case=void 0,t.Case={snake:e=>e.replace(/[^0-z]/g,"").replace(/[a-z][A-Z]|[0-9][A-Z]/g,(e=>e[0]+"_"+e[1].toLowerCase())),constant:e=>e.replace(/[^0-z]/g,"").replace(/[a-z][A-Z]|[0-9][A-Z]/g,(e=>e[0]+"_"+e[1])).toUpperCase(),pascal:e=>(e[0].toUpperCase()+e.slice(1)).replace(/[^0-z]/g,""),camel:e=>e[0].toLowerCase()+e.slice(1),header:e=>e[0].toUpperCase()+e.slice(1).replace(/[^0-z]/g,"").replace(/[a-z][A-Z]|[0-9][A-Z]/g,(e=>e[0]+"-"+e[1])),eth2:e=>t.Case.snake(e).replace(/(\d)$/,"_$1")}},80038:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zeroHash=void 0;const i=r(29457),n=[new Uint8Array(32)];t.zeroHash=function(e){if(e>=n.length)for(let t=n.length;t<=e;t++)n[t]=i.hasher.digest64(n[t-1],n[t-1]);return n[e]}},21714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUint8ByteToBitBooleanArray=t.BitArray=void 0;const r=new Array(256);class i{constructor(e,t){if(this.uint8Array=e,this.bitLen=t,e.length!==Math.ceil(t/8))throw Error("BitArray uint8Array length does not match bitLen")}static fromBitLen(e){return new i(new Uint8Array(Math.ceil(e/8)),e)}static fromSingleBit(e,t){const r=i.fromBitLen(e);return r.set(t,!0),r}static fromBoolArray(e){const t=i.fromBitLen(e.length);for(let r=0;r<e.length;r++)!0===e[r]&&t.set(r,!0);return t}clone(){return new i(Uint8Array.prototype.slice.call(this.uint8Array,0),this.bitLen)}get(e){const t=Math.floor(e/8),r=1<<e%8;return(this.uint8Array[t]&r)===r}set(e,t){if(e>=this.bitLen)throw Error(`BitArray set bitIndex ${e} beyond bitLen ${this.bitLen}`);const r=Math.floor(e/8),i=1<<e%8;let n=this.uint8Array[r];t?(n|=i,this.uint8Array[r]=n):(n&i)===i&&(n^=i,this.uint8Array[r]=n)}mergeOrWith(e){if(e.bitLen!==this.bitLen)throw Error("Must merge BitArrays of same bitLen");for(let t=0;t<this.uint8Array.length;t++)this.uint8Array[t]=this.uint8Array[t]|e.uint8Array[t]}intersectValues(e){const t=[];if(e.length!==this.bitLen)throw Error(`Must not intersect values of length ${e.length} != bitLen ${this.bitLen}`);const r=Math.floor(this.bitLen/8),i=this.bitLen%8,s=this.uint8Array;for(let i=0;i<r;i++){const r=n(s[i]);for(let n=0;n<8;n++)r[n]&&t.push(e[8*i+n])}if(i>0){const o=n(s[r]);for(let n=0;n<i;n++)o[n]&&t.push(e[8*r+n])}return t}getTrueBitIndexes(){const e=[],t=this.uint8Array;for(let r=0,i=t.length;r<i;r++){const i=n(t[r]);for(let t=0;t<8;t++)i[t]&&e.push(8*r+t)}return e}getSingleTrueBit(){let e=null;const t=this.uint8Array;for(let r=0,i=t.length;r<i;r++){if(0===t[r])continue;const i=n(t[r]);for(let t=0;t<8;t++)if(!0===i[t]){if(null!==e)return null;e=8*r+t}}return null===e?null:e}toBoolArray(){const e=new Array(this.bitLen);for(let t=0;t<this.bitLen;t++)e[t]=this.get(t);return e}}function n(e){return r[e]||(r[e]=function(e){const t=e.toString(2),r=t.length,i=new Array(8);for(let e=0;e<8;e++)i[e]=e<r&&"1"===t[r-e-1];return i}(e)),r[e]}t.BitArray=i,t.getUint8ByteToBitBooleanArray=n},62542:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeView=void 0;const i=r(56567);t.TreeView=class{serialize(){const e=new Uint8Array(this.type.tree_serializedSize(this.node)),t=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.type.tree_serializeToBytes({uint8Array:e,dataView:t},0,this.node),e}hashTreeRoot(){return this.node.root}createProof(e){return this.type.tree_createProof(this.node,e)}toValue(){return this.type.tree_toValue(this.node)}clone(){return this.type.getView(new i.Tree(this.node))}}},77733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayBasicTreeView=void 0;const i=r(56567),n=r(62542);class s extends n.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){const t=Math.floor(e/this.type.itemsPerChunk),r=this.tree.getNodeAtDepth(this.type.depth,t);return this.type.elementType.tree_getFromPackedNode(r,e)}set(e,t){const r=this.length;if(e>=r)throw Error(`Error setting index over length ${e} > ${r}`);const i=Math.floor(e/this.type.itemsPerChunk),n=this.tree.getNodeAtDepth(this.type.depth,i).clone();this.type.elementType.tree_setToPackedNode(n,e,t),this.tree.setNodeAtDepth(this.type.depth,i,n)}getAll(){const e=this.length,t=this.type.tree_getChunksNode(this.node),r=Math.ceil(e/this.type.itemsPerChunk),n=i.getNodesAtDepth(t,this.type.chunkDepth,0,r),s=new Array(e),o=this.type.itemsPerChunk,a=Math.floor(e/o),h=e%o;for(let e=0;e<a;e++){const t=n[e];for(let r=0;r<o;r++)s[e*o+r]=this.type.elementType.tree_getFromPackedNode(t,r)}if(h>0){const e=n[a];for(let t=0;t<h;t++)s[a*o+t]=this.type.elementType.tree_getFromPackedNode(e,t)}return s}}t.ArrayBasicTreeView=s},56330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayCompositeTreeView=void 0;const i=r(56567),n=r(62542);class s extends n.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get length(){return this.type.tree_getLength(this.tree.rootNode)}get node(){return this.tree.rootNode}get(e){const t=i.toGindexBitstring(this.type.depth,e),r=this.tree.getSubtree(t);return this.type.elementType.getView(r)}getReadonly(e){const t=i.toGindexBitstring(this.type.depth,e),r=new i.Tree(this.tree.getNode(t));return this.type.elementType.getView(r)}set(e,t){const r=this.length;if(e>=r)throw Error(`Error setting index over length ${e} > ${r}`);const i=this.type.elementType.commitView(t);this.tree.setNodeAtDepth(this.type.depth,e,i)}getAllReadonly(){const e=this.length,t=this.type.tree_getChunksNode(this.node),r=i.getNodesAtDepth(t,this.type.chunkDepth,0,e),n=new Array(e);for(let t=0;t<e;t++)n[t]=this.type.elementType.getView(new i.Tree(r[t]));return n}getAllReadonlyValues(){const e=this.length,t=this.type.tree_getChunksNode(this.node),r=i.getNodesAtDepth(t,this.type.chunkDepth,0,e),n=new Array(e);for(let t=0;t<e;t++)n[t]=this.type.elementType.tree_toValue(r[t]);return n}}t.ArrayCompositeTreeView=s},76572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitArrayTreeView=void 0;const i=r(62542);class n extends i.TreeView{constructor(e,t){super(),this.type=e,this.tree=t,this.bitArray=e.tree_toValue(t.rootNode)}get node(){return this.tree.rootNode}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,t){this.bitArray.set(e,t),this.tree.rootNode=this.type.value_toTree(this.bitArray)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}}t.BitArrayTreeView=n},37685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewClass=void 0;const i=r(56567),n=r(70645),s=r(18715),o=r(62542);class a extends o.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get node(){return this.tree.rootNode}}t.getContainerTreeViewClass=function(e){class t extends a{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:o,fieldType:a}=e.fieldsEntries[r];if(n.isBasicType(a))Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){const e=i.getNodeAtDepth(this.node,this.type.depth,r);return a.tree_getFromNode(e)},set:function(e){const t=i.getNodeAtDepth(this.node,this.type.depth,r).clone();a.tree_setToNode(t,e),this.tree.setNodeAtDepth(this.type.depth,r,t)}});else{if(!s.isCompositeType(a))throw Error(`Unknown fieldType ${a.typeName} for fieldName ${o}`);Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){const e=i.toGindexBitstring(this.type.depth,r);return a.getView(this.tree.getSubtree(e))},set:function(e){const t=a.commitView(e);this.tree.setNodeAtDepth(this.type.depth,r,t)}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},81225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewClass=void 0;const i=r(18715),n=r(8747),s=r(62542);class o extends s.TreeView{constructor(e,t){super(),this.type=e,this.tree=t}get node(){return this.tree.rootNode}}t.getContainerTreeViewClass=function(e){class t extends o{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:s,fieldType:o}=e.fieldsEntries[r];if(o.isBasic)Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){return this.tree.rootNode.value[s]},set:function(e){const t=this.tree.rootNode,r=this.type.clone(t.value);r[s]=e,this.tree.rootNode=new n.BranchNodeStruct(t.valueToNode,r)}});else{if(!i.isCompositeType(o))throw Error(`Unknown fieldType ${o.typeName} for fieldName ${s}`);Object.defineProperty(t.prototype,s,{configurable:!1,enumerable:!0,get:function(){const{value:e}=this.tree.rootNode;return o.toView(e[s])},set:function(e){const t=this.tree.rootNode,r=this.type.clone(t.value);r[s]=o.toValueFromView(e),this.tree.rootNode=new n.BranchNodeStruct(t.valueToNode,r)}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},19291:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListBasicTreeView=void 0;const i=r(56567),n=r(77733);class s extends n.ArrayBasicTreeView{constructor(e,t){super(e,t),this.type=e,this.tree=t}push(e){const t=this.length;if(t>=this.type.limit)throw Error("Error pushing over limit");if(this.type.tree_setLength(this.tree,t+1),t%this.type.itemsPerChunk==0){const r=i.LeafNode.fromZero();this.type.elementType.tree_setToPackedNode(r,t,e);const n=Math.floor(t/this.type.itemsPerChunk);this.tree.setNodeAtDepth(this.type.depth,n,r)}else this.set(t,e)}}t.ListBasicTreeView=s},11783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListCompositeTreeView=void 0;const i=r(56330);class n extends i.ArrayCompositeTreeView{constructor(e,t){super(e,t),this.type=e,this.tree=t}push(e){const t=this.length;if(t>=this.type.limit)throw Error("Error pushing over limit");this.type.tree_setLength(this.tree,t+1),this.set(t,e)}}t.ListCompositeTreeView=n},40332:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewDU=void 0;const i=r(62542);class n extends i.TreeView{hashTreeRoot(){return this.commit(),super.hashTreeRoot()}serialize(){return this.commit(),super.serialize()}clone(e){if(e)return this.type.getViewDU(this.node);{const e=this.cache;return this.clearCache(),this.type.getViewDU(this.node,e)}}}t.TreeViewDU=n},63341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayBasicTreeViewDU=void 0;const i=r(56567),n=r(40332);class s extends n.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.nodesChanged=new Set,this.dirtyLength=!1,r?(this.nodes=r.nodes,this._length=r.length,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this._length=this.type.tree_getLength(t),this.nodesPopulated=!1)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){const t=Math.floor(e/this.type.itemsPerChunk);let r=this.nodes[t];return void 0===r&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,t),this.nodes[t]=r),this.type.elementType.tree_getFromPackedNode(r,e)}set(e,t){if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);const r=Math.floor(e/this.type.itemsPerChunk);let n;this.nodesChanged.has(r)?n=this.nodes[r]:(n=(this.nodes[r]??i.getNodeAtDepth(this._rootNode,this.type.depth,r)).clone(),this.nodes[r]=n,this.nodesChanged.add(r)),this.type.elementType.tree_setToPackedNode(n,e,t)}getAll(){if(!this.nodesPopulated){const e=this.nodes,t=this.type.tree_getChunksNode(this.node),r=Math.ceil(this._length/this.type.itemsPerChunk);this.nodes=i.getNodesAtDepth(t,this.type.chunkDepth,0,r);for(const t of this.nodesChanged)this.nodes[t]=e[t];this.nodesPopulated=!0}const e=new Array(this._length),t=this.type.itemsPerChunk,r=Math.floor(this._length/t),n=this._length%t;for(let i=0;i<r;i++){const r=this.nodes[i];for(let n=0;n<t;n++)e[i*t+n]=this.type.elementType.tree_getFromPackedNode(r,n)}if(n>0){const i=this.nodes[r];for(let s=0;s<n;s++)e[r*t+s]=this.type.elementType.tree_getFromPackedNode(i,s)}return e}commit(){if(0===this.nodesChanged.size)return;const e=Array.from(this.nodesChanged.keys()).sort(((e,t)=>e-t)),t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=this.nodes[e[r]];const r=this.type.tree_getChunksNode(this._rootNode),n=i.setNodesAtDepth(r,this.type.chunkDepth,e,t);this._rootNode=this.type.tree_setChunksNode(this._rootNode,n,this.dirtyLength?this._length:void 0),this.nodesChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}}t.ArrayBasicTreeViewDU=s},82309:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayCompositeTreeViewDU=void 0;const i=r(56567),n=r(40332);class s extends n.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.viewsChanged=new Map,this.dirtyLength=!1,r?(this.nodes=r.nodes,this.caches=r.caches,this._length=r.length,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this.caches=[],this._length=this.type.tree_getLength(t),this.nodesPopulated=0===this._length)}get length(){return this._length}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,length:this._length,nodesPopulated:this.nodesPopulated}}get(e){const t=this.viewsChanged.get(e);if(t)return t;let r=this.nodes[e];void 0===r&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=r);const n=this.type.elementType.getViewDU(r,this.caches[e]);return this.type.elementType.isViewMutable&&this.viewsChanged.set(e,n),n}getReadonly(e){const t=this.viewsChanged.get(e);if(t)return t;let r=this.nodes[e];return void 0===r&&(r=i.getNodeAtDepth(this._rootNode,this.type.depth,e),this.nodes[e]=r),this.type.elementType.getViewDU(r,this.caches[e])}set(e,t){if(e>=this._length)throw Error(`Error setting index over length ${e} > ${this._length}`);this.viewsChanged.set(e,t)}getAllReadonly(){this.populateAllNodes();const e=new Array(this._length);for(let t=0;t<this._length;t++)e[t]=this.type.elementType.getViewDU(this.nodes[t],this.caches[t]);return e}getAllReadonlyValues(){this.populateAllNodes();const e=new Array(this._length);for(let t=0;t<this._length;t++)e[t]=this.type.elementType.tree_toValue(this.nodes[t]);return e}commit(){if(0===this.viewsChanged.size)return;const e=[];for(const[t,r]of this.viewsChanged){const i=this.type.elementType.commitViewDU(r);this.nodes[t]=i,e.push({index:t,node:i});const n=this.type.elementType.cacheOfViewDU(r);n&&(this.caches[t]=n)}const t=e.sort(((e,t)=>e.index-t.index)),r=t.map((e=>e.index)),n=t.map((e=>e.node)),s=this.type.tree_getChunksNode(this._rootNode),o=i.setNodesAtDepth(s,this.type.chunkDepth,r,n);this._rootNode=this.type.tree_setChunksNode(this._rootNode,o,this.dirtyLength?this._length:void 0),this.viewsChanged.clear(),this.dirtyLength=!1}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.viewsChanged.clear(),this.dirtyLength&&(this._length=this.type.tree_getLength(this._rootNode),this.dirtyLength=!1)}populateAllNodes(){if(this.viewsChanged.size>0)throw Error("Must commit changes before reading all nodes");this.nodesPopulated||(this.nodes=i.getNodesAtDepth(this._rootNode,this.type.depth,0,this.length),this.nodesPopulated=!0)}}t.ArrayCompositeTreeViewDU=s},57844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitArrayTreeViewDU=void 0;const i=r(40332);class n extends i.TreeViewDU{constructor(e,t){super(),this.type=e,this._rootNode=t,this._bitArray=null}get node(){return this._rootNode}get cache(){}commit(){null!==this._bitArray&&(this._rootNode=this.type.value_toTree(this._bitArray))}get uint8Array(){return this.bitArray.uint8Array}get bitLen(){return this.bitArray.bitLen}get(e){return this.bitArray.get(e)}set(e,t){this.bitArray.set(e,t)}mergeOrWith(e){this.bitArray.mergeOrWith(e)}intersectValues(e){return this.bitArray.intersectValues(e)}getTrueBitIndexes(){return this.bitArray.getTrueBitIndexes()}getSingleTrueBit(){return this.bitArray.getSingleTrueBit()}toBoolArray(){return this.bitArray.toBoolArray()}get bitArray(){return null===this._bitArray&&(this._bitArray=this.type.tree_toValue(this._rootNode)),this._bitArray}clearCache(){this._bitArray=null}}t.BitArrayTreeViewDU=n},68865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewDUClass=void 0;const i=r(56567),n=r(70645),s=r(18715),o=r(40332);class a extends o.TreeViewDU{constructor(e,t,r){super(),this.type=e,this._rootNode=t,this.nodes=[],this.nodesChanged=new Set,this.viewsChanged=new Map,r?(this.nodes=r.nodes,this.caches=r.caches,this.nodesPopulated=r.nodesPopulated):(this.nodes=[],this.caches=[],this.nodesPopulated=!1)}get node(){return this._rootNode}get cache(){return{nodes:this.nodes,caches:this.caches,nodesPopulated:this.nodesPopulated}}commit(){if(0===this.nodesChanged.size&&0===this.viewsChanged.size)return;const e=[];for(const[t,r]of this.viewsChanged){const i=this.type.fieldsEntries[t].fieldType,n=i.commitViewDU(r);this.nodes[t]=n,e.push({index:t,node:n});const s=i.cacheOfViewDU(r);s&&(this.caches[t]=s)}for(const t of this.nodesChanged)e.push({index:t,node:this.nodes[t]});const t=e.sort(((e,t)=>e.index-t.index)),r=t.map((e=>e.index)),n=t.map((e=>e.node));this._rootNode=i.setNodesAtDepth(this._rootNode,this.type.depth,r,n),this.nodesChanged.clear(),this.viewsChanged.clear()}clearCache(){this.nodes=[],this.caches=[],this.nodesPopulated=!1,this.nodesChanged.clear(),this.viewsChanged.clear()}}t.getContainerTreeViewDUClass=function(e){class t extends a{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:o,fieldType:a}=e.fieldsEntries[r];if(n.isBasicType(a))Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){let e=this.nodes[r];return void 0===e&&(e=i.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=e),a.tree_getFromNode(e)},set:function(e){let t;this.nodesChanged.has(r)?t=this.nodes[r]:(t=(this.nodes[r]??i.getNodeAtDepth(this._rootNode,this.type.depth,r)).clone(),this.nodes[r]=t,this.nodesChanged.add(r)),a.tree_setToNode(t,e)}});else{if(!s.isCompositeType(a))throw Error(`Unknown fieldType ${a.typeName} for fieldName ${o}`);Object.defineProperty(t.prototype,o,{configurable:!1,enumerable:!0,get:function(){const e=this.viewsChanged.get(r);if(e)return e;let t=this.nodes[r];void 0===t&&(t=i.getNodeAtDepth(this._rootNode,this.type.depth,r),this.nodes[r]=t);const n=a.getViewDU(t,this.caches[r]);return a.isViewMutable&&this.viewsChanged.set(r,n),n},set:function(e){this.viewsChanged.set(r,e)}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},84320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainerTreeViewDUClass=void 0;const i=r(18715),n=r(40332);class s extends n.TreeViewDU{constructor(e,t){super(),this.type=e,this.valueChanged=null,this._rootNode=t}get node(){return this._rootNode}get cache(){}commit(){if(null===this.valueChanged)return;const e=this.valueChanged;this.valueChanged=null,this._rootNode=this.type.value_toTree(e)}clearCache(){this.valueChanged=null}}t.getContainerTreeViewDUClass=function(e){class t extends s{}for(let r=0;r<e.fieldsEntries.length;r++){const{fieldName:n,fieldType:s}=e.fieldsEntries[r];if(s.isBasic)Object.defineProperty(t.prototype,n,{configurable:!1,enumerable:!0,get:function(){return(this.valueChanged||this._rootNode.value)[n]},set:function(e){null===this.valueChanged&&(this.valueChanged=this.type.clone(this._rootNode.value)),this.valueChanged[n]=e}});else{if(!i.isCompositeType(s))throw Error(`Unknown fieldType ${s.typeName} for fieldName ${n}`);Object.defineProperty(t.prototype,n,{configurable:!1,enumerable:!0,get:function(){const e=this.valueChanged||this._rootNode.value;return s.toViewDU(e[n])},set:function(e){null===this.valueChanged&&(this.valueChanged=this.type.clone(this._rootNode.value));const t=s.toValueFromViewDU(e);this.valueChanged[n]=t}})}}return Object.defineProperty(t,"name",{value:e.typeName,writable:!1}),t}},61828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListBasicTreeViewDU=void 0;const i=r(56567),n=r(63341);class s extends n.ArrayBasicTreeViewDU{constructor(e,t,r){super(e,t,r),this.type=e,this._rootNode=t}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;const t=this._length++;if(t%this.type.itemsPerChunk==0){const e=Math.floor(t/this.type.itemsPerChunk);this.nodes[e]=i.zeroNode(0)}this.set(t,e)}}t.ListBasicTreeViewDU=s},82029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListCompositeTreeViewDU=void 0;const i=r(56567),n=r(82309);class s extends n.ArrayCompositeTreeViewDU{constructor(e,t,r){super(e,t,r),this.type=e,this._rootNode=t}push(e){if(this._length>=this.type.limit)throw Error("Error pushing over limit");this.dirtyLength=!0;const t=this._length++;this.set(t,e)}sliceTo(e){this.commit();const t=this._rootNode;if(e>=this.type.tree_getLength(t)-1)return this;const r=this.type.tree_getChunksNode(t),n=i.treeZeroAfterIndex(r,this.type.chunkDepth,e),s=e+1,o=this.type.tree_setChunksNode(t,n,s);return this.type.getViewDU(o)}}t.ListCompositeTreeViewDU=s},57256:(e,t)=>{"use strict";function r(e){if(Array.isArray(e)){const t=[];let i=0;for(let n=0;n<e.length;n++){const s=r(e[n]);t.push(s),i+=s.length}return c(s(i,192),...t)}const t=g(e);return 1===t.length&&t[0]<128?t:c(s(t.length,128),t)}function i(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function n(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return u(l(e))}function s(e,t){if(e<56)return Uint8Array.from([e+t]);const r=p(e),i=p(t+55+r.length/2);return Uint8Array.from(d(i+r))}function o(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);const r=a(g(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid RLP: remainder must be zero");return r.data}function a(e){let t,r,s,o,h;const l=[],u=e[0];if(u<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(u<=183){if(t=u-127,s=128===u?Uint8Array.from([]):i(e,1,t),2===t&&s[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:s,remainder:e.slice(t)}}if(u<=191){if(r=u-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=n(i(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return s=i(e,r,t+r),{data:s,remainder:e.slice(t+r)}}if(u<=247){for(t=u-191,o=i(e,1,t);o.length;)h=a(o),l.push(h.data),o=h.remainder;return{data:l,remainder:e.slice(t)}}{if(r=u-246,t=n(i(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const s=r+t;if(s>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=i(e,r,s);o.length;)h=a(o),l.push(h.data),o=h.remainder;return{data:l,remainder:e.slice(s)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.RLP=t.utils=t.decode=t.encode=void 0,t.encode=r,t.decode=o;const h=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function l(e){let t="";for(let r=0;r<e.length;r++)t+=h[e[r]];return t}function u(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function d(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const i=2*r;t[r]=u(e.slice(i,i+2))}return t}function c(...e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){const n=e[t];r.set(n,i),i+=n.length}return r}function f(e){return(new TextEncoder).encode(e)}function p(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function y(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function g(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return y(e)?d((t="string"!=typeof(r=e)?r:y(r)?r.slice(2):r).length%2?`0${t}`:t):f(e);var t,r;if("number"==typeof e||"bigint"==typeof e)return e?d(p(e)):Uint8Array.from([]);if(null==e)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}t.utils={bytesToHex:l,concatBytes:c,hexToBytes:d,utf8ToBytes:f},t.RLP={encode:r,decode:o}},45887:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCurve=t.getHash=void 0;const i=r(41377),n=r(70064),s=r(57851);function o(e){return{hash:e,hmac:(t,...r)=>(0,i.hmac)(e,t,(0,n.concatBytes)(...r)),randomBytes:n.randomBytes}}t.getHash=o,t.createCurve=function(e,t){const r=t=>(0,s.weierstrass)({...e,...o(t)});return Object.freeze({...r(t),create:r})}},41465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateBasic=t.wNAF=void 0;const i=r(49530),n=r(4323),s=BigInt(0),o=BigInt(1);t.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},i=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let i=e.ZERO,n=t;for(;r>s;)r&o&&(i=i.add(n)),n=n.double(),r>>=o;return i},precomputeWindow(e,t){const{windows:r,windowSize:n}=i(t),s=[];let o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<n;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,n,s){const{windows:a,windowSize:h}=i(t);let l=e.ZERO,u=e.BASE;const d=BigInt(2**t-1),c=2**t,f=BigInt(t);for(let e=0;e<a;e++){const t=e*h;let i=Number(s&d);s>>=f,i>h&&(i-=c,s+=o);const a=t,p=t+Math.abs(i)-1,y=e%2!=0,g=i<0;0===i?u=u.add(r(y,n[a])):l=l.add(r(g,n[p]))}return{p:l,f:u}},wNAFCached(e,t,r,i){const n=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,n),1!==n&&t.set(e,i(s))),this.wNAF(n,s,r)}}},t.validateBasic=function(e){return(0,i.validateField)(e.Fp),(0,n.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,i.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},91322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHasher=t.isogenyMap=t.hash_to_field=t.expand_message_xof=t.expand_message_xmd=void 0;const i=r(49530),n=r(4323),s=n.bytesToNumberBE;function o(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let i=t-1;i>=0;i--)r[i]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e[i]^t[i];return r}function h(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function l(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,r,i){h(e),h(t),l(r),t.length>255&&(t=i((0,n.concatBytes)((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:u}=i,d=Math.ceil(r/s);if(d>255)throw new Error("Invalid xmd length");const c=(0,n.concatBytes)(t,o(t.length,1)),f=o(0,u),p=o(r,2),y=new Array(d),g=i((0,n.concatBytes)(f,e,p,o(0,1),c));y[0]=i((0,n.concatBytes)(g,o(1,1),c));for(let e=1;e<=d;e++){const t=[a(g,y[e-1]),o(e+1,1),c];y[e]=i((0,n.concatBytes)(...t))}return(0,n.concatBytes)(...y).slice(0,r)}function d(e,t,r,i,s){if(h(e),h(t),l(r),t.length>255){const e=Math.ceil(2*i/8);t=s.create({dkLen:e}).update((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(o(r,2)).update(t).update(o(t.length,1)).digest()}function c(e,t,r){(0,n.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:o,k:a,m:c,hash:f,expand:p,DST:y}=r;h(e),l(t);const g=function(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return(0,n.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}(y),m=o.toString(2).length,_=Math.ceil((m+a)/8),w=t*c*_;let b;if("xmd"===p)b=u(e,g,w,f);else if("xof"===p)b=d(e,g,w,a,f);else{if("_internal_pass"!==p)throw new Error('expand must be "xmd" or "xof"');b=e}const v=new Array(t);for(let e=0;e<t;e++){const t=new Array(c);for(let r=0;r<c;r++){const n=_*(r+e*c),a=b.subarray(n,n+_);t[r]=(0,i.mod)(s(a),o)}v[e]=t}return v}t.expand_message_xmd=u,t.expand_message_xof=d,t.hash_to_field=c,t.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,i)=>{const[n,s,o,a]=r.map((r=>r.reduce(((r,i)=>e.add(e.mul(r,t),i)))));return t=e.div(n,s),i=e.mul(i,e.div(o,a)),{x:t,y:i}}},t.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(i,n){const s=c(i,2,{...r,DST:r.DST,...n}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),h=o.add(a).clearCofactor();return h.assertValidity(),h},encodeToCurve(i,n){const s=c(i,1,{...r,DST:r.encodeDST,...n}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o}}}},49530:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashToPrivateScalar=t.FpSqrtEven=t.FpSqrtOdd=t.Field=t.nLength=t.FpIsSquare=t.FpDiv=t.FpInvertBatch=t.FpPow=t.validateField=t.isNegativeLE=t.FpSqrt=t.tonelliShanks=t.invert=t.pow2=t.pow=t.mod=void 0;const i=r(4323),n=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),h=BigInt(4),l=BigInt(5),u=BigInt(8);function d(e,t){const r=e%t;return r>=n?r:t+r}function c(e,t,r){if(r<=n||t<n)throw new Error("Expected power/modulo > 0");if(r===s)return n;let i=s;for(;t>n;)t&s&&(i=i*e%r),e=e*e%r,t>>=s;return i}function f(e,t){if(e===n||t<=n)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),i=t,o=n,a=s,h=s,l=n;for(;r!==n;){const e=i/r,t=i%r,n=o-h*e,s=a-l*e;i=r,r=t,o=h,a=l,h=n,l=s}if(i!==s)throw new Error("invert: does not exist");return d(o,t)}function p(e){const t=(e-s)/o;let r,i,a;for(r=e-s,i=0;r%o===n;r/=o,i++);for(a=o;a<e&&c(a,t,e)!==e-s;a++);if(1===i){const t=(e+s)/h;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}const l=(r+s)/o;return function(e,n){if(e.pow(n,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=i,h=e.pow(e.mul(e.ONE,a),r),u=e.pow(n,l),d=e.pow(n,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(h,s<<BigInt(o-t-1));h=e.sqr(r),u=e.mul(u,r),d=e.mul(d,h),o=t}return u}}function y(e){if(e%h===a){const t=(e+s)/h;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%u===l){const t=(e-l)/u;return function(e,r){const i=e.mul(r,o),n=e.pow(i,t),s=e.mul(r,n),a=e.mul(e.mul(s,o),n),h=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(h),r))throw new Error("Cannot find square root");return h}}return p(e)}BigInt(9),BigInt(16),t.mod=d,t.pow=c,t.pow2=function(e,t,r){let i=e;for(;t-- >n;)i*=i,i%=r;return i},t.invert=f,t.tonelliShanks=p,t.FpSqrt=y,t.isNegativeLE=(e,t)=>(d(e,t)&s)===s;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function m(e,t,r){if(r<n)throw new Error("Expected power > 0");if(r===n)return e.ONE;if(r===s)return t;let i=e.ONE,o=t;for(;r>n;)r&s&&(i=e.mul(i,o)),o=e.sqr(o),r>>=s;return i}function _(e,t){const r=new Array(t.length),i=t.reduce(((t,i,n)=>e.is0(i)?t:(r[n]=t,e.mul(t,i))),e.ONE),n=e.inv(i);return t.reduceRight(((t,i,n)=>e.is0(i)?t:(r[n]=e.mul(t,r[n]),e.mul(t,i))),n),r}function w(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}t.validateField=function(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,i.validateObject)(e,t)},t.FpPow=m,t.FpInvertBatch=_,t.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?f(r,e.ORDER):e.inv(r))},t.FpIsSquare=function(e){const t=(e.ORDER-s)/o;return r=>{const i=e.pow(r,t);return e.eql(i,e.ZERO)||e.eql(i,e.ONE)}},t.nLength=w,t.Field=function(e,t,r=!1,o={}){if(e<=n)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:h}=w(e,t);if(h>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=y(e),u=Object.freeze({ORDER:e,BITS:a,BYTES:h,MASK:(0,i.bitMask)(a),ZERO:n,ONE:s,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return n<=t&&t<e},is0:e=>e===n,isOdd:e=>(e&s)===s,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>m(u,e,t),div:(t,r)=>d(t*f(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>f(t,e),sqrt:o.sqrt||(e=>l(u,e)),invertBatch:e=>_(u,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,i.numberToBytesLE)(e,h):(0,i.numberToBytesBE)(e,h),fromBytes:e=>{if(e.length!==h)throw new Error(`Fp.fromBytes: expected ${h}, got ${e.length}`);return r?(0,i.bytesToNumberLE)(e):(0,i.bytesToNumberBE)(e)}});return Object.freeze(u)},t.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},t.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},t.hashToPrivateScalar=function(e,t,r=!1){const n=(e=(0,i.ensureBytes)("privateHash",e)).length,o=w(t).nByteLength+8;if(o<24||n<o||n>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${n}`);return d(r?(0,i.bytesToNumberLE)(e):(0,i.bytesToNumberBE)(e),t-s)+s}},57851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;const i=r(49530),n=r(4323),s=r(4323),o=r(41465),{bytesToNumberBE:a,hexToBytes:h}=n;t.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:r}=t.DER;if(e.length<2||2!==e[0])throw new r("Invalid signature integer tag");const i=e[1],n=e.subarray(2,i+2);if(!i||n.length!==i)throw new r("Invalid signature integer: wrong length");if(128&n[0])throw new r("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:a(n),l:e.subarray(i+2)}},toSig(e){const{Err:r}=t.DER,i="string"==typeof e?h(e):e;if(!(i instanceof Uint8Array))throw new Error("ui8a expected");let n=i.length;if(n<2||48!=i[0])throw new r("Invalid signature tag");if(i[1]!==n-2)throw new r("Invalid signature: incorrect length");const{d:s,l:o}=t.DER._parseInt(i.subarray(2)),{d:a,l}=t.DER._parseInt(o);if(l.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},i=t(r(e.s)),n=t(r(e.r)),s=i.length/2,o=n.length/2,a=r(s),h=r(o);return`30${r(o+s+4)}02${h}${n}02${a}${i}`}};const l=BigInt(0),u=BigInt(1),d=BigInt(2),c=BigInt(3),f=BigInt(4);function p(e){const t=function(e){const t=(0,o.validateBasic)(e);n.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:s}=t;if(r){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,i)=>{const s=t.toAffine();return n.concatBytes(Uint8Array.from([4]),r.toBytes(s.x),r.toBytes(s.y))}),h=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function d(e){const{a:i,b:n}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,i)),n)}if(!r.eql(r.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function f(e){return"bigint"==typeof e&&l<e&&e<t.n}function p(e){if(!f(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(e){const{allowedPrivateKeyLengths:r,nByteLength:o,wrapPrivateKey:a,n:h}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=n.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*o,"0")}let l;try{l="bigint"==typeof e?e:n.bytesToNumberBE((0,s.ensureBytes)("private key",e,o))}catch(t){throw new Error(`private key must be ${o} bytes, hex or bigint, not ${typeof e}`)}return a&&(l=i.mod(l,h)),p(l),l}const g=new Map;function m(e){if(!(e instanceof _))throw new Error("ProjectivePoint expected")}class _{constructor(e,t,i){if(this.px=e,this.py=t,this.pz=i,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==i||!r.isValid(i))throw new Error("z required")}static fromAffine(e){const{x:t,y:i}=e||{};if(!e||!r.isValid(t)||!r.isValid(i))throw new Error("invalid affine point");if(e instanceof _)throw new Error("projective point not allowed");const n=e=>r.eql(e,r.ZERO);return n(t)&&n(i)?_.ZERO:new _(t,i,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(_.fromAffine)}static fromHex(e){const t=_.fromAffine(h((0,s.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return _.BASE.multiply(y(e))}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:i}=this.toAffine();if(!r.isValid(e)||!r.isValid(i))throw new Error("bad point: x or y not FE");const n=r.sqr(i),s=d(e);if(!r.eql(n,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){m(e);const{px:t,py:i,pz:n}=this,{px:s,py:o,pz:a}=e,h=r.eql(r.mul(t,a),r.mul(s,n)),l=r.eql(r.mul(i,a),r.mul(o,n));return h&&l}negate(){return new _(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:i}=t,n=r.mul(i,c),{px:s,py:o,pz:a}=this;let h=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),y=r.mul(s,o);return y=r.add(y,y),u=r.mul(s,a),u=r.add(u,u),h=r.mul(e,u),l=r.mul(n,p),l=r.add(h,l),h=r.sub(f,l),l=r.add(f,l),l=r.mul(h,l),h=r.mul(y,h),u=r.mul(n,u),p=r.mul(e,p),y=r.sub(d,p),y=r.mul(e,y),y=r.add(y,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,y),l=r.add(l,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,y),h=r.sub(h,d),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new _(h,l,u)}add(e){m(e);const{px:i,py:n,pz:s}=this,{px:o,py:a,pz:h}=e;let l=r.ZERO,u=r.ZERO,d=r.ZERO;const f=t.a,p=r.mul(t.b,c);let y=r.mul(i,o),g=r.mul(n,a),w=r.mul(s,h),b=r.add(i,n),v=r.add(o,a);b=r.mul(b,v),v=r.add(y,g),b=r.sub(b,v),v=r.add(i,s);let T=r.add(o,h);return v=r.mul(v,T),T=r.add(y,w),v=r.sub(v,T),T=r.add(n,s),l=r.add(a,h),T=r.mul(T,l),l=r.add(g,w),T=r.sub(T,l),d=r.mul(f,v),l=r.mul(p,w),d=r.add(l,d),l=r.sub(g,d),d=r.add(g,d),u=r.mul(l,d),g=r.add(y,y),g=r.add(g,y),w=r.mul(f,w),v=r.mul(p,v),g=r.add(g,w),w=r.sub(y,w),w=r.mul(f,w),v=r.add(v,w),y=r.mul(g,v),u=r.add(u,y),y=r.mul(T,v),l=r.mul(b,l),l=r.sub(l,y),y=r.mul(b,g),d=r.mul(T,d),d=r.add(d,y),new _(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(_.ZERO)}wNAF(e){return b.wNAFCached(this,g,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(_.fromAffine)}))}multiplyUnsafe(e){const i=_.ZERO;if(e===l)return i;if(p(e),e===u)return this;const{endo:n}=t;if(!n)return b.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:a,k2:h}=n.splitScalar(e),d=i,c=i,f=this;for(;o>l||h>l;)o&u&&(d=d.add(f)),h&u&&(c=c.add(f)),f=f.double(),o>>=u,h>>=u;return s&&(d=d.negate()),a&&(c=c.negate()),c=new _(r.mul(c.px,n.beta),c.py,c.pz),d.add(c)}multiply(e){p(e);let i,n,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:h}=o.splitScalar(s);let{p:l,f:u}=this.wNAF(t),{p:d,f:c}=this.wNAF(h);l=b.constTimeNegate(e,l),d=b.constTimeNegate(a,d),d=new _(r.mul(d.px,o.beta),d.py,d.pz),i=l.add(d),n=u.add(c)}else{const{p:e,f:t}=this.wNAF(s);i=e,n=t}return _.normalizeZ([i,n])[0]}multiplyAndAddUnsafe(e,t,r){const i=_.BASE,n=(e,t)=>t!==l&&t!==u&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t),s=n(this,t).add(n(e,r));return s.is0()?void 0:s}toAffine(e){const{px:t,py:i,pz:n}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(n));const o=r.mul(t,e),a=r.mul(i,e),h=r.mul(n,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(h,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===u)return!0;if(r)return r(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===u?this:r?r(_,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(_,this,e)}toHex(e=!0){return n.bytesToHex(this.toRawBytes(e))}}_.BASE=new _(t.Gx,t.Gy,r.ONE),_.ZERO=new _(r.ZERO,r.ONE,r.ZERO);const w=t.nBitLength,b=(0,o.wNAF)(_,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:_,normPrivateKeyToScalar:y,weierstrassEquation:d,isWithinCurveOrder:f}}function y(e,t){const r=e.ORDER;let i=l;for(let e=r-u;e%d===l;e/=d)i+=u;const n=i,s=(r-u)/d**n,o=(s-u)/d,a=d**n-u,h=d**(n-u),p=e.pow(t,s),y=e.pow(t,(s+u)/d);let g=(t,r)=>{let i=p,s=e.pow(r,a),l=e.sqr(s);l=e.mul(l,r);let c=e.mul(t,l);c=e.pow(c,o),c=e.mul(c,s),s=e.mul(c,r),l=e.mul(c,t);let f=e.mul(l,s);c=e.pow(f,h);let g=e.eql(c,e.ONE);s=e.mul(l,y),c=e.mul(f,i),l=e.cmov(s,l,g),f=e.cmov(c,f,g);for(let t=n;t>u;t--){let r=d**(t-d),n=e.pow(f,r);const o=e.eql(n,e.ONE);s=e.mul(l,i),i=e.mul(i,i),n=e.mul(f,i),l=e.cmov(s,l,o),f=e.cmov(n,f,o)}return{isValid:g,value:l}};if(e.ORDER%f===c){const r=(e.ORDER-c)/f,i=e.sqrt(e.neg(t));g=(t,n)=>{let s=e.sqr(n);const o=e.mul(t,n);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);const h=e.mul(a,i),l=e.mul(e.sqr(a),n),u=e.eql(l,t);return{isValid:u,value:e.cmov(h,a,u)}}}return g}t.weierstrassPoints=p,t.weierstrass=function(e){const r=function(e){const t=(0,o.validateBasic)(e);return n.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:h}=r,d=a.BYTES+1,c=2*a.BYTES+1;function f(e){return i.mod(e,h)}function y(e){return i.invert(e,h)}const{ProjectivePoint:g,normPrivateKeyToScalar:m,weierstrassEquation:_,isWithinCurveOrder:w}=p({...r,toBytes(e,t,r){const i=t.toAffine(),s=a.toBytes(i.x),o=n.concatBytes;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,a.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==d||2!==r&&3!==r){if(t===c&&4===r)return{x:a.fromBytes(i.subarray(0,a.BYTES)),y:a.fromBytes(i.subarray(a.BYTES,2*a.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${d} compressed bytes or ${c} uncompressed bytes`)}{const e=n.bytesToNumberBE(i);if(!(l<(s=e)&&s<a.ORDER))throw new Error("Point is not on curve");const t=_(e);let o=a.sqrt(t);return 1==(1&r)!=((o&u)===u)&&(o=a.neg(o)),{x:e,y:o}}var s}}),b=e=>n.bytesToHex(n.numberToBytesBE(e,r.nByteLength));function v(e){return e>h>>u}const T=(e,t,r)=>n.bytesToNumberBE(e.slice(t,r));class E{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const t=r.nByteLength;return e=(0,s.ensureBytes)("compactSignature",e,2*t),new E(T(e,0,t),T(e,t,2*t))}static fromDER(e){const{r,s:i}=t.DER.toSig((0,s.ensureBytes)("DER",e));return new E(r,i)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new E(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:i,recovery:n}=this,o=A((0,s.ensureBytes)("msgHash",e));if(null==n||![0,1,2,3].includes(n))throw new Error("recovery id invalid");const h=2===n||3===n?t+r.n:t;if(h>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=0==(1&n)?"02":"03",u=g.fromHex(l+b(h)),d=y(h),c=f(-o*d),p=f(i*d),m=g.BASE.multiplyAndAddUnsafe(u,c,p);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const B={isValidPrivateKey(e){try{return m(e),!0}catch(e){return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const e=r.randomBytes(a.BYTES+8),t=i.hashToPrivateScalar(e,h);return n.numberToBytesBE(t,r.nByteLength)},precompute:(e=8,t=g.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function N(e){const t=e instanceof Uint8Array,r="string"==typeof e,i=(t||r)&&e.length;return t?i===d||i===c:r?i===2*d||i===2*c:e instanceof g}const S=r.bits2int||function(e){const t=n.bytesToNumberBE(e),i=8*e.length-r.nBitLength;return i>0?t>>BigInt(i):t},A=r.bits2int_modN||function(e){return f(S(e))},x=n.bitMask(r.nBitLength);function k(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(l<=e&&e<x))throw new Error(`bigint expected < 2^${r.nBitLength}`);return n.numberToBytesBE(e,r.nByteLength)}const L={lowS:r.lowS,prehash:!1},z={lowS:r.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return g.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(N(e))throw new Error("first arg must be private key");if(!N(t))throw new Error("second arg must be public key");return g.fromHex(t).multiply(m(e)).toRawBytes(r)},sign:function(e,t,i=L){const{seed:o,k2sig:h}=function(e,t,i=L){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:h}=r;let{lowS:d,prehash:c,extraEntropy:p}=i;null==d&&(d=!0),e=(0,s.ensureBytes)("msgHash",e),c&&(e=(0,s.ensureBytes)("prehashed msgHash",o(e)));const _=A(e),b=m(t),T=[k(b),k(_)];if(null!=p){const e=!0===p?h(a.BYTES):p;T.push((0,s.ensureBytes)("extraEntropy",e,a.BYTES))}const B=n.concatBytes(...T),N=_;return{seed:B,k2sig:function(e){const t=S(e);if(!w(t))return;const r=y(t),i=g.BASE.multiply(t).toAffine(),n=f(i.x);if(n===l)return;const s=f(r*f(N+n*b));if(s===l)return;let o=(i.x===n?0:2)|Number(i.y&u),a=s;return d&&v(s)&&(a=function(e){return v(e)?f(-e):e}(s),o^=1),new E(n,a,o)}}}(e,t,i);return n.createHmacDrbg(r.hash.outputLen,r.nByteLength,r.hmac)(o,h)},verify:function(e,i,n,o=z){const a=e;if(i=(0,s.ensureBytes)("msgHash",i),n=(0,s.ensureBytes)("publicKey",n),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:h,prehash:l}=o;let u,d;try{if("string"==typeof a||a instanceof Uint8Array)try{u=E.fromDER(a)}catch(e){if(!(e instanceof t.DER.Err))throw e;u=E.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:t}=a;u=new E(e,t)}}d=g.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&u.hasHighS())return!1;l&&(i=r.hash(i));const{r:c,s:p}=u,m=A(i),_=y(p),w=f(m*_),b=f(c*_),v=g.BASE.multiplyAndAddUnsafe(d,w,b)?.toAffine();return!!v&&f(v.x)===c},ProjectivePoint:g,Signature:E,utils:B}},t.SWUFpSqrtRatio=y,t.mapToCurveSimpleSWU=function(e,t){if(i.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=y(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return i=>{let n,s,o,a,h,l,u,d;n=e.sqr(i),n=e.mul(n,t.Z),s=e.sqr(n),s=e.add(s,n),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),l=e.sqr(a),h=e.mul(l,t.A),s=e.add(s,h),s=e.mul(s,o),l=e.mul(l,a),h=e.mul(l,t.B),s=e.add(s,h),u=e.mul(n,o);const{isValid:c,value:f}=r(s,l);d=e.mul(n,i),d=e.mul(d,f),u=e.cmov(u,o,c),d=e.cmov(d,f,c);const p=e.isOdd(i)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),u=e.div(u,a),{x:u,y:d}}}},38358:(e,t,r)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const n=r(96053),s=r(70064),o=r(49530),a=r(57851),h=r(4323),l=r(91322),u=r(45887),d=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f=BigInt(1),p=BigInt(2),y=(e,t)=>(e+t/p)/t;function g(e){const t=d,r=BigInt(3),i=BigInt(6),n=BigInt(11),s=BigInt(22),a=BigInt(23),h=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,f=(0,o.pow2)(c,r,t)*c%t,y=(0,o.pow2)(f,r,t)*c%t,g=(0,o.pow2)(y,p,t)*u%t,_=(0,o.pow2)(g,n,t)*g%t,w=(0,o.pow2)(_,s,t)*_%t,b=(0,o.pow2)(w,h,t)*w%t,v=(0,o.pow2)(b,l,t)*b%t,T=(0,o.pow2)(v,h,t)*w%t,E=(0,o.pow2)(T,r,t)*c%t,B=(0,o.pow2)(E,a,t)*_%t,N=(0,o.pow2)(B,i,t)*u%t,S=(0,o.pow2)(N,p,t);if(!m.eql(m.sqr(S),e))throw new Error("Cannot find square root");return S}const m=(0,o.Field)(d,void 0,void 0,{sqrt:g});t.secp256k1=(0,u.createCurve)({a:BigInt(0),b:BigInt(7),Fp:m,n:c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=c,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),h=y(s*e,t),l=y(-i*e,t);let u=(0,o.mod)(e-h*r-l*n,t),d=(0,o.mod)(-h*i-l*s,t);const p=u>a,g=d>a;if(p&&(u=t-u),g&&(d=t-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:p,k1:u,k2neg:g,k2:d}}}},n.sha256);const _=BigInt(0),w=e=>"bigint"==typeof e&&_<e&&e<d,b={};function v(e,...t){let r=b[e];if(void 0===r){const t=(0,n.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,h.concatBytes)(t,t),b[e]=r}return(0,n.sha256)((0,h.concatBytes)(r,...t))}const T=e=>e.toRawBytes(!0).slice(1),E=e=>(0,h.numberToBytesBE)(e,32),B=e=>(0,o.mod)(e,d),N=e=>(0,o.mod)(e,c),S=t.secp256k1.ProjectivePoint;function A(e){let r=t.secp256k1.utils.normPrivateKeyToScalar(e),i=S.fromPrivateKey(r);return{scalar:i.hasEvenY()?r:N(-r),bytes:T(i)}}function x(e){if(!w(e))throw new Error("bad x: need 0 < x < p");const t=B(e*e);let r=g(B(t*e+BigInt(7)));r%p!==_&&(r=B(-r));const i=new S(e,r,f);return i.assertValidity(),i}function k(...e){return N((0,h.bytesToNumberBE)(v("BIP0340/challenge",...e)))}function L(e,t,r){const i=(0,h.ensureBytes)("signature",e,64),n=(0,h.ensureBytes)("message",t),s=(0,h.ensureBytes)("publicKey",r,32);try{const e=x((0,h.bytesToNumberBE)(s)),t=(0,h.bytesToNumberBE)(i.subarray(0,32));if(!w(t))return!1;const r=(0,h.bytesToNumberBE)(i.subarray(32,64));if(!("bigint"==typeof(u=r)&&_<u&&u<c))return!1;const d=k(E(t),T(e),n),f=(o=e,a=r,l=N(-d),S.BASE.multiplyAndAddUnsafe(o,a,l));return!(!f||!f.hasEvenY()||f.toAffine().x!==t)}catch(e){return!1}var o,a,l,u}t.schnorr={getPublicKey:function(e){return A(e).bytes},sign:function(e,t,r=(0,s.randomBytes)(32)){const i=(0,h.ensureBytes)("message",e),{bytes:n,scalar:o}=A(t),a=(0,h.ensureBytes)("auxRand",r,32),l=E(o^(0,h.bytesToNumberBE)(v("BIP0340/aux",a))),u=v("BIP0340/nonce",l,n,i),d=N((0,h.bytesToNumberBE)(u));if(d===_)throw new Error("sign failed: k is zero");const{bytes:c,scalar:f}=A(d),p=k(c,n,i),y=new Uint8Array(64);if(y.set(c,0),y.set(E(N(f+p*o)),32),!L(y,i,n))throw new Error("sign: Invalid signature produced");return y},verify:L,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:x,pointToBytes:T,numberToBytesBE:h.numberToBytesBE,bytesToNumberBE:h.bytesToNumberBE,taggedHash:v,mod:o.mod}};const z=l.isogenyMap(m,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))),C=(0,a.mapToCurveSimpleSWU)(m,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:m.create(BigInt("-11"))});i=l.createHasher(t.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=C(m.create(e[0]));return z(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:m.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}),t.hashToCurve=i.hashToCurve,t.encodeToCurve=i.encodeToCurve},99350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const i=r(53525),n=r(70064);class s extends n.Hash{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){i.default.exists(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,n.toBytes)(e)).length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a!==s)r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,n.createView)(e);for(;s<=o-i;i+=s)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){i.default.exists(this),i.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),h=i?4:0,l=i?0:4;e.setUint32(t+h,o,i),e.setUint32(t+l,a,i)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const h=(0,n.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)h.setUint32(4*e,d[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}t.SHA2=s},41377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const i=r(53525),n=r(70064);class s extends n.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,i.default.hash(e);const r=(0,n.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return i.default.exists(this),this.iHash.update(e),this}digestInto(e){i.default.exists(this),i.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return(e=e).finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,r)=>new s(e,t).update(r).digest(),t.hmac.create=(e,t)=>new s(e,t)},96053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const i=r(99350),n=r(70064),s=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),h=new Uint32Array(64);class l extends i.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[e,t,r,i,n,s,o,a]}set(e,t,r,i,n,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)h[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=h[e-15],r=h[e-2],i=(0,n.rotr)(t,7)^(0,n.rotr)(t,18)^t>>>3,s=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;h[e]=s+h[e-7]+i+h[e-16]|0}let{A:r,B:i,C:a,D:l,E:u,F:d,G:c,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,n.rotr)(u,6)^(0,n.rotr)(u,11)^(0,n.rotr)(u,25))+((p=u)&d^~p&c)+o[e]+h[e]|0,y=((0,n.rotr)(r,2)^(0,n.rotr)(r,13)^(0,n.rotr)(r,22))+s(r,i,a)|0;f=c,c=d,d=u,u=l+t|0,l=a,a=i,i=r,r=t+y|0}var p;r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(r,i,a,l,u,d,c,f)}roundClean(){h.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,n.wrapConstructor)((()=>new l)),t.sha224=(0,n.wrapConstructor)((()=>new u))},59904:(e,t,r)=>{"use strict";var i=r(48834).Buffer,n=r(34406),s=r(71696),o=r(20744),a=r(75789),h=r(21075),l=r(91271);for(var u in l)t[u]=l[u];function d(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,d.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,s(this.init_done,"close before init"),s(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||h.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},d.prototype.write=function(e,t,r,i,n,s,o){return this._write(!0,e,t,r,i,n,s,o)},d.prototype.writeSync=function(e,t,r,i,n,s,o){return this._write(!1,e,t,r,i,n,s,o)},d.prototype._write=function(e,r,o,a,h,l,u,d){if(s.equal(arguments.length,8),s(this.init_done,"write before init"),s(this.mode!==t.NONE,"already finalized"),s.equal(!1,this.write_in_progress,"write already in progress"),s.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,s.equal(!1,void 0===r,"must provide flush value"),this.write_in_progress=!0,r!==t.Z_NO_FLUSH&&r!==t.Z_PARTIAL_FLUSH&&r!==t.Z_SYNC_FLUSH&&r!==t.Z_FULL_FLUSH&&r!==t.Z_FINISH&&r!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=i.alloc(0),h=0,a=0),this.strm.avail_in=h,this.strm.input=o,this.strm.next_in=a,this.strm.avail_out=d,this.strm.output=l,this.strm.next_out=u,this.flush=r,!e)return this._process(),this._checkError()?this._afterSync():void 0;var c=this;return n.nextTick((function(){c._process(),c._after()})),this},d.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},d.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=h.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=h.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=h.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=h.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},d.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},d.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},d.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},d.prototype.init=function(e,r,i,n,o){s(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),s(e>=8&&e<=15,"invalid windowBits"),s(r>=-1&&r<=9,"invalid compression level"),s(i>=1&&i<=9,"invalid memlevel"),s(n===t.Z_FILTERED||n===t.Z_HUFFMAN_ONLY||n===t.Z_RLE||n===t.Z_FIXED||n===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,e,i,n,o),this._setDictionary()},d.prototype.params=function(){throw new Error("deflateParams Not supported")},d.prototype.reset=function(){this._reset(),this._setDictionary()},d.prototype._init=function(e,r,i,n,s){switch(this.level=e,this.windowBits=r,this.memLevel=i,this.strategy=n,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=h.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=s,this.write_in_progress=!1,this.init_done=!0},d.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},d.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=h.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=d},84325:(e,t,r)=>{"use strict";var i=r(34406),n=r(48834).Buffer,s=r(54851).Transform,o=r(59904),a=r(43335),h=r(71696).ok,l=r(48834).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var d=Object.keys(o),c=0;c<d.length;c++){var f=d[c];f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:o[f],writable:!1})}for(var p={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},y=Object.keys(p),g=0;g<y.length;g++){var m=y[g];p[p[m]]=m}function _(e,t,r){var i=[],s=0;function o(){for(var t;null!==(t=e.read());)i.push(t),s+=t.length;e.once("readable",o)}function a(){var t,o=null;s>=l?o=new RangeError(u):t=n.concat(i,s),i=[],e.close(),r(o,t)}e.on("error",(function(t){e.removeListener("end",a),e.removeListener("readable",o),r(t)})),e.on("end",a),e.end(t),o()}function w(e,t){if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function b(e){if(!(this instanceof b))return new b(e);x.call(this,e,o.DEFLATE)}function v(e){if(!(this instanceof v))return new v(e);x.call(this,e,o.INFLATE)}function T(e){if(!(this instanceof T))return new T(e);x.call(this,e,o.GZIP)}function E(e){if(!(this instanceof E))return new E(e);x.call(this,e,o.GUNZIP)}function B(e){if(!(this instanceof B))return new B(e);x.call(this,e,o.DEFLATERAW)}function N(e){if(!(this instanceof N))return new N(e);x.call(this,e,o.INFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);x.call(this,e,o.UNZIP)}function A(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function x(e,r){var i=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,s.call(this,e),e.flush&&!A(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!A(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(r);var a=this;this._hadError=!1,this._handle.onerror=function(e,r){k(a),a._hadError=!0;var i=new Error(e);i.errno=r,i.code=t.codes[r],a.emit("error",i)};var h=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(h=e.level);var l=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,h,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=h,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!i._handle},configurable:!0,enumerable:!0})}function k(e,t){t&&i.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function L(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=b,t.Inflate=v,t.Gzip=T,t.Gunzip=E,t.DeflateRaw=B,t.InflateRaw=N,t.Unzip=S,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new v(e)},t.createDeflateRaw=function(e){return new B(e)},t.createInflateRaw=function(e){return new N(e)},t.createGzip=function(e){return new T(e)},t.createGunzip=function(e){return new E(e)},t.createUnzip=function(e){return new S(e)},t.deflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new b(t),e,r)},t.deflateSync=function(e,t){return w(new b(t),e)},t.gzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new T(t),e,r)},t.gzipSync=function(e,t){return w(new T(t),e)},t.deflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new B(t),e,r)},t.deflateRawSync=function(e,t){return w(new B(t),e)},t.unzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new S(t),e,r)},t.unzipSync=function(e,t){return w(new S(t),e)},t.inflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new v(t),e,r)},t.inflateSync=function(e,t){return w(new v(t),e)},t.gunzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new E(t),e,r)},t.gunzipSync=function(e,t){return w(new E(t),e)},t.inflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new N(t),e,r)},t.inflateRawSync=function(e,t){return w(new N(t),e)},a.inherits(x,s),x.prototype.params=function(e,r,n){if(e<t.Z_MIN_LEVEL||e>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var s=this;this.flush(o.Z_SYNC_FLUSH,(function(){h(s._handle,"zlib binding closed"),s._handle.params(e,r),s._hadError||(s._level=e,s._strategy=r,n&&n())}))}else i.nextTick(n)},x.prototype.reset=function(){return h(this._handle,"zlib binding closed"),this._handle.reset()},x.prototype._flush=function(e){this._transform(n.alloc(0),"",e)},x.prototype.flush=function(e,t){var r=this,s=this._writableState;("function"==typeof e||void 0===e&&!t)&&(t=e,e=o.Z_FULL_FLUSH),s.ended?t&&i.nextTick(t):s.ending?t&&this.once("end",t):s.needDrain?t&&this.once("drain",(function(){return r.flush(e,t)})):(this._flushFlag=e,this.write(n.alloc(0),"",t))},x.prototype.close=function(e){k(this,e),i.nextTick(L,this)},x.prototype._transform=function(e,t,r){var i,s=this._writableState,a=(s.ending||s.ended)&&(!e||s.length===e.length);return null===e||n.isBuffer(e)?this._handle?(a?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=s.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},x.prototype._processChunk=function(e,t,r){var i=e&&e.length,s=this._chunkSize-this._offset,o=0,a=this,d="function"==typeof r;if(!d){var c,f=[],p=0;this.on("error",(function(e){c=e})),h(this._handle,"zlib binding closed");do{var y=this._handle.writeSync(t,e,o,i,this._buffer,this._offset,s)}while(!this._hadError&&_(y[0],y[1]));if(this._hadError)throw c;if(p>=l)throw k(this),new RangeError(u);var g=n.concat(f,p);return k(this),g}h(this._handle,"zlib binding closed");var m=this._handle.write(t,e,o,i,this._buffer,this._offset,s);function _(l,u){if(this&&(this.buffer=null,this.callback=null),!a._hadError){var c=s-u;if(h(c>=0,"have should not go down"),c>0){var y=a._buffer.slice(a._offset,a._offset+c);a._offset+=c,d?a.push(y):(f.push(y),p+=y.length)}if((0===u||a._offset>=a._chunkSize)&&(s=a._chunkSize,a._offset=0,a._buffer=n.allocUnsafe(a._chunkSize)),0===u){if(o+=i-l,i=l,!d)return!0;var g=a._handle.write(t,e,o,i,a._buffer,a._offset,a._chunkSize);return g.callback=_,void(g.buffer=e)}if(!d)return!1;r()}}m.buffer=e,m.callback=_},a.inherits(b,x),a.inherits(v,x),a.inherits(T,x),a.inherits(E,x),a.inherits(B,x),a.inherits(N,x),a.inherits(S,x)},26744:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},62621:(e,t,r)=>{var i=r(23439),n=r(883),s=e.exports;for(var o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);function a(e){if("string"==typeof e&&(e=n.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}s.request=function(e,t){return e=a(e),i.request.call(this,e,t)},s.get=function(e,t){return e=a(e),i.get.call(this,e,t)}},23349:e=>{e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},42973:(e,t,r)=>{"use strict";var i=r(48834).Buffer,n=r(34406);Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidStatusCodeError=t.InvalidCertError=void 0;const s=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class o extends Error{constructor(e,t){super(e),this.fingerprint256=t}}t.InvalidCertError=o;class a extends Error{constructor(e){super(`Request Failed. Status Code: ${e}`),this.statusCode=e}}function h(e,t){if(!t||"text"===t||"json"===t)try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if("text"===t)return r;try{return JSON.parse(r)}catch(e){if("json"===t)throw e;return r}}catch(e){if("text"===t||"json"===t)throw e}return e}t.InvalidStatusCodeError=a;let l={};function u(e,t){let n={...s,...t};const d=r(23439),c=r(62621),f=r(84325),{promisify:p}=r(43335),{resolve:y}=r(883),g=!!/^https/.test(e);let m={method:n.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const _=e=>e.replace(/:| /g,"").toLowerCase();if(n.keepAlive){const e={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},t=[g,g&&n.sslPinnedCertificates?.map((e=>_(e))).sort()].join();m.agent=l[t]||(l[t]=new(g?c:d).Agent(e))}return"json"===n.type&&(m.headers["Content-Type"]="application/json"),n.data&&(n.method||(m.method="POST"),m.body="json"===n.type?JSON.stringify(n.data):n.data),m.headers={...m.headers,...n.headers},n.sslAllowSelfSigned&&(m.rejectUnauthorized=!1),new Promise(((t,r)=>{const s=async t=>{if(t&&"DEPTH_ZERO_SELF_SIGNED_CERT"===t.code)try{await u(e,{...n,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(e){e&&e.fingerprint256&&(t=new o(`Self-signed SSL certificate: ${e.fingerprint256}`,e.fingerprint256))}r(t)},l=(g?c:d).request(e,m,(o=>{o.on("error",s),(async()=>{try{t(await(async t=>{const r=t.statusCode;if(n.redirect&&300<=r&&r<400&&t.headers.location){if(10==n._redirectCount)throw new Error("Request failed. Too much redirects.");return n._redirectCount+=1,await u(y(e,t.headers.location),n)}if(n.expectStatusCode&&r!==n.expectStatusCode)throw t.resume(),new a(r);let s=[];for await(const e of t)s.push(e);let o=i.concat(s);const l=t.headers["content-encoding"];"br"===l&&(o=await p(f.brotliDecompress)(o)),"gzip"!==l&&"deflate"!==l||(o=await p(f.unzip)(o));const d=h(o,n.type);return n.full?{headers:t.headers,status:r,body:d}:d})(o))}catch(e){r(e)}})()}));l.on("error",s);const w=n.sslPinnedCertificates?.map((e=>_(e))),b=e=>{const t=_(e.getPeerCertificate()?.fingerprint256||"");if((t||!e.isSessionReused())&&!w.includes(t))return l.emit("error",new o(`Invalid SSL certificate: ${t} Expected: ${w}`,t)),l.abort()};n.sslPinnedCertificates&&l.on("socket",(e=>{e.listeners("secureConnect").map((e=>(e.name||"").replace("bound ",""))).includes("mfetchSecureConnect")||e.on("secureConnect",b.bind(null,e))})),n.keepAlive&&l.setNoDelay(!0),m.body&&l.write(m.body),l.end()}))}const d=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map((e=>e.toLowerCase()))),c=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map((e=>e.toLowerCase())));async function f(e,t){let r={...s,...t};const i=new Headers;"json"===r.type&&i.set("Content-Type","application/json");let n=new URL(e);if(n.username){const e=btoa(`${n.username}:${n.password}`);i.set("Authorization",`Basic ${e}`),n.username="",n.password=""}e=""+n;for(let e in r.headers){const t=e.toLowerCase();(d.has(t)||r.cors&&!c.has(t))&&i.set(e,r.headers[e])}let o={headers:i,redirect:r.redirect?"follow":"manual"};r.referrer||(o.referrerPolicy="no-referrer"),r.cors&&(o.mode="cors"),r.data&&(r.method||(o.method="POST"),o.body="json"===r.type?JSON.stringify(r.data):r.data);const l=await fetch(e,o);if(r.expectStatusCode&&l.status!==r.expectStatusCode)throw new a(l.status);const u=h(new Uint8Array(await l.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(l.headers.entries()),status:l.status,body:u}:u}const p=!!("object"==typeof n&&n.versions&&n.versions.node&&n.versions.v8);t.default=function(e,t){return(p?u:f)(e,t)}},49761:(e,t)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+i),n);else for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){var t,r,i,n,s,o;for(i=0,t=0,r=e.length;t<r;t++)i+=e[t].length;for(o=new Uint8Array(i),n=0,t=0,r=e.length;t<r;t++)s=e[t],o.set(s,n),n+=s.length;return o}},s={arraySet:function(e,t,r,i,n){for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},95562:e=>{"use strict";e.exports=function(e,t,r,i){for(var n=65535&e|0,s=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{s=s+(n=n+t[i++]|0)|0}while(--o);n%=65521,s%=65521}return n|s<<16|0}},91271:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},24299:e=>{"use strict";var t=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,r,i,n){var s=t,o=n+i;e^=-1;for(var a=n;a<o;a++)e=e>>>8^s[255&(e^r[a])];return-1^e}},75789:(e,t,r)=>{"use strict";var i,n=r(49761),s=r(69564),o=r(95562),a=r(24299),h=r(82950),l=-2,u=258,d=262,c=103,f=113,p=666;function y(e,t){return e.msg=h[t],t}function g(e){return(e<<1)-(e>4?9:0)}function m(e){for(var t=e.length;--t>=0;)e[t]=0}function _(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(n.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function w(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_(e.strm)}function b(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function T(e,t){var r,i,n=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,h=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,l=e.window,c=e.w_mask,f=e.prev,p=e.strstart+u,y=l[s+o-1],g=l[s+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(r=t)+o]===g&&l[r+o-1]===y&&l[r]===l[s]&&l[++r]===l[s+1]){s+=2,r++;do{}while(l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&s<p);if(i=u-(p-s),s=p-u,i>o){if(e.match_start=t,o=i,i>=a)break;y=l[s+o-1],g=l[s+o]}}}while((t=f[t&c])>h&&0!=--n);return o<=e.lookahead?o:e.lookahead}function E(e){var t,r,i,s,h,l,u,c,f,p,y=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=y+(y-d)){n.arraySet(e.window,e.window,y,y,0),e.match_start-=y,e.strstart-=y,e.block_start-=y,t=r=e.hash_size;do{i=e.head[--t],e.head[t]=i>=y?i-y:0}while(--r);t=r=y;do{i=e.prev[--t],e.prev[t]=i>=y?i-y:0}while(--r);s+=y}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,c=e.strstart+e.lookahead,f=s,p=void 0,(p=l.avail_in)>f&&(p=f),r=0===p?0:(l.avail_in-=p,n.arraySet(u,l.input,l.next_in,p,c),1===l.state.wrap?l.adler=o(l.adler,u,p,c):2===l.state.wrap&&(l.adler=a(l.adler,u,p,c)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(h=e.strstart-e.insert,e.ins_h=e.window[h],e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+3-1])&e.hash_mask,e.prev[h&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=h,h++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function B(e,t){for(var r,i;;){if(e.lookahead<d){if(E(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-d&&(e.match_length=T(e,r)),e.match_length>=3)if(i=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}function N(e,t){for(var r,i,n;;){if(e.lookahead<d){if(E(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-d&&(e.match_length=T(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,i=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(w(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=s._tr_tally(e,0,e.window[e.strstart-1]))&&w(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}function S(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):y(e,l)}function k(e){var t,r=x(e);return 0===r&&((t=e.state).window_size=2*t.w_size,m(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function L(e,t,r,i,s,o){if(!e)return l;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),s<1||s>9||8!==r||i<8||i>15||t<0||t>9||o<0||o>4)return y(e,l);8===i&&(i=9);var h=new A;return e.state=h,h.strm=e,h.wrap=a,h.gzhead=null,h.w_bits=i,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=s+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new n.Buf8(2*h.w_size),h.head=new n.Buf16(h.hash_size),h.prev=new n.Buf16(h.w_size),h.lit_bufsize=1<<s+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new n.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=t,h.strategy=o,h.method=r,k(e)}i=[new S(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(E(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,w(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(w(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(w(e,!1),e.strm.avail_out),1)})),new S(4,4,8,4,B),new S(4,5,16,8,B),new S(4,6,32,32,B),new S(4,4,16,16,N),new S(8,16,32,32,N),new S(8,16,128,128,N),new S(8,32,128,256,N),new S(32,128,258,1024,N),new S(32,258,258,4096,N)],t.deflateInit=function(e,t){return L(e,t,8,15,8,0)},t.deflateInit2=L,t.deflateReset=k,t.deflateResetKeep=x,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var r,n,o,h;if(!e||!e.state||t>5||t<0)return e?y(e,l):l;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===p&&4!==t)return y(e,0===e.avail_out?-5:l);if(n.strm=e,r=n.last_flush,n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,b(n,31),b(n,139),b(n,8),n.gzhead?(b(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),b(n,255&n.gzhead.time),b(n,n.gzhead.time>>8&255),b(n,n.gzhead.time>>16&255),b(n,n.gzhead.time>>24&255),b(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),b(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(b(n,255&n.gzhead.extra.length),b(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=a(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(b(n,0),b(n,0),b(n,0),b(n,0),b(n,0),b(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),b(n,3),n.status=f);else{var d=8+(n.w_bits-8<<4)<<8;d|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(d|=32),d+=31-d%31,n.status=f,v(n,d),0!==n.strstart&&(v(n,e.adler>>>16),v(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),_(e),o=n.pending,n.pending!==n.pending_buf_size));)b(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),_(e),o=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,b(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),0===h&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),_(e),o=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,b(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),0===h&&(n.status=c)}else n.status=c;if(n.status===c&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&_(e),n.pending+2<=n.pending_buf_size&&(b(n,255&e.adler),b(n,e.adler>>8&255),e.adler=0,n.status=f)):n.status=f),0!==n.pending){if(_(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(r)&&4!==t)return y(e,-5);if(n.status===p&&0!==e.avail_in)return y(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&n.status!==p){var T=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(E(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){for(var r,i,n,o,a=e.window;;){if(e.lookahead<=u){if(E(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[n=e.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){o=e.strstart+u;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<o);e.match_length=u-(o-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}(n,t):i[n.level].func(n,t);if(3!==T&&4!==T||(n.status=p),1===T||3===T)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===T&&(1===t?s._tr_align(n):5!==t&&(s._tr_stored_block(n,0,0,!1),3===t&&(m(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),_(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(b(n,255&e.adler),b(n,e.adler>>8&255),b(n,e.adler>>16&255),b(n,e.adler>>24&255),b(n,255&e.total_in),b(n,e.total_in>>8&255),b(n,e.total_in>>16&255),b(n,e.total_in>>24&255)):(v(n,e.adler>>>16),v(n,65535&e.adler)),_(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==c&&t!==f&&t!==p?y(e,l):(e.state=null,t===f?y(e,-3):0):l},t.deflateSetDictionary=function(e,t){var r,i,s,a,h,u,d,c,f=t.length;if(!e||!e.state)return l;if(2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return l;for(1===a&&(e.adler=o(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(m(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new n.Buf8(r.w_size),n.arraySet(c,t,f-r.w_size,r.w_size,0),t=c,f=r.w_size),h=e.avail_in,u=e.next_in,d=e.input,e.avail_in=f,e.next_in=0,e.input=t,E(r);r.lookahead>=3;){i=r.strstart,s=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+3-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--s);r.strstart=i,r.lookahead=2,E(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=d,e.avail_in=h,r.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},24980:e=>{"use strict";e.exports=function(e,t){var r,i,n,s,o,a,h,l,u,d,c,f,p,y,g,m,_,w,b,v,T,E,B,N,S;r=e.state,i=e.next_in,N=e.input,n=i+(e.avail_in-5),s=e.next_out,S=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),h=r.dmax,l=r.wsize,u=r.whave,d=r.wnext,c=r.window,f=r.hold,p=r.bits,y=r.lencode,g=r.distcode,m=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{p<15&&(f+=N[i++]<<p,p+=8,f+=N[i++]<<p,p+=8),w=y[f&m];t:for(;;){if(f>>>=b=w>>>24,p-=b,0==(b=w>>>16&255))S[s++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=y[(65535&w)+(f&(1<<b)-1)];continue t}if(32&b){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}v=65535&w,(b&=15)&&(p<b&&(f+=N[i++]<<p,p+=8),v+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=N[i++]<<p,p+=8,f+=N[i++]<<p,p+=8),w=g[f&_];r:for(;;){if(f>>>=b=w>>>24,p-=b,!(16&(b=w>>>16&255))){if(0==(64&b)){w=g[(65535&w)+(f&(1<<b)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(T=65535&w,p<(b&=15)&&(f+=N[i++]<<p,(p+=8)<b&&(f+=N[i++]<<p,p+=8)),(T+=f&(1<<b)-1)>h){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=b,p-=b,T>(b=s-o)){if((b=T-b)>u&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(E=0,B=c,0===d){if(E+=l-b,b<v){v-=b;do{S[s++]=c[E++]}while(--b);E=s-T,B=S}}else if(d<b){if(E+=l+d-b,(b-=d)<v){v-=b;do{S[s++]=c[E++]}while(--b);if(E=0,d<v){v-=b=d;do{S[s++]=c[E++]}while(--b);E=s-T,B=S}}}else if(E+=d-b,b<v){v-=b;do{S[s++]=c[E++]}while(--b);E=s-T,B=S}for(;v>2;)S[s++]=B[E++],S[s++]=B[E++],S[s++]=B[E++],v-=3;v&&(S[s++]=B[E++],v>1&&(S[s++]=B[E++]))}else{E=s-T;do{S[s++]=S[E++],S[s++]=S[E++],S[s++]=S[E++],v-=3}while(v>2);v&&(S[s++]=S[E++],v>1&&(S[s++]=S[E++]))}break}}break}}while(i<n&&s<a);i-=v=p>>3,f&=(1<<(p-=v<<3))-1,e.next_in=i,e.next_out=s,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=s<a?a-s+257:257-(s-a),r.hold=f,r.bits=p}},21075:(e,t,r)=>{"use strict";var i=r(49761),n=r(95562),s=r(24299),o=r(24980),a=r(50881),h=-2,l=12,u=30;function d(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):h}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):h}function y(e,t){var r,i;return e&&e.state?(i=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?h:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,p(e))):h}function g(e,t){var r,i;return e?(i=new c,e.state=i,i.window=null,0!==(r=y(e,t))&&(e.state=null),r):h}var m,_,w=!0;function b(e){if(w){var t;for(m=new i.Buf32(512),_=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,_,0,e.work,{bits:5}),w=!1}e.lencode=m,e.lenbits=9,e.distcode=_,e.distbits=5}function v(e,t,r,n){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),n>=o.wsize?(i.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>n&&(s=n),i.arraySet(o.window,t,r-n,s,o.wnext),(n-=s)?(i.arraySet(o.window,t,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}t.inflateReset=p,t.inflateReset2=y,t.inflateResetKeep=f,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var r,c,f,p,y,g,m,_,w,T,E,B,N,S,A,x,k,L,z,C,O,R,P,I,D=0,U=new i.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;(r=e.state).mode===l&&(r.mode=13),y=e.next_out,f=e.output,m=e.avail_out,p=e.next_in,c=e.input,g=e.avail_in,_=r.hold,w=r.bits,T=g,E=m,R=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;w<16;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if(2&r.wrap&&35615===_){r.check=0,U[0]=255&_,U[1]=_>>>8&255,r.check=s(r.check,U,2,0),_=0,w=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&_)<<8)+(_>>8))%31){e.msg="incorrect header check",r.mode=u;break}if(8!=(15&_)){e.msg="unknown compression method",r.mode=u;break}if(w-=4,O=8+(15&(_>>>=4)),0===r.wbits)r.wbits=O;else if(O>r.wbits){e.msg="invalid window size",r.mode=u;break}r.dmax=1<<O,e.adler=r.check=1,r.mode=512&_?10:l,_=0,w=0;break;case 2:for(;w<16;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if(r.flags=_,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=u;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=u;break}r.head&&(r.head.text=_>>8&1),512&r.flags&&(U[0]=255&_,U[1]=_>>>8&255,r.check=s(r.check,U,2,0)),_=0,w=0,r.mode=3;case 3:for(;w<32;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}r.head&&(r.head.time=_),512&r.flags&&(U[0]=255&_,U[1]=_>>>8&255,U[2]=_>>>16&255,U[3]=_>>>24&255,r.check=s(r.check,U,4,0)),_=0,w=0,r.mode=4;case 4:for(;w<16;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}r.head&&(r.head.xflags=255&_,r.head.os=_>>8),512&r.flags&&(U[0]=255&_,U[1]=_>>>8&255,r.check=s(r.check,U,2,0)),_=0,w=0,r.mode=5;case 5:if(1024&r.flags){for(;w<16;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}r.length=_,r.head&&(r.head.extra_len=_),512&r.flags&&(U[0]=255&_,U[1]=_>>>8&255,r.check=s(r.check,U,2,0)),_=0,w=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((B=r.length)>g&&(B=g),B&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,c,p,B,O)),512&r.flags&&(r.check=s(r.check,c,B,p)),g-=B,p+=B,r.length-=B),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break e;B=0;do{O=c[p+B++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O))}while(O&&B<g);if(512&r.flags&&(r.check=s(r.check,c,B,p)),g-=B,p+=B,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break e;B=0;do{O=c[p+B++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O))}while(O&&B<g);if(512&r.flags&&(r.check=s(r.check,c,B,p)),g-=B,p+=B,O)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;w<16;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if(_!==(65535&r.check)){e.msg="header crc mismatch",r.mode=u;break}_=0,w=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=l;break;case 10:for(;w<32;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}e.adler=r.check=d(_),_=0,w=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=y,e.avail_out=m,e.next_in=p,e.avail_in=g,r.hold=_,r.bits=w,2;e.adler=r.check=1,r.mode=l;case l:if(5===t||6===t)break e;case 13:if(r.last){_>>>=7&w,w-=7&w,r.mode=27;break}for(;w<3;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}switch(r.last=1&_,w-=1,3&(_>>>=1)){case 0:r.mode=14;break;case 1:if(b(r),r.mode=20,6===t){_>>>=2,w-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=u}_>>>=2,w-=2;break;case 14:for(_>>>=7&w,w-=7&w;w<32;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if((65535&_)!=(_>>>16^65535)){e.msg="invalid stored block lengths",r.mode=u;break}if(r.length=65535&_,_=0,w=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(B=r.length){if(B>g&&(B=g),B>m&&(B=m),0===B)break e;i.arraySet(f,c,p,B,y),g-=B,p+=B,m-=B,y+=B,r.length-=B;break}r.mode=l;break;case 17:for(;w<14;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if(r.nlen=257+(31&_),_>>>=5,w-=5,r.ndist=1+(31&_),_>>>=5,w-=5,r.ncode=4+(15&_),_>>>=4,w-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=u;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;w<3;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}r.lens[M[r.have++]]=7&_,_>>>=3,w-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,P={bits:r.lenbits},R=a(0,r.lens,0,19,r.lencode,0,r.work,P),r.lenbits=P.bits,R){e.msg="invalid code lengths set",r.mode=u;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;x=(D=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,k=65535&D,!((A=D>>>24)<=w);){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if(k<16)_>>>=A,w-=A,r.lens[r.have++]=k;else{if(16===k){for(I=A+2;w<I;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if(_>>>=A,w-=A,0===r.have){e.msg="invalid bit length repeat",r.mode=u;break}O=r.lens[r.have-1],B=3+(3&_),_>>>=2,w-=2}else if(17===k){for(I=A+3;w<I;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}w-=A,O=0,B=3+(7&(_>>>=A)),_>>>=3,w-=3}else{for(I=A+7;w<I;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}w-=A,O=0,B=11+(127&(_>>>=A)),_>>>=7,w-=7}if(r.have+B>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=u;break}for(;B--;)r.lens[r.have++]=O}}if(r.mode===u)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=u;break}if(r.lenbits=9,P={bits:r.lenbits},R=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,P),r.lenbits=P.bits,R){e.msg="invalid literal/lengths set",r.mode=u;break}if(r.distbits=6,r.distcode=r.distdyn,P={bits:r.distbits},R=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,P),r.distbits=P.bits,R){e.msg="invalid distances set",r.mode=u;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(g>=6&&m>=258){e.next_out=y,e.avail_out=m,e.next_in=p,e.avail_in=g,r.hold=_,r.bits=w,o(e,E),y=e.next_out,f=e.output,m=e.avail_out,p=e.next_in,c=e.input,g=e.avail_in,_=r.hold,w=r.bits,r.mode===l&&(r.back=-1);break}for(r.back=0;x=(D=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,k=65535&D,!((A=D>>>24)<=w);){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if(x&&0==(240&x)){for(L=A,z=x,C=k;x=(D=r.lencode[C+((_&(1<<L+z)-1)>>L)])>>>16&255,k=65535&D,!(L+(A=D>>>24)<=w);){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}_>>>=L,w-=L,r.back+=L}if(_>>>=A,w-=A,r.back+=A,r.length=k,0===x){r.mode=26;break}if(32&x){r.back=-1,r.mode=l;break}if(64&x){e.msg="invalid literal/length code",r.mode=u;break}r.extra=15&x,r.mode=22;case 22:if(r.extra){for(I=r.extra;w<I;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}r.length+=_&(1<<r.extra)-1,_>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;x=(D=r.distcode[_&(1<<r.distbits)-1])>>>16&255,k=65535&D,!((A=D>>>24)<=w);){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if(0==(240&x)){for(L=A,z=x,C=k;x=(D=r.distcode[C+((_&(1<<L+z)-1)>>L)])>>>16&255,k=65535&D,!(L+(A=D>>>24)<=w);){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}_>>>=L,w-=L,r.back+=L}if(_>>>=A,w-=A,r.back+=A,64&x){e.msg="invalid distance code",r.mode=u;break}r.offset=k,r.extra=15&x,r.mode=24;case 24:if(r.extra){for(I=r.extra;w<I;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}r.offset+=_&(1<<r.extra)-1,_>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=u;break}r.mode=25;case 25:if(0===m)break e;if(B=E-m,r.offset>B){if((B=r.offset-B)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=u;break}B>r.wnext?(B-=r.wnext,N=r.wsize-B):N=r.wnext-B,B>r.length&&(B=r.length),S=r.window}else S=f,N=y-r.offset,B=r.length;B>m&&(B=m),m-=B,r.length-=B;do{f[y++]=S[N++]}while(--B);0===r.length&&(r.mode=21);break;case 26:if(0===m)break e;f[y++]=r.length,m--,r.mode=21;break;case 27:if(r.wrap){for(;w<32;){if(0===g)break e;g--,_|=c[p++]<<w,w+=8}if(E-=m,e.total_out+=E,r.total+=E,E&&(e.adler=r.check=r.flags?s(r.check,f,E,y-E):n(r.check,f,E,y-E)),E=m,(r.flags?_:d(_))!==r.check){e.msg="incorrect data check",r.mode=u;break}_=0,w=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;w<32;){if(0===g)break e;g--,_+=c[p++]<<w,w+=8}if(_!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=u;break}_=0,w=0}r.mode=29;case 29:R=1;break e;case u:R=-3;break e;case 31:return-4;default:return h}return e.next_out=y,e.avail_out=m,e.next_in=p,e.avail_in=g,r.hold=_,r.bits=w,(r.wsize||E!==e.avail_out&&r.mode<u&&(r.mode<27||4!==t))&&v(e,e.output,e.next_out,E-e.avail_out)?(r.mode=31,-4):(T-=e.avail_in,E-=e.avail_out,e.total_in+=T,e.total_out+=E,r.total+=E,r.wrap&&E&&(e.adler=r.check=r.flags?s(r.check,f,E,e.next_out-E):n(r.check,f,E,e.next_out-E)),e.data_type=r.bits+(r.last?64:0)+(r.mode===l?128:0)+(20===r.mode||15===r.mode?256:0),(0===T&&0===E||4===t)&&0===R&&(R=-5),R)},t.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?h:(r.head=t,t.done=!1,0):h},t.inflateSetDictionary=function(e,t){var r,i=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?h:11===r.mode&&n(1,t,i,0)!==r.check?-3:v(e,t,i,i)?(r.mode=31,-4):(r.havedict=1,0):h},t.inflateInfo="pako inflate (from Nodeca project)"},50881:(e,t,r)=>{"use strict";var i=r(49761),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,h,l,u,d,c){var f,p,y,g,m,_,w,b,v,T=c.bits,E=0,B=0,N=0,S=0,A=0,x=0,k=0,L=0,z=0,C=0,O=null,R=0,P=new i.Buf16(16),I=new i.Buf16(16),D=null,U=0;for(E=0;E<=15;E++)P[E]=0;for(B=0;B<h;B++)P[t[r+B]]++;for(A=T,S=15;S>=1&&0===P[S];S--);if(A>S&&(A=S),0===S)return l[u++]=20971520,l[u++]=20971520,c.bits=1,0;for(N=1;N<S&&0===P[N];N++);for(A<N&&(A=N),L=1,E=1;E<=15;E++)if(L<<=1,(L-=P[E])<0)return-1;if(L>0&&(0===e||1!==S))return-1;for(I[1]=0,E=1;E<15;E++)I[E+1]=I[E]+P[E];for(B=0;B<h;B++)0!==t[r+B]&&(d[I[t[r+B]]++]=B);if(0===e?(O=D=d,_=19):1===e?(O=n,R-=257,D=s,U-=257,_=256):(O=o,D=a,_=-1),C=0,B=0,E=N,m=u,x=A,k=0,y=-1,g=(z=1<<A)-1,1===e&&z>852||2===e&&z>592)return 1;for(;;){w=E-k,d[B]<_?(b=0,v=d[B]):d[B]>_?(b=D[U+d[B]],v=O[R+d[B]]):(b=96,v=0),f=1<<E-k,N=p=1<<x;do{l[m+(C>>k)+(p-=f)]=w<<24|b<<16|v|0}while(0!==p);for(f=1<<E-1;C&f;)f>>=1;if(0!==f?(C&=f-1,C+=f):C=0,B++,0==--P[E]){if(E===S)break;E=t[r+d[B]]}if(E>A&&(C&g)!==y){for(0===k&&(k=A),m+=N,L=1<<(x=E-k);x+k<S&&!((L-=P[x+k])<=0);)x++,L<<=1;if(z+=1<<x,1===e&&z>852||2===e&&z>592)return 1;l[y=C&g]=A<<24|x<<16|m-u|0}}return 0!==C&&(l[m+C]=E-k<<24|64<<16|0),c.bits=A,0}},82950:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},69564:(e,t,r)=>{"use strict";var i=r(49761);function n(e){for(var t=e.length;--t>=0;)e[t]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);n(l);var u=new Array(60);n(u);var d=new Array(512);n(d);var c=new Array(256);n(c);var f=new Array(29);n(f);var p,y,g,m=new Array(30);function _(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?d[e]:d[256+(e>>>7)]}function v(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function T(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,v(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function E(e,t,r){T(e,r[2*t],r[2*t+1])}function B(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function N(e,t,r){var i,n,s=new Array(16),o=0;for(i=1;i<=15;i++)s[i]=o=o+r[i-1]<<1;for(n=0;n<=t;n++){var a=e[2*n+1];0!==a&&(e[2*n]=B(s[a]++,a))}}function S(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function A(e){e.bi_valid>8?v(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function x(e,t,r,i){var n=2*t,s=2*r;return e[n]<e[s]||e[n]===e[s]&&i[t]<=i[r]}function k(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&x(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!x(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function L(e,t,r){var i,n,a,h,l=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],n=e.pending_buf[e.l_buf+l],l++,0===i?E(e,n,t):(E(e,(a=c[n])+256+1,t),0!==(h=s[a])&&T(e,n-=f[a],h),E(e,a=b(--i),r),0!==(h=o[a])&&T(e,i-=m[a],h))}while(l<e.last_lit);E(e,256,t)}function z(e,t){var r,i,n,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,h=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(n=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[n]=0,e.opt_len--,a&&(e.static_len-=o[2*n+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)k(e,s,r);n=h;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],k(e,s,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,s[2*n]=s[2*r]+s[2*i],e.depth[n]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,s[2*r+1]=s[2*i+1]=n,e.heap[1]=n++,k(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,i,n,s,o,a,h=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,y=0;for(s=0;s<=15;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(s=h[2*h[2*(i=e.heap[r])+1]+1]+1)>p&&(s=p,y++),h[2*i+1]=s,i>l||(e.bl_count[s]++,o=0,i>=f&&(o=c[i-f]),a=h[2*i],e.opt_len+=a*(s+o),d&&(e.static_len+=a*(u[2*i+1]+o)));if(0!==y){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,y-=2}while(y>0);for(s=p;0!==s;s--)for(i=e.bl_count[s];0!==i;)(n=e.heap[--r])>l||(h[2*n+1]!==s&&(e.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),i--)}}(e,t),N(s,l,e.bl_count)}function C(e,t,r){var i,n,s=-1,o=t[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)n=o,o=t[2*(i+1)+1],++a<h&&n===o||(a<l?e.bl_tree[2*n]+=a:0!==n?(n!==s&&e.bl_tree[2*n]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=n,0===o?(h=138,l=3):n===o?(h=6,l=3):(h=7,l=4))}function O(e,t,r){var i,n,s=-1,o=t[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),i=0;i<=r;i++)if(n=o,o=t[2*(i+1)+1],!(++a<h&&n===o)){if(a<l)do{E(e,n,e.bl_tree)}while(0!=--a);else 0!==n?(n!==s&&(E(e,n,e.bl_tree),a--),E(e,16,e.bl_tree),T(e,a-3,2)):a<=10?(E(e,17,e.bl_tree),T(e,a-3,3)):(E(e,18,e.bl_tree),T(e,a-11,7));a=0,s=n,0===o?(h=138,l=3):n===o?(h=6,l=3):(h=7,l=4)}}n(m);var R=!1;function P(e,t,r,n){T(e,0+(n?1:0),3),function(e,t,r,n){A(e),v(e,r),v(e,~r),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}t._tr_init=function(e){R||(function(){var e,t,r,i,n,h=new Array(16);for(r=0,i=0;i<28;i++)for(f[i]=r,e=0;e<1<<s[i];e++)c[r++]=i;for(c[r-1]=i,n=0,i=0;i<16;i++)for(m[i]=n,e=0;e<1<<o[i];e++)d[n++]=i;for(n>>=7;i<30;i++)for(m[i]=n<<7,e=0;e<1<<o[i]-7;e++)d[256+n++]=i;for(t=0;t<=15;t++)h[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,h[8]++;for(;e<=255;)l[2*e+1]=9,e++,h[9]++;for(;e<=279;)l[2*e+1]=7,e++,h[7]++;for(;e<=287;)l[2*e+1]=8,e++,h[8]++;for(N(l,287,h),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=B(e,5);p=new _(l,s,257,286,15),y=new _(u,o,0,30,15),g=new _(new Array(0),a,0,19,7)}(),R=!0),e.l_desc=new w(e.dyn_ltree,p),e.d_desc=new w(e.dyn_dtree,y),e.bl_desc=new w(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,S(e)},t._tr_stored_block=P,t._tr_flush_block=function(e,t,r,i){var n,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),z(e,e.l_desc),z(e,e.d_desc),o=function(e){var t;for(C(e,e.dyn_ltree,e.l_desc.max_code),C(e,e.dyn_dtree,e.d_desc.max_code),z(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),n=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==t?P(e,t,r,i):4===e.strategy||s===n?(T(e,2+(i?1:0),3),L(e,l,u)):(T(e,4+(i?1:0),3),function(e,t,r,i){var n;for(T(e,t-257,5),T(e,r-1,5),T(e,i-4,4),n=0;n<i;n++)T(e,e.bl_tree[2*h[n]+1],3);O(e,e.dyn_ltree,t-1),O(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),L(e,e.dyn_ltree,e.dyn_dtree)),S(e),i&&A(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(c[r]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){T(e,2,3),E(e,256,l),function(e){16===e.bi_valid?(v(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},20744:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},23439:(e,t,r)=>{var i=r(43224),n=r(49591),s=r(51960),o=r(26744),a=r(883),h=t;h.request=function(e,t){e="string"==typeof e?a.parse(e):s(e);var n=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",o=e.protocol||n,h=e.hostname||e.host,l=e.port,u=e.path||"/";h&&-1!==h.indexOf(":")&&(h="["+h+"]"),e.url=(h?o+"//"+h:"")+(l?":"+l:"")+u,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var d=new i(e);return t&&d.on("response",t),d},h.get=function(e,t){var r=h.request(e,t);return r.end(),r},h.ClientRequest=i,h.IncomingMessage=n.IncomingMessage,h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.globalAgent=new h.Agent,h.STATUS_CODES=o,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},19633:(e,t,r)=>{var i;function n(){if(void 0!==i)return i;if(r.g.XMLHttpRequest){i=new r.g.XMLHttpRequest;try{i.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(e){i=null}}else i=null;return i}function s(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function o(e){return"function"==typeof e}t.fetch=o(r.g.fetch)&&o(r.g.ReadableStream),t.writableStream=o(r.g.WritableStream),t.abortController=o(r.g.AbortController),t.arraybuffer=t.fetch||s("arraybuffer"),t.msstream=!t.fetch&&s("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&s("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&o(n().overrideMimeType),i=null},43224:(e,t,r)=>{var i=r(48834).Buffer,n=r(34406),s=r(19633),o=r(91285),a=r(49591),h=r(27669),l=a.IncomingMessage,u=a.readyStates,d=e.exports=function(e){var t,r=this;h.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+i.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!s.abortController)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!s.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return s.fetch&&t?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&e?"arraybuffer":"text"}(t,n),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};o(d,h.Writable),d.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===c.indexOf(r)&&(this._headers[r]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var i=e._headers,o=null;"GET"!==t.method&&"HEAD"!==t.method&&(o=new Blob(e._body,{type:(i["content-type"]||{}).value||""}));var a=[];if(Object.keys(i).forEach((function(e){var t=i[e].name,r=i[e].value;Array.isArray(r)?r.forEach((function(e){a.push([t,e])})):a.push([t,r])})),"fetch"===e._mode){var h=null;if(s.abortController){var l=new AbortController;h=l.signal,e._fetchAbortController=l,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}r.g.fetch(e._opts.url,{method:e._opts.method,headers:a,body:o||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:h}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var d=e._xhr=new r.g.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void n.nextTick((function(){e.emit("error",t)}))}"responseType"in d&&(d.responseType=e._mode),"withCredentials"in d&&(d.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(d.timeout=t.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),a.forEach((function(e){d.setRequestHeader(e[0],e[1])})),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case u.LOADING:case u.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{d.send(o)}catch(t){return void n.nextTick((function(){e.emit("error",t)}))}}}},d.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},d.prototype._write=function(e,t,r){this._body.push(e),r()},d.prototype._resetTimers=function(e){var t=this;r.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(r.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=r.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},d.prototype.abort=d.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},d.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),h.Writable.prototype.end.call(this,e,t,r)},d.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)},d.prototype.flushHeaders=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},49591:(e,t,r)=>{var i=r(34406),n=r(48834).Buffer,s=r(19633),o=r(91285),a=r(27669),h=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(e,t,r,o){var h=this;if(a.Readable.call(h),h._mode=r,h.headers={},h.rawHeaders=[],h.trailers={},h.rawTrailers=[],h.on("end",(function(){i.nextTick((function(){h.emit("close")}))})),"fetch"===r){if(h._fetchResponse=t,h.url=t.url,h.statusCode=t.status,h.statusMessage=t.statusText,t.headers.forEach((function(e,t){h.headers[t.toLowerCase()]=e,h.rawHeaders.push(t,e)})),s.writableStream){var l=new WritableStream({write:function(e){return o(!1),new Promise((function(t,r){h._destroyed?r():h.push(n.from(e))?t():h._resumeFetch=t}))},close:function(){o(!0),h._destroyed||h.push(null)},abort:function(e){o(!0),h._destroyed||h.emit("error",e)}});try{return void t.body.pipeTo(l).catch((function(e){o(!0),h._destroyed||h.emit("error",e)}))}catch(e){}}var u=t.body.getReader();!function e(){u.read().then((function(t){h._destroyed||(o(t.done),t.done?h.push(null):(h.push(n.from(t.value)),e()))})).catch((function(e){o(!0),h._destroyed||h.emit("error",e)}))}()}else if(h._xhr=e,h._pos=0,h.url=e.responseURL,h.statusCode=e.status,h.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===h.headers[r]&&(h.headers[r]=[]),h.headers[r].push(t[2])):void 0!==h.headers[r]?h.headers[r]+=", "+t[2]:h.headers[r]=t[2],h.rawHeaders.push(t[1],t[2])}})),h._charset="x-user-defined",!s.overrideMimeType){var d=h.rawHeaders["mime-type"];if(d){var c=d.match(/;\s*charset=([^;])(;|$)/);c&&(h._charset=c[1].toLowerCase())}h._charset||(h._charset="utf-8")}};o(l,a.Readable),l.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},l.prototype._onXHRProgress=function(e){var t=this,i=t._xhr,s=null;switch(t._mode){case"text":if((s=i.responseText).length>t._pos){var o=s.substr(t._pos);if("x-user-defined"===t._charset){for(var a=n.alloc(o.length),l=0;l<o.length;l++)a[l]=255&o.charCodeAt(l);t.push(a)}else t.push(o,t._charset);t._pos=s.length}break;case"arraybuffer":if(i.readyState!==h.DONE||!i.response)break;s=i.response,t.push(n.from(new Uint8Array(s)));break;case"moz-chunked-arraybuffer":if(s=i.response,i.readyState!==h.LOADING||!s)break;t.push(n.from(new Uint8Array(s)));break;case"ms-stream":if(s=i.response,i.readyState!==h.LOADING)break;var u=new r.g.MSStreamReader;u.onprogress=function(){u.result.byteLength>t._pos&&(t.push(n.from(new Uint8Array(u.result.slice(t._pos)))),t._pos=u.result.byteLength)},u.onload=function(){e(!0),t.push(null)},u.readAsArrayBuffer(s)}t._xhr.readyState===h.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},96308:e=>{"use strict";var t={};function r(e,r,i){i||(i=Error);var n=function(e){var t,i;function n(t,i,n){return e.call(this,function(e,t,i){return"string"==typeof r?r:r(e,t,i)}(t,i,n))||this}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n}(i);n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,s,o,a,h;if("string"==typeof t&&(s="not ",t.substr(0,s.length)===s)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var l=("number"!=typeof h&&(h=0),h+".".length>(a=e).length||-1===a.indexOf(".",h)?"argument":"property");o='The "'.concat(e,'" ').concat(l," ").concat(n," ").concat(i(t,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},13168:(e,t,r)=>{"use strict";var i=r(34406),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var s=r(41975),o=r(70437);r(91285)(u,s);for(var a=n(o.prototype),h=0;h<a.length;h++){var l=a[h];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(c,this)}function c(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},584:(e,t,r)=>{"use strict";e.exports=n;var i=r(77863);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(91285)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},41975:(e,t,r)=>{"use strict";var i,n=r(34406);e.exports=N,N.ReadableState=B,r(22699).EventEmitter;var s,o=function(e,t){return e.listeners(t).length},a=r(62233),h=r(48834).Buffer,l=r.g.Uint8Array||function(){},u=r(57017);s=u&&u.debuglog?u.debuglog("stream"):function(){};var d,c,f,p=r(30711),y=r(37612),g=r(57241).getHighWaterMark,m=r(96308).q,_=m.ERR_INVALID_ARG_TYPE,w=m.ERR_STREAM_PUSH_AFTER_EOF,b=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(91285)(N,a);var T=y.errorOrDestroy,E=["error","close","destroy","pause","resume"];function B(e,t,n){i=i||r(13168),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(30214).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function N(e){if(i=i||r(13168),!(this instanceof N))return new N(e);var t=this instanceof i;this._readableState=new B(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function S(e,t,r,i,n){s("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(s("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?L(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,z(e)))}}(e,a);else if(n||(o=function(e,t){var r,i;return i=t,h.isBuffer(i)||i instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),o)T(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===h.prototype||(t=function(e){return h.from(e)}(t)),i)a.endEmitted?T(e,new v):A(e,a,t,!0);else if(a.ended)T(e,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?A(e,a,t,!1):C(e,a)):A(e,a,t,!1)}else i||(a.reading=!1,C(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function A(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&L(e)),C(e,t)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),N.prototype.destroy=y.destroy,N.prototype._undestroy=y.undestroy,N.prototype._destroy=function(e,t){t(e)},N.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=h.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},N.prototype.unshift=function(e){return S(this,e,null,!0,!1)},N.prototype.isPaused=function(){return!1===this._readableState.flowing},N.prototype.setEncoding=function(e){d||(d=r(30214).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var x=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function L(e){var t=e._readableState;s("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(z,e))}function z(e){var t=e._readableState;s("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(s("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function R(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function P(e){s("readable nexttick read 0"),e.read(0)}function I(e,t){s("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(s("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function M(e){var t=e._readableState;s("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(V,t,e))}function V(e,t){if(s("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}N.prototype.read=function(e){s("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):L(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&M(this),null;var i,n=t.needReadable;return s("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",n=!0),t.ended||t.reading?s("reading or ended",n=!1):n&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(i=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==i&&this.emit("data",i),i},N.prototype._read=function(e){T(this,new b("_read()"))},N.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?y:h;function h(){s("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",(function t(n,o){s("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,s("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",l),e.removeListener("error",c),e.removeListener("unpipe",t),r.removeListener("end",h),r.removeListener("end",y),r.removeListener("data",d),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",l);var u=!1;function d(t){s("ondata");var n=e.write(t);s("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==F(i.pipes,e))&&!u&&(s("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function c(t){s("onerror",t),y(),e.removeListener("error",c),0===o(e,"error")&&T(e,t)}function f(){e.removeListener("finish",p),y()}function p(){s("onfinish"),e.removeListener("close",f),y()}function y(){s("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",c),e.once("close",f),e.once("finish",p),e.emit("pipe",r),i.flowing||(s("pipe resume"),r.resume()),e},N.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},N.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s("on readable",i.length,i.reading),i.length?L(this):i.reading||n.nextTick(P,this))),r},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(R,this),r},N.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(R,this),t},N.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(I,e,t))}(this,e)),e.paused=!1,this},N.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},N.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",(function(){if(s("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){s("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))})),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){s("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(N.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=r(13793)),c(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),N._fromList=U,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(N.from=function(e,t){return void 0===f&&(f=r(95457)),f(N,e,t)})},77863:(e,t,r)=>{"use strict";e.exports=u;var i=r(96308).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,h=r(13168);function l(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);h.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush((function(t,r){c(e,t,r)}))}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(91285)(u,h),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,h.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new n("_transform()"))},u.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){h.prototype._destroy.call(this,e,(function(e){t(e)}))}},70437:(e,t,r)=>{"use strict";var i,n=r(34406);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=N,N.WritableState=B;var o,a={deprecate:r(5803)},h=r(62233),l=r(48834).Buffer,u=r.g.Uint8Array||function(){},d=r(37612),c=r(57241).getHighWaterMark,f=r(96308).q,p=f.ERR_INVALID_ARG_TYPE,y=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,_=f.ERR_STREAM_DESTROYED,w=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,v=f.ERR_UNKNOWN_ENCODING,T=d.errorOrDestroy;function E(){}function B(e,t,o){i=i||r(13168),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=c(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if("function"!=typeof s)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,s){--t.pendingcb,r?(n.nextTick(s,i),n.nextTick(z,e,t),e._writableState.errorEmitted=!0,T(e,i)):(s(i),e._writableState.errorEmitted=!0,T(e,i),z(e,t))}(e,r,i,t,s);else{var o=k(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),i?n.nextTick(A,e,r,o,s):A(e,r,o,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function N(e){var t=this instanceof(i=i||r(13168));if(!t&&!o.call(N,this))return new N(e);this._writableState=new B(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function S(e,t,r,i,n,s,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function A(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),z(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,h=!0;r;)n[a]=r,r.isBuf||(h=!1),r=r.next,a+=1;n.allBuffers=h,S(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,d=r.callback;if(S(e,t,!1,t.objectMode?1:l.length,l,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function L(e,t){e._final((function(r){t.pendingcb--,r&&T(e,r),t.prefinished=!0,e.emit("prefinish"),z(e,t)}))}function z(e,t){var r=k(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(L,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(91285)(N,h),B.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(B.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===N&&e&&e._writableState instanceof B}})):o=function(e){return e instanceof this},N.prototype.pipe=function(){T(this,new m)},N.prototype.write=function(e,t,r){var i,s=this._writableState,o=!1,a=!s.objectMode&&(i=e,l.isBuffer(i)||i instanceof u);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=E),s.ending?function(e,t){var r=new b;T(e,r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var s;return null===r?s=new w:"string"==typeof r||t.objectMode||(s=new p("chunk",["string","Buffer"],r)),!s||(T(e,s),n.nextTick(i,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,r,i,n,s){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r)),t}(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=t.objectMode?1:i.length;t.length+=a;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,a,i,n,s);return h}(this,s,a,e,t,r)),o},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},N.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(e,t,r){r(new y("_write()"))},N.prototype._writev=null,N.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,z(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),N.prototype.destroy=d.destroy,N.prototype._undestroy=d.undestroy,N.prototype._destroy=function(e,t){t(e)}},13793:(e,t,r)=>{"use strict";var i,n=r(34406);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(92100),a=Symbol("lastResolve"),h=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function y(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[d]=null,e[a]=null,e[h]=null,t(p(r,!1)))}}function g(e){n.nextTick(y,e)}var m=Object.getPrototypeOf((function(){})),_=Object.setPrototypeOf((s(i={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[l]?r(e[l]):t(p(void 0,!0))}))}));var r,i=this[d];if(i)r=new Promise(function(e,t){return function(r,i){e.then((function(){t[u]?r(p(void 0,!0)):t[c](r,i)}),i)}}(i,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(p(s,!1));r=new Promise(this[c])}return this[d]=r,r}},Symbol.asyncIterator,(function(){return this})),s(i,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),i),m);e.exports=function(e){var t,r=Object.create(_,(s(t={},f,{value:e,writable:!0}),s(t,a,{value:null,writable:!0}),s(t,h,{value:null,writable:!0}),s(t,l,{value:null,writable:!0}),s(t,u,{value:e._readableState.endEmitted,writable:!0}),s(t,c,{value:function(e,t){var i=r[f].read();i?(r[d]=null,r[a]=null,r[h]=null,e(p(i,!1))):(r[a]=e,r[h]=t)},writable:!0}),t));return r[d]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[h];return null!==t&&(r[d]=null,r[a]=null,r[h]=null,t(e)),void(r[l]=e)}var i=r[a];null!==i&&(r[d]=null,r[a]=null,r[h]=null,i(p(void 0,!0))),r[u]=!0})),e.on("readable",g.bind(null,r)),r}},30711:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=r(48834).Buffer,a=r(60986).inspect,h=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,i,n=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=n,i=a,o.prototype.copy.call(t,r,i),a+=s.data.length,s=s.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,s=e>n.length?n.length:e;if(s===n.length?i+=n:i+=n.slice(0,e),0==(e-=s)){s===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(s));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,s=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,s),0==(e-=s)){s===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(s));break}++i}return this.length-=i,t}},{key:h,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&s(t.prototype,r),e}()},37612:(e,t,r)=>{"use strict";var i=r(34406);function n(e,t){o(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return a||h?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,e)):i.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(s,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t?(i.nextTick(s,r),t(e)):i.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},92100:(e,t,r)=>{"use strict";var i=r(96308).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}(s||n);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,h=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,o||s.call(t)},d=t._readableState&&t._readableState.endEmitted,c=function(){o=!1,d=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new i),s.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new i),s.call(t,e)):void 0},y=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",p),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",h),t.on("close",h)),t.on("end",c),t.on("finish",u),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",u),t.removeListener("end",h),t.removeListener("close",h),t.removeListener("finish",u),t.removeListener("end",c),t.removeListener("error",f),t.removeListener("close",p)}}},95457:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},23145:(e,t,r)=>{"use strict";var i,n=r(96308).q,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function h(e,t,n,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===i&&(i=r(92100)),i(e,{readable:t,writable:n},(function(e){if(e)return s(e);a=!0,s()}));var h=!1;return function(t){if(!a&&!h)return h=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,n=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return h(e,s,r>0,(function(e){i||(i=e),e&&o.forEach(l),s||(o.forEach(l),n(i))}))}));return t.reduce(u)}},57241:(e,t,r)=>{"use strict";var i=r(96308).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new i(n?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},62233:(e,t,r)=>{e.exports=r(22699).EventEmitter},27669:(e,t,r)=>{(t=e.exports=r(41975)).Stream=t,t.Readable=t,t.Writable=r(70437),t.Duplex=r(13168),t.Transform=r(77863),t.PassThrough=r(584),t.finished=r(92100),t.pipeline=r(23145)}}]);